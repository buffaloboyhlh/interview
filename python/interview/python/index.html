
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="整理和面试有关的资料">
      
      
        <meta name="author" content="buffalo">
      
      
      
        <link rel="prev" href="../../datastruct/">
      
      
        <link rel="next" href="../numpy/">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.34">
    
    
      
        <title>python面试 - 面试整理</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.35f28582.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../css/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="deep-orange">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#python" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../../.." title="面试整理" class="md-header__button md-logo" aria-label="面试整理" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            面试整理
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              python面试
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../basic/" class="md-tabs__link">
          
  
  Python

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../webs/django/basic/" class="md-tabs__link">
          
  
  web

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../database/mysql/sql/" class="md-tabs__link">
          
  
  数据库

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../middlewares/kafka/basic/" class="md-tabs__link">
          
  
  中间件

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../server/nginx/basic/" class="md-tabs__link">
          
  
  服务器

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../cloud/docker/basic/" class="md-tabs__link">
          
  
  云原生

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="https://juejin.cn/column/7098219195371880484" class="md-tabs__link">
          
  
  分布式

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../LLM/basic/" class="md-tabs__link">
          
  
  LLM

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../computers/system/" class="md-tabs__link">
          
  
  计算机基础

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="面试整理" class="md-nav__button md-logo" aria-label="面试整理" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    面试整理
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" checked>
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Python
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Python
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../basic/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    python基础
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../advance/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    python进阶
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../datastruct/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    数据结构和算法
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_4" checked>
        
          
          <label class="md-nav__link" for="__nav_1_4" id="__nav_1_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    面试
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1_4">
            <span class="md-nav__icon md-icon"></span>
            面试
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    python面试
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    python面试
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      字符串和字节对比
    </span>
  </a>
  
    <nav class="md-nav" aria-label="字符串和字节对比">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-str" class="md-nav__link">
    <span class="md-ellipsis">
      1. 字符串（str）
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. 字符串（str）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11" class="md-nav__link">
    <span class="md-ellipsis">
      1.1 定义
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12" class="md-nav__link">
    <span class="md-ellipsis">
      1.2 特性
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13" class="md-nav__link">
    <span class="md-ellipsis">
      1.3 操作示例
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-bytes" class="md-nav__link">
    <span class="md-ellipsis">
      2. 字节（bytes）
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. 字节（bytes）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21" class="md-nav__link">
    <span class="md-ellipsis">
      2.1 定义
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22" class="md-nav__link">
    <span class="md-ellipsis">
      2.2 特性
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23" class="md-nav__link">
    <span class="md-ellipsis">
      2.3 操作示例
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3" class="md-nav__link">
    <span class="md-ellipsis">
      3. 字符串和字节之间的转换
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. 字符串和字节之间的转换">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31" class="md-nav__link">
    <span class="md-ellipsis">
      3.1 从字符串转换为字节
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32" class="md-nav__link">
    <span class="md-ellipsis">
      3.2 从字节转换为字符串
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4" class="md-nav__link">
    <span class="md-ellipsis">
      4. 使用场景对比
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5" class="md-nav__link">
    <span class="md-ellipsis">
      5. 注意事项
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6" class="md-nav__link">
    <span class="md-ellipsis">
      6. 小结
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      面向对象的接口如何实现
    </span>
  </a>
  
    <nav class="md-nav" aria-label="面向对象的接口如何实现">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    <span class="md-ellipsis">
      1. 接口的概念
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-python" class="md-nav__link">
    <span class="md-ellipsis">
      2. 在 Python 中实现接口
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. 在 Python 中实现接口">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-abc" class="md-nav__link">
    <span class="md-ellipsis">
      2.1 使用 abc 模块定义接口
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22_1" class="md-nav__link">
    <span class="md-ellipsis">
      2.2 实现接口
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23_1" class="md-nav__link">
    <span class="md-ellipsis">
      2.3 抽象基类的实例化
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#24-abstractmethod" class="md-nav__link">
    <span class="md-ellipsis">
      2.4 使用 @abstractmethod 装饰器
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3_1" class="md-nav__link">
    <span class="md-ellipsis">
      3. 接口的意义和用途
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. 接口的意义和用途">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31_1" class="md-nav__link">
    <span class="md-ellipsis">
      3.1 解耦和扩展性
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32_1" class="md-nav__link">
    <span class="md-ellipsis">
      3.2 多态性
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33" class="md-nav__link">
    <span class="md-ellipsis">
      3.3 规范和文档化
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4_1" class="md-nav__link">
    <span class="md-ellipsis">
      4. 示例：动物接口
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-python-protocol" class="md-nav__link">
    <span class="md-ellipsis">
      5. 接口的替代方案：Python 协议（Protocol）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6_1" class="md-nav__link">
    <span class="md-ellipsis">
      6. 小结
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python_1" class="md-nav__link">
    <span class="md-ellipsis">
      Python 和 其他语言相比有什么区别？ 优势在哪里
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Python 和 其他语言相比有什么区别？ 优势在哪里">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1_1" class="md-nav__link">
    <span class="md-ellipsis">
      1. 语法简洁和易读性
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    <span class="md-ellipsis">
      2. 动态类型与灵活性
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3_2" class="md-nav__link">
    <span class="md-ellipsis">
      3. 丰富的标准库和第三方库
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4_2" class="md-nav__link">
    <span class="md-ellipsis">
      4. 跨平台特性
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5_1" class="md-nav__link">
    <span class="md-ellipsis">
      5. 解释性语言
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6_2" class="md-nav__link">
    <span class="md-ellipsis">
      6. 社区和生态系统
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7" class="md-nav__link">
    <span class="md-ellipsis">
      7. 适用场景广泛
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8" class="md-nav__link">
    <span class="md-ellipsis">
      8. 开发者生产力
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9" class="md-nav__link">
    <span class="md-ellipsis">
      9. 性能方面的考虑
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#10" class="md-nav__link">
    <span class="md-ellipsis">
      10. 结论
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python_2" class="md-nav__link">
    <span class="md-ellipsis">
      Python中类方法、类实例方法、静态方法有什么区别
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Python中类方法、类实例方法、静态方法有什么区别">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-instance-method" class="md-nav__link">
    <span class="md-ellipsis">
      1. 实例方法（Instance Method）
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. 实例方法（Instance Method）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      定义
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      绑定对象
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      用途
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      示例
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-class-method" class="md-nav__link">
    <span class="md-ellipsis">
      2. 类方法（Class Method）
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. 类方法（Class Method）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      定义
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      绑定对象
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      用途
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      示例
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-static-method" class="md-nav__link">
    <span class="md-ellipsis">
      3. 静态方法（Static Method）
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. 静态方法（Static Method）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    <span class="md-ellipsis">
      定义
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    <span class="md-ellipsis">
      绑定对象
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    <span class="md-ellipsis">
      用途
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    <span class="md-ellipsis">
      示例
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4_3" class="md-nav__link">
    <span class="md-ellipsis">
      4. 区别总结
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5_2" class="md-nav__link">
    <span class="md-ellipsis">
      5. 适用场景
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    <span class="md-ellipsis">
      如何实现单例
    </span>
  </a>
  
    <nav class="md-nav" aria-label="如何实现单例">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-__new__" class="md-nav__link">
    <span class="md-ellipsis">
      1. 使用类的 __new__ 方法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2_1" class="md-nav__link">
    <span class="md-ellipsis">
      2. 使用装饰器
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3_3" class="md-nav__link">
    <span class="md-ellipsis">
      3. 使用模块
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-metaclass" class="md-nav__link">
    <span class="md-ellipsis">
      4. 使用 metaclass
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-borg" class="md-nav__link">
    <span class="md-ellipsis">
      5. 使用 borg 模式
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python-gil" class="md-nav__link">
    <span class="md-ellipsis">
      Python 中的 GIL（全局解释器锁）是什么？
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Python 中的 GIL（全局解释器锁）是什么？">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#gil" class="md-nav__link">
    <span class="md-ellipsis">
      什么是 GIL（全局解释器锁）？
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gil_1" class="md-nav__link">
    <span class="md-ellipsis">
      为什么需要 GIL？
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gil_2" class="md-nav__link">
    <span class="md-ellipsis">
      GIL 的影响
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gil_3" class="md-nav__link">
    <span class="md-ellipsis">
      如何规避 GIL 的影响？
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    <span class="md-ellipsis">
      结论
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python_3" class="md-nav__link">
    <span class="md-ellipsis">
      Python 中的生成器和迭代器有什么区别？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    <span class="md-ellipsis">
      什么是装饰器？如何使用？
    </span>
  </a>
  
    <nav class="md-nav" aria-label="什么是装饰器？如何使用？">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    <span class="md-ellipsis">
      基本概念
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_19" class="md-nav__link">
    <span class="md-ellipsis">
      装饰器的基本结构
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_20" class="md-nav__link">
    <span class="md-ellipsis">
      装饰器的工作原理
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_21" class="md-nav__link">
    <span class="md-ellipsis">
      带参数的装饰器
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_22" class="md-nav__link">
    <span class="md-ellipsis">
      多个装饰器的使用
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_23" class="md-nav__link">
    <span class="md-ellipsis">
      内置装饰器
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_24" class="md-nav__link">
    <span class="md-ellipsis">
      装饰器的使用场景
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_25" class="md-nav__link">
    <span class="md-ellipsis">
      什么是闭包？
    </span>
  </a>
  
    <nav class="md-nav" aria-label="什么是闭包？">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_26" class="md-nav__link">
    <span class="md-ellipsis">
      闭包的定义条件
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_27" class="md-nav__link">
    <span class="md-ellipsis">
      闭包的作用
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_28" class="md-nav__link">
    <span class="md-ellipsis">
      闭包的示例
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_29" class="md-nav__link">
    <span class="md-ellipsis">
      闭包的实际应用
    </span>
  </a>
  
    <nav class="md-nav" aria-label="闭包的实际应用">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1_2" class="md-nav__link">
    <span class="md-ellipsis">
      1. 数据封装
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2_2" class="md-nav__link">
    <span class="md-ellipsis">
      2. 函数工厂
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_30" class="md-nav__link">
    <span class="md-ellipsis">
      闭包和函数对象
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_31" class="md-nav__link">
    <span class="md-ellipsis">
      总结
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python_4" class="md-nav__link">
    <span class="md-ellipsis">
      如何实现 Python 的浅拷贝和深拷贝？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python_5" class="md-nav__link">
    <span class="md-ellipsis">
      Python 中的可变类型和不可变类型有哪些？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#args-kwargs" class="md-nav__link">
    <span class="md-ellipsis">
      *args 和 **kwargs 的作用？
    </span>
  </a>
  
    <nav class="md-nav" aria-label="*args 和 **kwargs 的作用？">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#args" class="md-nav__link">
    <span class="md-ellipsis">
      一、*args 的作用
    </span>
  </a>
  
    <nav class="md-nav" aria-label="一、*args 的作用">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_32" class="md-nav__link">
    <span class="md-ellipsis">
      例子：
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_33" class="md-nav__link">
    <span class="md-ellipsis">
      输出：
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_34" class="md-nav__link">
    <span class="md-ellipsis">
      使用场景：
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_35" class="md-nav__link">
    <span class="md-ellipsis">
      注意：
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kwargs" class="md-nav__link">
    <span class="md-ellipsis">
      二、**kwargs 的作用
    </span>
  </a>
  
    <nav class="md-nav" aria-label="二、**kwargs 的作用">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_36" class="md-nav__link">
    <span class="md-ellipsis">
      例子：
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_37" class="md-nav__link">
    <span class="md-ellipsis">
      输出：
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_38" class="md-nav__link">
    <span class="md-ellipsis">
      使用场景：
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_39" class="md-nav__link">
    <span class="md-ellipsis">
      注意：
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#args-kwargs_1" class="md-nav__link">
    <span class="md-ellipsis">
      三、*args 和 **kwargs 的混合使用
    </span>
  </a>
  
    <nav class="md-nav" aria-label="三、*args 和 **kwargs 的混合使用">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_40" class="md-nav__link">
    <span class="md-ellipsis">
      例子：
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_41" class="md-nav__link">
    <span class="md-ellipsis">
      输出：
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_42" class="md-nav__link">
    <span class="md-ellipsis">
      四、实战案例
    </span>
  </a>
  
    <nav class="md-nav" aria-label="四、实战案例">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1_3" class="md-nav__link">
    <span class="md-ellipsis">
      1. 函数封装
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_43" class="md-nav__link">
    <span class="md-ellipsis">
      输出：
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-api" class="md-nav__link">
    <span class="md-ellipsis">
      2. API 设计
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_44" class="md-nav__link">
    <span class="md-ellipsis">
      输出：
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_45" class="md-nav__link">
    <span class="md-ellipsis">
      总结
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python_6" class="md-nav__link">
    <span class="md-ellipsis">
      Python 中的继承和多态
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Python 中的继承和多态">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#python_7" class="md-nav__link">
    <span class="md-ellipsis">
      Python 中的继承和多态
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inheritance" class="md-nav__link">
    <span class="md-ellipsis">
      一、继承（Inheritance）
    </span>
  </a>
  
    <nav class="md-nav" aria-label="一、继承（Inheritance）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1_4" class="md-nav__link">
    <span class="md-ellipsis">
      1. 什么是继承？
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2_3" class="md-nav__link">
    <span class="md-ellipsis">
      2. 继承的基本语法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-super" class="md-nav__link">
    <span class="md-ellipsis">
      3. super() 函数
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4_4" class="md-nav__link">
    <span class="md-ellipsis">
      4. 多重继承
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#polymorphism" class="md-nav__link">
    <span class="md-ellipsis">
      二、多态（Polymorphism）
    </span>
  </a>
  
    <nav class="md-nav" aria-label="二、多态（Polymorphism）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1_5" class="md-nav__link">
    <span class="md-ellipsis">
      1. 什么是多态？
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2_4" class="md-nav__link">
    <span class="md-ellipsis">
      2. 方法重写
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-duck-typing" class="md-nav__link">
    <span class="md-ellipsis">
      3. 鸭子类型（Duck Typing）
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_46" class="md-nav__link">
    <span class="md-ellipsis">
      三、继承与多态的综合应用
    </span>
  </a>
  
    <nav class="md-nav" aria-label="三、继承与多态的综合应用">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_47" class="md-nav__link">
    <span class="md-ellipsis">
      例子：模拟一个简单的支付系统
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_48" class="md-nav__link">
    <span class="md-ellipsis">
      输出：
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_49" class="md-nav__link">
    <span class="md-ellipsis">
      总结
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mro" class="md-nav__link">
    <span class="md-ellipsis">
      MRO
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MRO">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mro_1" class="md-nav__link">
    <span class="md-ellipsis">
      一、什么是 MRO？
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mro_2" class="md-nav__link">
    <span class="md-ellipsis">
      二、单继承中的 MRO
    </span>
  </a>
  
    <nav class="md-nav" aria-label="二、单继承中的 MRO">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_50" class="md-nav__link">
    <span class="md-ellipsis">
      例子：
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_51" class="md-nav__link">
    <span class="md-ellipsis">
      输出：
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mro_3" class="md-nav__link">
    <span class="md-ellipsis">
      三、多重继承中的 MRO
    </span>
  </a>
  
    <nav class="md-nav" aria-label="三、多重继承中的 MRO">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_52" class="md-nav__link">
    <span class="md-ellipsis">
      菱形继承问题
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_53" class="md-nav__link">
    <span class="md-ellipsis">
      例子：
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_54" class="md-nav__link">
    <span class="md-ellipsis">
      输出：
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mro-c3" class="md-nav__link">
    <span class="md-ellipsis">
      四、MRO 的计算规则：C3 线性化算法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#super-mro" class="md-nav__link">
    <span class="md-ellipsis">
      五、使用 super() 与 MRO
    </span>
  </a>
  
    <nav class="md-nav" aria-label="五、使用 super() 与 MRO">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_55" class="md-nav__link">
    <span class="md-ellipsis">
      例子：
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_56" class="md-nav__link">
    <span class="md-ellipsis">
      输出：
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mro_4" class="md-nav__link">
    <span class="md-ellipsis">
      六、实际应用中的 MRO
    </span>
  </a>
  
    <nav class="md-nav" aria-label="六、实际应用中的 MRO">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1_6" class="md-nav__link">
    <span class="md-ellipsis">
      1. 保持继承结构清晰
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-super" class="md-nav__link">
    <span class="md-ellipsis">
      2. 使用 super() 调用父类方法
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_57" class="md-nav__link">
    <span class="md-ellipsis">
      七、总结
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#duck-typing" class="md-nav__link">
    <span class="md-ellipsis">
      鸭子类型（Duck Typing）是什么？
    </span>
  </a>
  
    <nav class="md-nav" aria-label="鸭子类型（Duck Typing）是什么？">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#duck-typing_1" class="md-nav__link">
    <span class="md-ellipsis">
      鸭子类型（Duck Typing）
    </span>
  </a>
  
    <nav class="md-nav" aria-label="鸭子类型（Duck Typing）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1_7" class="md-nav__link">
    <span class="md-ellipsis">
      1. 鸭子类型的概念
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-python_1" class="md-nav__link">
    <span class="md-ellipsis">
      2. Python 中的鸭子类型
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_58" class="md-nav__link">
    <span class="md-ellipsis">
      例子：
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3_4" class="md-nav__link">
    <span class="md-ellipsis">
      3. 鸭子类型的优点
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4_5" class="md-nav__link">
    <span class="md-ellipsis">
      4. 鸭子类型的缺点
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5_3" class="md-nav__link">
    <span class="md-ellipsis">
      5. 实际应用
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6_3" class="md-nav__link">
    <span class="md-ellipsis">
      6. 鸭子类型与接口
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_59" class="md-nav__link">
    <span class="md-ellipsis">
      总结
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python_8" class="md-nav__link">
    <span class="md-ellipsis">
      Python 中的垃圾回收机制
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Python 中的垃圾回收机制">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-reference-counting" class="md-nav__link">
    <span class="md-ellipsis">
      1. 引用计数（Reference Counting）
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. 引用计数（Reference Counting）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_60" class="md-nav__link">
    <span class="md-ellipsis">
      例子：
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2_5" class="md-nav__link">
    <span class="md-ellipsis">
      2. 循环引用问题
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. 循环引用问题">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_61" class="md-nav__link">
    <span class="md-ellipsis">
      例子：
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-garbage-collection-gc" class="md-nav__link">
    <span class="md-ellipsis">
      3. 垃圾回收（Garbage Collection, GC）
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. 垃圾回收（Garbage Collection, GC）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#generation" class="md-nav__link">
    <span class="md-ellipsis">
      代（Generation）的概念
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_62" class="md-nav__link">
    <span class="md-ellipsis">
      垃圾回收的过程
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_63" class="md-nav__link">
    <span class="md-ellipsis">
      手动触发垃圾回收：
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4_6" class="md-nav__link">
    <span class="md-ellipsis">
      4. 调整垃圾回收行为
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. 调整垃圾回收行为">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_64" class="md-nav__link">
    <span class="md-ellipsis">
      调整垃圾回收阈值：
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5_4" class="md-nav__link">
    <span class="md-ellipsis">
      5. 总结
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#with" class="md-nav__link">
    <span class="md-ellipsis">
      上下文管理器与 with 语句
    </span>
  </a>
  
    <nav class="md-nav" aria-label="上下文管理器与 with 语句">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#with_1" class="md-nav__link">
    <span class="md-ellipsis">
      上下文管理器与 with 语句
    </span>
  </a>
  
    <nav class="md-nav" aria-label="上下文管理器与 with 语句">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-with" class="md-nav__link">
    <span class="md-ellipsis">
      1. with 语句的基本用法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2_6" class="md-nav__link">
    <span class="md-ellipsis">
      2. 上下文管理器协议
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3_5" class="md-nav__link">
    <span class="md-ellipsis">
      3. 自定义上下文管理器
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4_7" class="md-nav__link">
    <span class="md-ellipsis">
      4. 处理异常
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_65" class="md-nav__link">
    <span class="md-ellipsis">
      例子：
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-contextlib" class="md-nav__link">
    <span class="md-ellipsis">
      5. 使用 contextlib 简化上下文管理器
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5. 使用 contextlib 简化上下文管理器">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#contextlibcontextmanager" class="md-nav__link">
    <span class="md-ellipsis">
      使用 contextlib.contextmanager 装饰器
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6_4" class="md-nav__link">
    <span class="md-ellipsis">
      6. 常见的上下文管理器应用
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_66" class="md-nav__link">
    <span class="md-ellipsis">
      总结
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python_9" class="md-nav__link">
    <span class="md-ellipsis">
      python 代码优化
    </span>
  </a>
  
    <nav class="md-nav" aria-label="python 代码优化">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#profiling" class="md-nav__link">
    <span class="md-ellipsis">
      一、Profiling 的类型
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python-profiling" class="md-nav__link">
    <span class="md-ellipsis">
      二、Python 中的 Profiling 工具
    </span>
  </a>
  
    <nav class="md-nav" aria-label="二、Python 中的 Profiling 工具">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-cprofile" class="md-nav__link">
    <span class="md-ellipsis">
      1. cProfile
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. cProfile">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_67" class="md-nav__link">
    <span class="md-ellipsis">
      使用方法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_68" class="md-nav__link">
    <span class="md-ellipsis">
      输出示例
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_69" class="md-nav__link">
    <span class="md-ellipsis">
      分析结果
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-line_profiler" class="md-nav__link">
    <span class="md-ellipsis">
      2. line_profiler
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. line_profiler">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_70" class="md-nav__link">
    <span class="md-ellipsis">
      安装
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_71" class="md-nav__link">
    <span class="md-ellipsis">
      使用方法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_72" class="md-nav__link">
    <span class="md-ellipsis">
      输出示例
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_73" class="md-nav__link">
    <span class="md-ellipsis">
      分析结果
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-memory_profiler" class="md-nav__link">
    <span class="md-ellipsis">
      3. memory_profiler
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. memory_profiler">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_74" class="md-nav__link">
    <span class="md-ellipsis">
      安装
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_75" class="md-nav__link">
    <span class="md-ellipsis">
      使用方法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_76" class="md-nav__link">
    <span class="md-ellipsis">
      输出示例
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_77" class="md-nav__link">
    <span class="md-ellipsis">
      分析结果
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#profiling_1" class="md-nav__link">
    <span class="md-ellipsis">
      三、如何解读 Profiling 结果
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_78" class="md-nav__link">
    <span class="md-ellipsis">
      四、总结
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../numpy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    numpy面试
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pandas/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    pandas面试
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../analysis/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    数据处理和分析面试
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1_5" >
        
          
          <label class="md-nav__link" for="__nav_1_5" id="__nav_1_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    数据处理与分析
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_5">
            <span class="md-nav__icon md-icon"></span>
            数据处理与分析
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../numpy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    numpy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pandas/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    pandas
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../matpliot/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    matpliot
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Seaborn/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Seaborn
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1_6" >
        
          
          <label class="md-nav__link" for="__nav_1_6" id="__nav_1_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    标准库
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_6">
            <span class="md-nav__icon md-icon"></span>
            标准库
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../os/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    os
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sys/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sys
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../math/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    math
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../datetime/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    datetime
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../re/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    re
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../shutil/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    shutil
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../requests/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    requests
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pathlib/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    pathlib
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pytest/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    pytest
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mock/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    mock
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../logging/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    logging
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../random/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    random
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../time/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    time
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../urllib/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    urllib
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../json/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    json
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../functools/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    functools
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../asyncio/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    asyncio
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pickle/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    pickle
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../celery/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    celery
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1_7" >
        
          
          <label class="md-nav__link" for="__nav_1_7" id="__nav_1_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    数据库
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_7">
            <span class="md-nav__icon md-icon"></span>
            数据库
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../sqlalchemy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sqlalchemy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pymysql/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    pymysql
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../redis/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    redis
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1_8" >
        
          
          <label class="md-nav__link" for="__nav_1_8" id="__nav_1_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    爬虫
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_8">
            <span class="md-nav__icon md-icon"></span>
            爬虫
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../beautifulsoup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    beautifulsoup
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../scrapy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    scrapy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../selenium/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    selenium
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1_9" >
        
          
          <label class="md-nav__link" for="__nav_1_9" id="__nav_1_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    科学计算与机器学习
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_9">
            <span class="md-nav__icon md-icon"></span>
            科学计算与机器学习
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../scipy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    scipy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../scikit-learn/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    scikit-learn
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../pytorch/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    pytorch
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    web
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            web
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_1" >
        
          
          <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    django
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            django
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../webs/django/basic/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    基础
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../webs/django/restful/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    restful
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../webs/django/interview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    面试
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    flask
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            flask
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../webs/flask/basic/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    基础
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    fastapi
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            fastapi
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../webs/fastapi/basic/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    基础
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../webs/fastapi/interview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    面试
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    数据库
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            数据库
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_1" >
        
          
          <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    mysql
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            mysql
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../database/mysql/sql/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sql
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../database/mysql/basic/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    基础
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../database/mysql/interview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    面试
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../database/mysql/%E9%9D%A2%E8%AF%95/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    interview
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    redis
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            redis
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../database/redis/basic/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    基础
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../database/redis/interview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    面试
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    mongodb
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            mongodb
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../database/mongodb/basic/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    基础
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../database/mongodb/interview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    面试
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    elastic
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            elastic
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../database/elastic/basic/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    基础
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../database/elastic/interview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    面试
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    中间件
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            中间件
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_1" >
        
          
          <label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    kafka
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            kafka
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../middlewares/kafka/basic/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    基础
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../middlewares/kafka/interview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    面试
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    rabbitmq
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            rabbitmq
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../middlewares/rabbitmq/basic/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    基础
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../middlewares/rabbitmq/interview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    面试
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_3" >
        
          
          <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    zookeeper
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            zookeeper
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../middlewares/zookeeper/basic/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    基础
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../middlewares/zookeeper/interview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    面试
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    服务器
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            服务器
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_1" >
        
          
          <label class="md-nav__link" for="__nav_5_1" id="__nav_5_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    nginx
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1">
            <span class="md-nav__icon md-icon"></span>
            nginx
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../server/nginx/basic/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    基础
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../server/nginx/interview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    面试
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    uvicorn
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            uvicorn
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../server/uvicorn/basic/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    基础
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    云原生
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            云原生
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6_1" >
        
          
          <label class="md-nav__link" for="__nav_6_1" id="__nav_6_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    docker
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_1">
            <span class="md-nav__icon md-icon"></span>
            docker
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/docker/basic/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    基础
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/docker/interview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    面试
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6_2" >
        
          
          <label class="md-nav__link" for="__nav_6_2" id="__nav_6_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    kubernetes
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_2">
            <span class="md-nav__icon md-icon"></span>
            kubernetes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/kubernetes/basic/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    基础
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/kubernetes/monitor/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    监控和日志
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/kubernetes/crictl/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    crictl
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/kubernetes/helm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    helm
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../cloud/kubernetes/interview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    面试
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    分布式
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            分布式
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://juejin.cn/column/7098219195371880484" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    教程
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    LLM
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            LLM
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../LLM/basic/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    基础教程
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../LLM/advance/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    进阶教程
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../LLM/interview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    面试
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    计算机基础
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            计算机基础
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../computers/system/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    操作系统
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../computers/network/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    计算机网络
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      字符串和字节对比
    </span>
  </a>
  
    <nav class="md-nav" aria-label="字符串和字节对比">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-str" class="md-nav__link">
    <span class="md-ellipsis">
      1. 字符串（str）
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. 字符串（str）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11" class="md-nav__link">
    <span class="md-ellipsis">
      1.1 定义
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12" class="md-nav__link">
    <span class="md-ellipsis">
      1.2 特性
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13" class="md-nav__link">
    <span class="md-ellipsis">
      1.3 操作示例
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-bytes" class="md-nav__link">
    <span class="md-ellipsis">
      2. 字节（bytes）
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. 字节（bytes）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21" class="md-nav__link">
    <span class="md-ellipsis">
      2.1 定义
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22" class="md-nav__link">
    <span class="md-ellipsis">
      2.2 特性
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23" class="md-nav__link">
    <span class="md-ellipsis">
      2.3 操作示例
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3" class="md-nav__link">
    <span class="md-ellipsis">
      3. 字符串和字节之间的转换
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. 字符串和字节之间的转换">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31" class="md-nav__link">
    <span class="md-ellipsis">
      3.1 从字符串转换为字节
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32" class="md-nav__link">
    <span class="md-ellipsis">
      3.2 从字节转换为字符串
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4" class="md-nav__link">
    <span class="md-ellipsis">
      4. 使用场景对比
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5" class="md-nav__link">
    <span class="md-ellipsis">
      5. 注意事项
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6" class="md-nav__link">
    <span class="md-ellipsis">
      6. 小结
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      面向对象的接口如何实现
    </span>
  </a>
  
    <nav class="md-nav" aria-label="面向对象的接口如何实现">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    <span class="md-ellipsis">
      1. 接口的概念
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-python" class="md-nav__link">
    <span class="md-ellipsis">
      2. 在 Python 中实现接口
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. 在 Python 中实现接口">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-abc" class="md-nav__link">
    <span class="md-ellipsis">
      2.1 使用 abc 模块定义接口
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22_1" class="md-nav__link">
    <span class="md-ellipsis">
      2.2 实现接口
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23_1" class="md-nav__link">
    <span class="md-ellipsis">
      2.3 抽象基类的实例化
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#24-abstractmethod" class="md-nav__link">
    <span class="md-ellipsis">
      2.4 使用 @abstractmethod 装饰器
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3_1" class="md-nav__link">
    <span class="md-ellipsis">
      3. 接口的意义和用途
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. 接口的意义和用途">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31_1" class="md-nav__link">
    <span class="md-ellipsis">
      3.1 解耦和扩展性
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32_1" class="md-nav__link">
    <span class="md-ellipsis">
      3.2 多态性
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33" class="md-nav__link">
    <span class="md-ellipsis">
      3.3 规范和文档化
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4_1" class="md-nav__link">
    <span class="md-ellipsis">
      4. 示例：动物接口
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-python-protocol" class="md-nav__link">
    <span class="md-ellipsis">
      5. 接口的替代方案：Python 协议（Protocol）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6_1" class="md-nav__link">
    <span class="md-ellipsis">
      6. 小结
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python_1" class="md-nav__link">
    <span class="md-ellipsis">
      Python 和 其他语言相比有什么区别？ 优势在哪里
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Python 和 其他语言相比有什么区别？ 优势在哪里">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1_1" class="md-nav__link">
    <span class="md-ellipsis">
      1. 语法简洁和易读性
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    <span class="md-ellipsis">
      2. 动态类型与灵活性
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3_2" class="md-nav__link">
    <span class="md-ellipsis">
      3. 丰富的标准库和第三方库
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4_2" class="md-nav__link">
    <span class="md-ellipsis">
      4. 跨平台特性
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5_1" class="md-nav__link">
    <span class="md-ellipsis">
      5. 解释性语言
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6_2" class="md-nav__link">
    <span class="md-ellipsis">
      6. 社区和生态系统
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7" class="md-nav__link">
    <span class="md-ellipsis">
      7. 适用场景广泛
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8" class="md-nav__link">
    <span class="md-ellipsis">
      8. 开发者生产力
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9" class="md-nav__link">
    <span class="md-ellipsis">
      9. 性能方面的考虑
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#10" class="md-nav__link">
    <span class="md-ellipsis">
      10. 结论
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python_2" class="md-nav__link">
    <span class="md-ellipsis">
      Python中类方法、类实例方法、静态方法有什么区别
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Python中类方法、类实例方法、静态方法有什么区别">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-instance-method" class="md-nav__link">
    <span class="md-ellipsis">
      1. 实例方法（Instance Method）
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. 实例方法（Instance Method）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      定义
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      绑定对象
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      用途
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      示例
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-class-method" class="md-nav__link">
    <span class="md-ellipsis">
      2. 类方法（Class Method）
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. 类方法（Class Method）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      定义
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      绑定对象
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    <span class="md-ellipsis">
      用途
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    <span class="md-ellipsis">
      示例
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-static-method" class="md-nav__link">
    <span class="md-ellipsis">
      3. 静态方法（Static Method）
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. 静态方法（Static Method）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    <span class="md-ellipsis">
      定义
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    <span class="md-ellipsis">
      绑定对象
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    <span class="md-ellipsis">
      用途
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_14" class="md-nav__link">
    <span class="md-ellipsis">
      示例
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4_3" class="md-nav__link">
    <span class="md-ellipsis">
      4. 区别总结
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5_2" class="md-nav__link">
    <span class="md-ellipsis">
      5. 适用场景
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_15" class="md-nav__link">
    <span class="md-ellipsis">
      如何实现单例
    </span>
  </a>
  
    <nav class="md-nav" aria-label="如何实现单例">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-__new__" class="md-nav__link">
    <span class="md-ellipsis">
      1. 使用类的 __new__ 方法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2_1" class="md-nav__link">
    <span class="md-ellipsis">
      2. 使用装饰器
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3_3" class="md-nav__link">
    <span class="md-ellipsis">
      3. 使用模块
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-metaclass" class="md-nav__link">
    <span class="md-ellipsis">
      4. 使用 metaclass
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-borg" class="md-nav__link">
    <span class="md-ellipsis">
      5. 使用 borg 模式
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python-gil" class="md-nav__link">
    <span class="md-ellipsis">
      Python 中的 GIL（全局解释器锁）是什么？
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Python 中的 GIL（全局解释器锁）是什么？">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#gil" class="md-nav__link">
    <span class="md-ellipsis">
      什么是 GIL（全局解释器锁）？
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gil_1" class="md-nav__link">
    <span class="md-ellipsis">
      为什么需要 GIL？
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gil_2" class="md-nav__link">
    <span class="md-ellipsis">
      GIL 的影响
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gil_3" class="md-nav__link">
    <span class="md-ellipsis">
      如何规避 GIL 的影响？
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_16" class="md-nav__link">
    <span class="md-ellipsis">
      结论
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python_3" class="md-nav__link">
    <span class="md-ellipsis">
      Python 中的生成器和迭代器有什么区别？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_17" class="md-nav__link">
    <span class="md-ellipsis">
      什么是装饰器？如何使用？
    </span>
  </a>
  
    <nav class="md-nav" aria-label="什么是装饰器？如何使用？">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_18" class="md-nav__link">
    <span class="md-ellipsis">
      基本概念
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_19" class="md-nav__link">
    <span class="md-ellipsis">
      装饰器的基本结构
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_20" class="md-nav__link">
    <span class="md-ellipsis">
      装饰器的工作原理
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_21" class="md-nav__link">
    <span class="md-ellipsis">
      带参数的装饰器
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_22" class="md-nav__link">
    <span class="md-ellipsis">
      多个装饰器的使用
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_23" class="md-nav__link">
    <span class="md-ellipsis">
      内置装饰器
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_24" class="md-nav__link">
    <span class="md-ellipsis">
      装饰器的使用场景
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_25" class="md-nav__link">
    <span class="md-ellipsis">
      什么是闭包？
    </span>
  </a>
  
    <nav class="md-nav" aria-label="什么是闭包？">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_26" class="md-nav__link">
    <span class="md-ellipsis">
      闭包的定义条件
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_27" class="md-nav__link">
    <span class="md-ellipsis">
      闭包的作用
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_28" class="md-nav__link">
    <span class="md-ellipsis">
      闭包的示例
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_29" class="md-nav__link">
    <span class="md-ellipsis">
      闭包的实际应用
    </span>
  </a>
  
    <nav class="md-nav" aria-label="闭包的实际应用">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1_2" class="md-nav__link">
    <span class="md-ellipsis">
      1. 数据封装
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2_2" class="md-nav__link">
    <span class="md-ellipsis">
      2. 函数工厂
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_30" class="md-nav__link">
    <span class="md-ellipsis">
      闭包和函数对象
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_31" class="md-nav__link">
    <span class="md-ellipsis">
      总结
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python_4" class="md-nav__link">
    <span class="md-ellipsis">
      如何实现 Python 的浅拷贝和深拷贝？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python_5" class="md-nav__link">
    <span class="md-ellipsis">
      Python 中的可变类型和不可变类型有哪些？
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#args-kwargs" class="md-nav__link">
    <span class="md-ellipsis">
      *args 和 **kwargs 的作用？
    </span>
  </a>
  
    <nav class="md-nav" aria-label="*args 和 **kwargs 的作用？">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#args" class="md-nav__link">
    <span class="md-ellipsis">
      一、*args 的作用
    </span>
  </a>
  
    <nav class="md-nav" aria-label="一、*args 的作用">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_32" class="md-nav__link">
    <span class="md-ellipsis">
      例子：
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_33" class="md-nav__link">
    <span class="md-ellipsis">
      输出：
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_34" class="md-nav__link">
    <span class="md-ellipsis">
      使用场景：
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_35" class="md-nav__link">
    <span class="md-ellipsis">
      注意：
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kwargs" class="md-nav__link">
    <span class="md-ellipsis">
      二、**kwargs 的作用
    </span>
  </a>
  
    <nav class="md-nav" aria-label="二、**kwargs 的作用">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_36" class="md-nav__link">
    <span class="md-ellipsis">
      例子：
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_37" class="md-nav__link">
    <span class="md-ellipsis">
      输出：
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_38" class="md-nav__link">
    <span class="md-ellipsis">
      使用场景：
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_39" class="md-nav__link">
    <span class="md-ellipsis">
      注意：
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#args-kwargs_1" class="md-nav__link">
    <span class="md-ellipsis">
      三、*args 和 **kwargs 的混合使用
    </span>
  </a>
  
    <nav class="md-nav" aria-label="三、*args 和 **kwargs 的混合使用">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_40" class="md-nav__link">
    <span class="md-ellipsis">
      例子：
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_41" class="md-nav__link">
    <span class="md-ellipsis">
      输出：
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_42" class="md-nav__link">
    <span class="md-ellipsis">
      四、实战案例
    </span>
  </a>
  
    <nav class="md-nav" aria-label="四、实战案例">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1_3" class="md-nav__link">
    <span class="md-ellipsis">
      1. 函数封装
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_43" class="md-nav__link">
    <span class="md-ellipsis">
      输出：
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-api" class="md-nav__link">
    <span class="md-ellipsis">
      2. API 设计
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_44" class="md-nav__link">
    <span class="md-ellipsis">
      输出：
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_45" class="md-nav__link">
    <span class="md-ellipsis">
      总结
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python_6" class="md-nav__link">
    <span class="md-ellipsis">
      Python 中的继承和多态
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Python 中的继承和多态">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#python_7" class="md-nav__link">
    <span class="md-ellipsis">
      Python 中的继承和多态
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inheritance" class="md-nav__link">
    <span class="md-ellipsis">
      一、继承（Inheritance）
    </span>
  </a>
  
    <nav class="md-nav" aria-label="一、继承（Inheritance）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1_4" class="md-nav__link">
    <span class="md-ellipsis">
      1. 什么是继承？
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2_3" class="md-nav__link">
    <span class="md-ellipsis">
      2. 继承的基本语法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-super" class="md-nav__link">
    <span class="md-ellipsis">
      3. super() 函数
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4_4" class="md-nav__link">
    <span class="md-ellipsis">
      4. 多重继承
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#polymorphism" class="md-nav__link">
    <span class="md-ellipsis">
      二、多态（Polymorphism）
    </span>
  </a>
  
    <nav class="md-nav" aria-label="二、多态（Polymorphism）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1_5" class="md-nav__link">
    <span class="md-ellipsis">
      1. 什么是多态？
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2_4" class="md-nav__link">
    <span class="md-ellipsis">
      2. 方法重写
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-duck-typing" class="md-nav__link">
    <span class="md-ellipsis">
      3. 鸭子类型（Duck Typing）
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_46" class="md-nav__link">
    <span class="md-ellipsis">
      三、继承与多态的综合应用
    </span>
  </a>
  
    <nav class="md-nav" aria-label="三、继承与多态的综合应用">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_47" class="md-nav__link">
    <span class="md-ellipsis">
      例子：模拟一个简单的支付系统
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_48" class="md-nav__link">
    <span class="md-ellipsis">
      输出：
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_49" class="md-nav__link">
    <span class="md-ellipsis">
      总结
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mro" class="md-nav__link">
    <span class="md-ellipsis">
      MRO
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MRO">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mro_1" class="md-nav__link">
    <span class="md-ellipsis">
      一、什么是 MRO？
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mro_2" class="md-nav__link">
    <span class="md-ellipsis">
      二、单继承中的 MRO
    </span>
  </a>
  
    <nav class="md-nav" aria-label="二、单继承中的 MRO">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_50" class="md-nav__link">
    <span class="md-ellipsis">
      例子：
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_51" class="md-nav__link">
    <span class="md-ellipsis">
      输出：
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mro_3" class="md-nav__link">
    <span class="md-ellipsis">
      三、多重继承中的 MRO
    </span>
  </a>
  
    <nav class="md-nav" aria-label="三、多重继承中的 MRO">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_52" class="md-nav__link">
    <span class="md-ellipsis">
      菱形继承问题
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_53" class="md-nav__link">
    <span class="md-ellipsis">
      例子：
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_54" class="md-nav__link">
    <span class="md-ellipsis">
      输出：
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mro-c3" class="md-nav__link">
    <span class="md-ellipsis">
      四、MRO 的计算规则：C3 线性化算法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#super-mro" class="md-nav__link">
    <span class="md-ellipsis">
      五、使用 super() 与 MRO
    </span>
  </a>
  
    <nav class="md-nav" aria-label="五、使用 super() 与 MRO">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_55" class="md-nav__link">
    <span class="md-ellipsis">
      例子：
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_56" class="md-nav__link">
    <span class="md-ellipsis">
      输出：
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mro_4" class="md-nav__link">
    <span class="md-ellipsis">
      六、实际应用中的 MRO
    </span>
  </a>
  
    <nav class="md-nav" aria-label="六、实际应用中的 MRO">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1_6" class="md-nav__link">
    <span class="md-ellipsis">
      1. 保持继承结构清晰
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-super" class="md-nav__link">
    <span class="md-ellipsis">
      2. 使用 super() 调用父类方法
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_57" class="md-nav__link">
    <span class="md-ellipsis">
      七、总结
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#duck-typing" class="md-nav__link">
    <span class="md-ellipsis">
      鸭子类型（Duck Typing）是什么？
    </span>
  </a>
  
    <nav class="md-nav" aria-label="鸭子类型（Duck Typing）是什么？">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#duck-typing_1" class="md-nav__link">
    <span class="md-ellipsis">
      鸭子类型（Duck Typing）
    </span>
  </a>
  
    <nav class="md-nav" aria-label="鸭子类型（Duck Typing）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1_7" class="md-nav__link">
    <span class="md-ellipsis">
      1. 鸭子类型的概念
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-python_1" class="md-nav__link">
    <span class="md-ellipsis">
      2. Python 中的鸭子类型
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_58" class="md-nav__link">
    <span class="md-ellipsis">
      例子：
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3_4" class="md-nav__link">
    <span class="md-ellipsis">
      3. 鸭子类型的优点
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4_5" class="md-nav__link">
    <span class="md-ellipsis">
      4. 鸭子类型的缺点
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5_3" class="md-nav__link">
    <span class="md-ellipsis">
      5. 实际应用
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6_3" class="md-nav__link">
    <span class="md-ellipsis">
      6. 鸭子类型与接口
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_59" class="md-nav__link">
    <span class="md-ellipsis">
      总结
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python_8" class="md-nav__link">
    <span class="md-ellipsis">
      Python 中的垃圾回收机制
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Python 中的垃圾回收机制">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-reference-counting" class="md-nav__link">
    <span class="md-ellipsis">
      1. 引用计数（Reference Counting）
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. 引用计数（Reference Counting）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_60" class="md-nav__link">
    <span class="md-ellipsis">
      例子：
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2_5" class="md-nav__link">
    <span class="md-ellipsis">
      2. 循环引用问题
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. 循环引用问题">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_61" class="md-nav__link">
    <span class="md-ellipsis">
      例子：
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-garbage-collection-gc" class="md-nav__link">
    <span class="md-ellipsis">
      3. 垃圾回收（Garbage Collection, GC）
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. 垃圾回收（Garbage Collection, GC）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#generation" class="md-nav__link">
    <span class="md-ellipsis">
      代（Generation）的概念
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_62" class="md-nav__link">
    <span class="md-ellipsis">
      垃圾回收的过程
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_63" class="md-nav__link">
    <span class="md-ellipsis">
      手动触发垃圾回收：
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4_6" class="md-nav__link">
    <span class="md-ellipsis">
      4. 调整垃圾回收行为
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. 调整垃圾回收行为">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_64" class="md-nav__link">
    <span class="md-ellipsis">
      调整垃圾回收阈值：
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5_4" class="md-nav__link">
    <span class="md-ellipsis">
      5. 总结
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#with" class="md-nav__link">
    <span class="md-ellipsis">
      上下文管理器与 with 语句
    </span>
  </a>
  
    <nav class="md-nav" aria-label="上下文管理器与 with 语句">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#with_1" class="md-nav__link">
    <span class="md-ellipsis">
      上下文管理器与 with 语句
    </span>
  </a>
  
    <nav class="md-nav" aria-label="上下文管理器与 with 语句">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-with" class="md-nav__link">
    <span class="md-ellipsis">
      1. with 语句的基本用法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2_6" class="md-nav__link">
    <span class="md-ellipsis">
      2. 上下文管理器协议
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3_5" class="md-nav__link">
    <span class="md-ellipsis">
      3. 自定义上下文管理器
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4_7" class="md-nav__link">
    <span class="md-ellipsis">
      4. 处理异常
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_65" class="md-nav__link">
    <span class="md-ellipsis">
      例子：
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-contextlib" class="md-nav__link">
    <span class="md-ellipsis">
      5. 使用 contextlib 简化上下文管理器
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5. 使用 contextlib 简化上下文管理器">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#contextlibcontextmanager" class="md-nav__link">
    <span class="md-ellipsis">
      使用 contextlib.contextmanager 装饰器
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6_4" class="md-nav__link">
    <span class="md-ellipsis">
      6. 常见的上下文管理器应用
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_66" class="md-nav__link">
    <span class="md-ellipsis">
      总结
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python_9" class="md-nav__link">
    <span class="md-ellipsis">
      python 代码优化
    </span>
  </a>
  
    <nav class="md-nav" aria-label="python 代码优化">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#profiling" class="md-nav__link">
    <span class="md-ellipsis">
      一、Profiling 的类型
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#python-profiling" class="md-nav__link">
    <span class="md-ellipsis">
      二、Python 中的 Profiling 工具
    </span>
  </a>
  
    <nav class="md-nav" aria-label="二、Python 中的 Profiling 工具">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-cprofile" class="md-nav__link">
    <span class="md-ellipsis">
      1. cProfile
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. cProfile">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_67" class="md-nav__link">
    <span class="md-ellipsis">
      使用方法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_68" class="md-nav__link">
    <span class="md-ellipsis">
      输出示例
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_69" class="md-nav__link">
    <span class="md-ellipsis">
      分析结果
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-line_profiler" class="md-nav__link">
    <span class="md-ellipsis">
      2. line_profiler
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. line_profiler">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_70" class="md-nav__link">
    <span class="md-ellipsis">
      安装
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_71" class="md-nav__link">
    <span class="md-ellipsis">
      使用方法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_72" class="md-nav__link">
    <span class="md-ellipsis">
      输出示例
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_73" class="md-nav__link">
    <span class="md-ellipsis">
      分析结果
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-memory_profiler" class="md-nav__link">
    <span class="md-ellipsis">
      3. memory_profiler
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. memory_profiler">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_74" class="md-nav__link">
    <span class="md-ellipsis">
      安装
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_75" class="md-nav__link">
    <span class="md-ellipsis">
      使用方法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_76" class="md-nav__link">
    <span class="md-ellipsis">
      输出示例
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_77" class="md-nav__link">
    <span class="md-ellipsis">
      分析结果
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#profiling_1" class="md-nav__link">
    <span class="md-ellipsis">
      三、如何解读 Profiling 结果
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_78" class="md-nav__link">
    <span class="md-ellipsis">
      四、总结
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="python">Python 面试题<a class="headerlink" href="#python" title="Permanent link">&para;</a></h1>
<h2 id="_1">字符串和字节对比<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h2>
<p>在 Python 中，字符串和字节是两种不同的数据类型，分别用于处理文本和二进制数据。理解它们的区别以及如何在两者之间转换是非常重要的。以下是关于字符串和字节在 Python 中的详细对比和使用方法。</p>
<h3 id="1-str">1. 字符串（str）<a class="headerlink" href="#1-str" title="Permanent link">&para;</a></h3>
<h4 id="11">1.1 定义<a class="headerlink" href="#11" title="Permanent link">&para;</a></h4>
<ul>
<li>字符串类型用于存储文本数据。Python 中的字符串是 Unicode 字符的序列。</li>
<li>字符串使用单引号（<code>'</code>）或双引号（<code>"</code>）来定义。</li>
</ul>
<h4 id="12">1.2 特性<a class="headerlink" href="#12" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>不可变</strong>：字符串一旦创建就不能更改。如果需要修改字符串，需要创建一个新的字符串。</li>
<li><strong>编码</strong>：字符串以 Unicode 编码存储，这意味着它们可以表示多种语言和字符集。</li>
</ul>
<h4 id="13">1.3 操作示例<a class="headerlink" href="#13" title="Permanent link">&para;</a></h4>
<div class="language-python highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="c1"># 定义字符串</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="n">s</span> <span class="o">=</span> <span class="s2">&quot;Hello, World!&quot;</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="c1"># 访问字符</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>  <span class="c1"># 输出: H</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="c1"># 字符串拼接</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="n">new_s</span> <span class="o">=</span> <span class="n">s</span> <span class="o">+</span> <span class="s2">&quot; How are you?&quot;</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="nb">print</span><span class="p">(</span><span class="n">new_s</span><span class="p">)</span>  <span class="c1"># 输出: Hello, World! How are you?</span>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="c1"># 字符串长度</span>
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">))</span>  <span class="c1"># 输出: 13</span>
</span></code></pre></div>
<h3 id="2-bytes">2. 字节（bytes）<a class="headerlink" href="#2-bytes" title="Permanent link">&para;</a></h3>
<h4 id="21">2.1 定义<a class="headerlink" href="#21" title="Permanent link">&para;</a></h4>
<ul>
<li>字节类型用于存储二进制数据，通常是原始数据，如文件内容、网络数据等。</li>
<li>字节序列使用前缀 <code>b</code> 和单引号（<code>'</code>）或双引号（<code>"</code>）来定义。</li>
</ul>
<h4 id="22">2.2 特性<a class="headerlink" href="#22" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>不可变</strong>：字节对象和字符串一样也是不可变的。</li>
<li><strong>编码</strong>：字节以原始二进制格式存储，而不是 Unicode 编码。因此，字节对象通常用于处理需要保持原始格式的数据。</li>
</ul>
<h4 id="23">2.3 操作示例<a class="headerlink" href="#23" title="Permanent link">&para;</a></h4>
<div class="language-python highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="c1"># 定义字节序列</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="n">b</span> <span class="o">=</span> <span class="sa">b</span><span class="s2">&quot;Hello, World!&quot;</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="c1"># 访问字节</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="nb">print</span><span class="p">(</span><span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>  <span class="c1"># 输出: 72 (字符 &#39;H&#39; 的 ASCII 值)</span>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="c1"># 字节拼接</span>
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="n">new_b</span> <span class="o">=</span> <span class="n">b</span> <span class="o">+</span> <span class="sa">b</span><span class="s2">&quot; How are you?&quot;</span>
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="nb">print</span><span class="p">(</span><span class="n">new_b</span><span class="p">)</span>  <span class="c1"># 输出: b&#39;Hello, World! How are you?&#39;</span>
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a>
</span><span id="__span-1-11"><a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a><span class="c1"># 字节长度</span>
</span><span id="__span-1-12"><a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a><span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">b</span><span class="p">))</span>  <span class="c1"># 输出: 13</span>
</span></code></pre></div>
<h3 id="3">3. 字符串和字节之间的转换<a class="headerlink" href="#3" title="Permanent link">&para;</a></h3>
<h4 id="31">3.1 从字符串转换为字节<a class="headerlink" href="#31" title="Permanent link">&para;</a></h4>
<ul>
<li>可以使用字符串的 <code>encode()</code> 方法将字符串转换为字节。你可以指定编码类型，如 <code>'utf-8'</code>、<code>'ascii'</code> 等。</li>
</ul>
<div class="language-python highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="n">s</span> <span class="o">=</span> <span class="s2">&quot;Hello, World!&quot;</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="n">b</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="nb">print</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>  <span class="c1"># 输出: b&#39;Hello, World!&#39;</span>
</span></code></pre></div>
<h4 id="32">3.2 从字节转换为字符串<a class="headerlink" href="#32" title="Permanent link">&para;</a></h4>
<ul>
<li>可以使用字节对象的 <code>decode()</code> 方法将字节转换为字符串。同样，你可以指定解码类型。</li>
</ul>
<div class="language-python highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="n">b</span> <span class="o">=</span> <span class="sa">b</span><span class="s2">&quot;Hello, World!&quot;</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="n">s</span> <span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>  <span class="c1"># 输出: Hello, World!</span>
</span></code></pre></div>
<h3 id="4">4. 使用场景对比<a class="headerlink" href="#4" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>字符串</strong>：用于处理文本数据，如文件内容、用户输入、文本处理等。</li>
<li><strong>字节</strong>：用于处理二进制数据，如图像文件、网络数据传输、加密数据等。</li>
</ul>
<h3 id="5">5. 注意事项<a class="headerlink" href="#5" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>编码问题</strong>：在从字符串转换为字节或从字节转换为字符串时，确保使用正确的编码方式。不同的编码方式可能导致数据的解释不一致。</li>
<li><strong>处理二进制数据</strong>：处理需要精确控制字节级别的二进制数据时，使用字节对象而不是字符串。</li>
</ul>
<h3 id="6">6. 小结<a class="headerlink" href="#6" title="Permanent link">&para;</a></h3>
<p>Python 中的字符串和字节分别用于不同的用途：字符串主要用于处理文本数据，而字节用于处理二进制数据。通过 <code>encode()</code> 和 <code>decode()</code> 方法，字符串和字节可以相互转换。理解它们的区别和应用场景，有助于编写更加高效和健壮的 Python 代码。</p>
<h2 id="_2">面向对象的接口如何实现<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h2>
<p>在面向对象编程（OOP）中，接口（Interface）是一种定义对象行为的规范或契约。它规定了类应该提供哪些方法和属性，但并不定义这些方法的具体实现。在 Python 中，虽然没有像 Java 或 C# 那样的专门接口关键字，但可以通过抽象基类（Abstract Base Classes, ABC）来实现接口的概念。</p>
<h3 id="1">1. 接口的概念<a class="headerlink" href="#1" title="Permanent link">&para;</a></h3>
<ul>
<li>**接口**是一组方法和属性的集合，定义了类必须遵循的行为规范。</li>
<li>**实现接口**的类必须提供接口中定义的所有方法，并确保这些方法具有正确的签名（名称、参数、返回类型等）。</li>
</ul>
<h3 id="2-python">2. 在 Python 中实现接口<a class="headerlink" href="#2-python" title="Permanent link">&para;</a></h3>
<p>Python 中没有直接的接口关键字，但可以通过 <code>abc</code> 模块中的抽象基类来定义接口。</p>
<h4 id="21-abc">2.1 使用 <code>abc</code> 模块定义接口<a class="headerlink" href="#21-abc" title="Permanent link">&para;</a></h4>
<p>Python 的 <code>abc</code> 模块允许你创建抽象基类，其中可以包含一个或多个抽象方法。这些抽象方法没有实现，必须由子类提供具体实现。</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="kn">from</span> <span class="nn">abc</span> <span class="kn">import</span> <span class="n">ABC</span><span class="p">,</span> <span class="n">abstractmethod</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="k">class</span> <span class="nc">Shape</span><span class="p">(</span><span class="n">ABC</span><span class="p">):</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>    <span class="nd">@abstractmethod</span>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>    <span class="k">def</span> <span class="nf">area</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>        <span class="k">pass</span>
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>
</span><span id="__span-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a>    <span class="nd">@abstractmethod</span>
</span><span id="__span-4-9"><a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a>    <span class="k">def</span> <span class="nf">perimeter</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-4-10"><a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a>        <span class="k">pass</span>
</span></code></pre></div>
<p>在这个例子中，<code>Shape</code> 类是一个抽象基类（即接口），它定义了两个抽象方法 <code>area</code> 和 <code>perimeter</code>。任何继承自 <code>Shape</code> 的类都必须实现这两个方法。</p>
<h4 id="22_1">2.2 实现接口<a class="headerlink" href="#22_1" title="Permanent link">&para;</a></h4>
<p>要实现一个接口，创建一个继承自抽象基类的类，并实现所有抽象方法。</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="k">class</span> <span class="nc">Rectangle</span><span class="p">(</span><span class="n">Shape</span><span class="p">):</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">):</span>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="n">width</span>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">=</span> <span class="n">height</span>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a>
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>    <span class="k">def</span> <span class="nf">area</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span>
</span><span id="__span-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a>
</span><span id="__span-5-9"><a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a>    <span class="k">def</span> <span class="nf">perimeter</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-5-10"><a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a>        <span class="k">return</span> <span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="p">)</span>
</span><span id="__span-5-11"><a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a>
</span><span id="__span-5-12"><a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a><span class="c1"># 使用Rectangle类</span>
</span><span id="__span-5-13"><a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a><span class="n">rect</span> <span class="o">=</span> <span class="n">Rectangle</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
</span><span id="__span-5-14"><a id="__codelineno-5-14" name="__codelineno-5-14" href="#__codelineno-5-14"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Area: </span><span class="si">{</span><span class="n">rect</span><span class="o">.</span><span class="n">area</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>  <span class="c1"># 输出: Area: 200</span>
</span><span id="__span-5-15"><a id="__codelineno-5-15" name="__codelineno-5-15" href="#__codelineno-5-15"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Perimeter: </span><span class="si">{</span><span class="n">rect</span><span class="o">.</span><span class="n">perimeter</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>  <span class="c1"># 输出: Perimeter: 60</span>
</span></code></pre></div>
<p>在这个例子中，<code>Rectangle</code> 类实现了 <code>Shape</code> 接口，提供了 <code>area</code> 和 <code>perimeter</code> 方法的具体实现。</p>
<h4 id="23_1">2.3 抽象基类的实例化<a class="headerlink" href="#23_1" title="Permanent link">&para;</a></h4>
<p>抽象基类不能被实例化。如果你尝试创建一个抽象基类的实例，Python 会抛出 <code>TypeError</code>。</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="n">shape</span> <span class="o">=</span> <span class="n">Shape</span><span class="p">()</span>  <span class="c1"># 会抛出 TypeError: Can&#39;t instantiate abstract class Shape with abstract methods area, perimeter</span>
</span></code></pre></div>
<h4 id="24-abstractmethod">2.4 使用 <code>@abstractmethod</code> 装饰器<a class="headerlink" href="#24-abstractmethod" title="Permanent link">&para;</a></h4>
<p><code>@abstractmethod</code> 装饰器用于定义抽象方法，它告诉 Python 该方法在基类中没有实现，必须在子类中实现。</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="kn">from</span> <span class="nn">abc</span> <span class="kn">import</span> <span class="n">ABC</span><span class="p">,</span> <span class="n">abstractmethod</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="k">class</span> <span class="nc">Vehicle</span><span class="p">(</span><span class="n">ABC</span><span class="p">):</span>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>    <span class="nd">@abstractmethod</span>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>    <span class="k">def</span> <span class="nf">start_engine</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a>        <span class="k">pass</span>
</span><span id="__span-7-7"><a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a>
</span><span id="__span-7-8"><a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a><span class="k">class</span> <span class="nc">Car</span><span class="p">(</span><span class="n">Vehicle</span><span class="p">):</span>
</span><span id="__span-7-9"><a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a>    <span class="k">def</span> <span class="nf">start_engine</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-7-10"><a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Car engine started!&quot;</span><span class="p">)</span>
</span><span id="__span-7-11"><a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a>
</span><span id="__span-7-12"><a id="__codelineno-7-12" name="__codelineno-7-12" href="#__codelineno-7-12"></a><span class="n">car</span> <span class="o">=</span> <span class="n">Car</span><span class="p">()</span>
</span><span id="__span-7-13"><a id="__codelineno-7-13" name="__codelineno-7-13" href="#__codelineno-7-13"></a><span class="n">car</span><span class="o">.</span><span class="n">start_engine</span><span class="p">()</span>  <span class="c1"># 输出: Car engine started!</span>
</span></code></pre></div>
<h3 id="3_1">3. 接口的意义和用途<a class="headerlink" href="#3_1" title="Permanent link">&para;</a></h3>
<h4 id="31_1">3.1 解耦和扩展性<a class="headerlink" href="#31_1" title="Permanent link">&para;</a></h4>
<p>接口提供了一种解耦机制，使得程序的不同部分可以独立开发和测试。实现接口的类可以随时更换，只要它们遵循同样的接口契约。</p>
<h4 id="32_1">3.2 多态性<a class="headerlink" href="#32_1" title="Permanent link">&para;</a></h4>
<p>接口允许不同的类实现同样的方法，这些方法可以通过相同的接口来调用。这样可以使用多态性来处理不同类型的对象。</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="k">def</span> <span class="nf">start_vehicle</span><span class="p">(</span><span class="n">vehicle</span><span class="p">:</span> <span class="n">Vehicle</span><span class="p">):</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>    <span class="n">vehicle</span><span class="o">.</span><span class="n">start_engine</span><span class="p">()</span>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="n">car</span> <span class="o">=</span> <span class="n">Car</span><span class="p">()</span>
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="n">start_vehicle</span><span class="p">(</span><span class="n">car</span><span class="p">)</span>  <span class="c1"># 输出: Car engine started!</span>
</span></code></pre></div>
<h4 id="33">3.3 规范和文档化<a class="headerlink" href="#33" title="Permanent link">&para;</a></h4>
<p>接口明确了类应该实现哪些方法，为开发人员提供了清晰的规范，也使得代码更容易理解和维护。</p>
<h3 id="4_1">4. 示例：动物接口<a class="headerlink" href="#4_1" title="Permanent link">&para;</a></h3>
<p>下面是一个更复杂的例子，展示如何使用接口来定义一组不同动物的行为。</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="kn">from</span> <span class="nn">abc</span> <span class="kn">import</span> <span class="n">ABC</span><span class="p">,</span> <span class="n">abstractmethod</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="k">class</span> <span class="nc">Animal</span><span class="p">(</span><span class="n">ABC</span><span class="p">):</span>
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a>    <span class="nd">@abstractmethod</span>
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a>    <span class="k">def</span> <span class="nf">sound</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-9-6"><a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a>        <span class="k">pass</span>
</span><span id="__span-9-7"><a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a>
</span><span id="__span-9-8"><a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a>    <span class="nd">@abstractmethod</span>
</span><span id="__span-9-9"><a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a>    <span class="k">def</span> <span class="nf">move</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-9-10"><a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a>        <span class="k">pass</span>
</span><span id="__span-9-11"><a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a>
</span><span id="__span-9-12"><a id="__codelineno-9-12" name="__codelineno-9-12" href="#__codelineno-9-12"></a><span class="k">class</span> <span class="nc">Dog</span><span class="p">(</span><span class="n">Animal</span><span class="p">):</span>
</span><span id="__span-9-13"><a id="__codelineno-9-13" name="__codelineno-9-13" href="#__codelineno-9-13"></a>    <span class="k">def</span> <span class="nf">sound</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-9-14"><a id="__codelineno-9-14" name="__codelineno-9-14" href="#__codelineno-9-14"></a>        <span class="k">return</span> <span class="s2">&quot;Bark&quot;</span>
</span><span id="__span-9-15"><a id="__codelineno-9-15" name="__codelineno-9-15" href="#__codelineno-9-15"></a>
</span><span id="__span-9-16"><a id="__codelineno-9-16" name="__codelineno-9-16" href="#__codelineno-9-16"></a>    <span class="k">def</span> <span class="nf">move</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-9-17"><a id="__codelineno-9-17" name="__codelineno-9-17" href="#__codelineno-9-17"></a>        <span class="k">return</span> <span class="s2">&quot;Run&quot;</span>
</span><span id="__span-9-18"><a id="__codelineno-9-18" name="__codelineno-9-18" href="#__codelineno-9-18"></a>
</span><span id="__span-9-19"><a id="__codelineno-9-19" name="__codelineno-9-19" href="#__codelineno-9-19"></a><span class="k">class</span> <span class="nc">Bird</span><span class="p">(</span><span class="n">Animal</span><span class="p">):</span>
</span><span id="__span-9-20"><a id="__codelineno-9-20" name="__codelineno-9-20" href="#__codelineno-9-20"></a>    <span class="k">def</span> <span class="nf">sound</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-9-21"><a id="__codelineno-9-21" name="__codelineno-9-21" href="#__codelineno-9-21"></a>        <span class="k">return</span> <span class="s2">&quot;Chirp&quot;</span>
</span><span id="__span-9-22"><a id="__codelineno-9-22" name="__codelineno-9-22" href="#__codelineno-9-22"></a>
</span><span id="__span-9-23"><a id="__codelineno-9-23" name="__codelineno-9-23" href="#__codelineno-9-23"></a>    <span class="k">def</span> <span class="nf">move</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-9-24"><a id="__codelineno-9-24" name="__codelineno-9-24" href="#__codelineno-9-24"></a>        <span class="k">return</span> <span class="s2">&quot;Fly&quot;</span>
</span><span id="__span-9-25"><a id="__codelineno-9-25" name="__codelineno-9-25" href="#__codelineno-9-25"></a>
</span><span id="__span-9-26"><a id="__codelineno-9-26" name="__codelineno-9-26" href="#__codelineno-9-26"></a><span class="c1"># 使用接口</span>
</span><span id="__span-9-27"><a id="__codelineno-9-27" name="__codelineno-9-27" href="#__codelineno-9-27"></a><span class="n">dog</span> <span class="o">=</span> <span class="n">Dog</span><span class="p">()</span>
</span><span id="__span-9-28"><a id="__codelineno-9-28" name="__codelineno-9-28" href="#__codelineno-9-28"></a><span class="n">bird</span> <span class="o">=</span> <span class="n">Bird</span><span class="p">()</span>
</span><span id="__span-9-29"><a id="__codelineno-9-29" name="__codelineno-9-29" href="#__codelineno-9-29"></a>
</span><span id="__span-9-30"><a id="__codelineno-9-30" name="__codelineno-9-30" href="#__codelineno-9-30"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Dog: </span><span class="si">{</span><span class="n">dog</span><span class="o">.</span><span class="n">sound</span><span class="p">()</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">dog</span><span class="o">.</span><span class="n">move</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>  <span class="c1"># 输出: Dog: Bark, Run</span>
</span><span id="__span-9-31"><a id="__codelineno-9-31" name="__codelineno-9-31" href="#__codelineno-9-31"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Bird: </span><span class="si">{</span><span class="n">bird</span><span class="o">.</span><span class="n">sound</span><span class="p">()</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">bird</span><span class="o">.</span><span class="n">move</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>  <span class="c1"># 输出: Bird: Chirp, Fly</span>
</span></code></pre></div>
<p>在这个例子中，<code>Dog</code> 和 <code>Bird</code> 都实现了 <code>Animal</code> 接口，并提供了 <code>sound</code> 和 <code>move</code> 方法的具体实现。</p>
<h3 id="5-python-protocol">5. 接口的替代方案：Python 协议（Protocol）<a class="headerlink" href="#5-python-protocol" title="Permanent link">&para;</a></h3>
<p>从 Python 3.8 开始，引入了 <code>typing.Protocol</code>，它提供了一种更轻量的方式来定义接口，而不必使用抽象基类。这种方式特别适合鸭子类型编程。</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Protocol</span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a>
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="k">class</span> <span class="nc">Flyer</span><span class="p">(</span><span class="n">Protocol</span><span class="p">):</span>
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a>    <span class="k">def</span> <span class="nf">fly</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="__span-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a>        <span class="o">...</span>
</span><span id="__span-10-6"><a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a>
</span><span id="__span-10-7"><a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a><span class="k">class</span> <span class="nc">Bird</span><span class="p">:</span>
</span><span id="__span-10-8"><a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a>    <span class="k">def</span> <span class="nf">fly</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="__span-10-9"><a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Flies high in the sky&quot;</span><span class="p">)</span>
</span><span id="__span-10-10"><a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a>
</span><span id="__span-10-11"><a id="__codelineno-10-11" name="__codelineno-10-11" href="#__codelineno-10-11"></a><span class="k">class</span> <span class="nc">Airplane</span><span class="p">:</span>
</span><span id="__span-10-12"><a id="__codelineno-10-12" name="__codelineno-10-12" href="#__codelineno-10-12"></a>    <span class="k">def</span> <span class="nf">fly</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="__span-10-13"><a id="__codelineno-10-13" name="__codelineno-10-13" href="#__codelineno-10-13"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Flies through the clouds&quot;</span><span class="p">)</span>
</span><span id="__span-10-14"><a id="__codelineno-10-14" name="__codelineno-10-14" href="#__codelineno-10-14"></a>
</span><span id="__span-10-15"><a id="__codelineno-10-15" name="__codelineno-10-15" href="#__codelineno-10-15"></a><span class="k">def</span> <span class="nf">let_it_fly</span><span class="p">(</span><span class="n">flyer</span><span class="p">:</span> <span class="n">Flyer</span><span class="p">):</span>
</span><span id="__span-10-16"><a id="__codelineno-10-16" name="__codelineno-10-16" href="#__codelineno-10-16"></a>    <span class="n">flyer</span><span class="o">.</span><span class="n">fly</span><span class="p">()</span>
</span><span id="__span-10-17"><a id="__codelineno-10-17" name="__codelineno-10-17" href="#__codelineno-10-17"></a>
</span><span id="__span-10-18"><a id="__codelineno-10-18" name="__codelineno-10-18" href="#__codelineno-10-18"></a><span class="n">bird</span> <span class="o">=</span> <span class="n">Bird</span><span class="p">()</span>
</span><span id="__span-10-19"><a id="__codelineno-10-19" name="__codelineno-10-19" href="#__codelineno-10-19"></a><span class="n">airplane</span> <span class="o">=</span> <span class="n">Airplane</span><span class="p">()</span>
</span><span id="__span-10-20"><a id="__codelineno-10-20" name="__codelineno-10-20" href="#__codelineno-10-20"></a>
</span><span id="__span-10-21"><a id="__codelineno-10-21" name="__codelineno-10-21" href="#__codelineno-10-21"></a><span class="n">let_it_fly</span><span class="p">(</span><span class="n">bird</span><span class="p">)</span>  <span class="c1"># 输出: Flies high in the sky</span>
</span><span id="__span-10-22"><a id="__codelineno-10-22" name="__codelineno-10-22" href="#__codelineno-10-22"></a><span class="n">let_it_fly</span><span class="p">(</span><span class="n">airplane</span><span class="p">)</span>  <span class="c1"># 输出: Flies through the clouds</span>
</span></code></pre></div>
<h3 id="6_1">6. 小结<a class="headerlink" href="#6_1" title="Permanent link">&para;</a></h3>
<ul>
<li>**接口**是一种定义类行为的契约，在 Python 中可以通过抽象基类（<code>ABC</code>）来实现。</li>
<li>**抽象基类**允许你定义没有具体实现的方法，这些方法必须在子类中实现。</li>
<li><strong><code>@abstractmethod</code></strong> 装饰器用于定义抽象方法。</li>
<li>**接口的优势**在于解耦、规范化、多态性，能够提升代码的可扩展性和可维护性。</li>
</ul>
<p>理解和应用接口概念有助于编写更加灵活、易于扩展的 Python 代码。</p>
<h2 id="python_1">Python 和 其他语言相比有什么区别？ 优势在哪里<a class="headerlink" href="#python_1" title="Permanent link">&para;</a></h2>
<p>Python 是一种高级、动态类型的编程语言，因其简单易学、功能强大而广受欢迎。与其他编程语言相比，Python 在多个方面具有独特的优势和特点。下面我将详细比较 Python 和其他主流编程语言的区别，并说明 Python 的优势。</p>
<h3 id="1_1">1. 语法简洁和易读性<a class="headerlink" href="#1_1" title="Permanent link">&para;</a></h3>
<p><strong>区别</strong>：
- Python 的语法非常简洁，代码可读性强，接近自然语言。它采用缩进来表示代码块，而不是像 C/C++、Java 那样使用大括号 <code>{}</code>。
- 例如，同样的功能在 Python 中通常可以用更少的代码实现。</p>
<p><strong>优势</strong>：
- <strong>易于学习</strong>：Python 是初学者最常选择的编程语言之一，入门门槛低。
- <strong>维护性好</strong>：由于语法简洁、清晰，Python 代码更容易理解和维护。</p>
<p><strong>示例</strong>：
<div class="language-python highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="c1"># Python 代码</span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>    <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
</span></code></pre></div></p>
<p>与其他语言的对比：</p>
<div class="language-java highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="c1">// Java 代码</span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="kd">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">add</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="p">}</span>
</span></code></pre></div>
<h3 id="2">2. 动态类型与灵活性<a class="headerlink" href="#2" title="Permanent link">&para;</a></h3>
<p><strong>区别</strong>：
- Python 是动态类型语言，这意味着变量的类型在运行时确定，而不是编译时。相比之下，Java、C++ 等是静态类型语言，要求在编译时确定变量类型。</p>
<p><strong>优势</strong>：
- <strong>灵活性</strong>：Python 允许更灵活的编程风格，开发者可以更快速地编写和测试代码。
- <strong>简洁的代码</strong>：由于无需显式声明变量类型，代码更加简洁。</p>
<p><strong>示例</strong>：
<div class="language-python highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="c1"># Python 代码</span>
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="n">x</span> <span class="o">=</span> <span class="mi">10</span>  <span class="c1"># 整数</span>
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="n">x</span> <span class="o">=</span> <span class="s2">&quot;Hello&quot;</span>  <span class="c1"># 现在是字符串</span>
</span></code></pre></div></p>
<p>在静态类型语言中的对比：</p>
<div class="language-java highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="c1">// Java 代码</span>
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Hello&quot;</span><span class="p">;</span><span class="w">  </span><span class="c1">// 会报错，因为类型不匹配</span>
</span></code></pre></div>
<h3 id="3_2">3. 丰富的标准库和第三方库<a class="headerlink" href="#3_2" title="Permanent link">&para;</a></h3>
<p><strong>区别</strong>：
- Python 拥有非常丰富的标准库，涵盖了从文件 I/O、网络通信到数据处理的广泛领域。此外，Python 社区提供了大量的第三方库和框架，如 NumPy、Pandas、Django、Flask 等。</p>
<p><strong>优势</strong>：
- <strong>开发效率高</strong>：Python 的库生态系统极为强大，开发者可以通过调用库函数实现复杂的功能，无需从零开始编写代码。
- <strong>快速原型开发</strong>：Python 非常适合快速构建原型，因为很多功能可以通过库直接实现。</p>
<p><strong>示例</strong>：
<div class="language-python highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="kn">import</span> <span class="nn">requests</span>
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a>
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a><span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://api.example.com/data&#39;</span><span class="p">)</span>
</span><span id="__span-15-4"><a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a><span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
</span></code></pre></div></p>
<h3 id="4_2">4. 跨平台特性<a class="headerlink" href="#4_2" title="Permanent link">&para;</a></h3>
<p><strong>区别</strong>：
- Python 是跨平台的，Python 代码可以在不同操作系统（如 Windows、macOS、Linux）上运行，而无需修改。</p>
<p><strong>优势</strong>：
- <strong>移植性强</strong>：Python 的跨平台特性使得应用程序可以轻松在不同系统上运行，降低了开发和维护的复杂性。</p>
<p><strong>示例</strong>：
<div class="language-python highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="c1"># 在 Windows 和 Linux 上都可以运行的代码</span>
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="kn">import</span> <span class="nn">os</span>
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a><span class="nb">print</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
</span></code></pre></div></p>
<h3 id="5_1">5. 解释性语言<a class="headerlink" href="#5_1" title="Permanent link">&para;</a></h3>
<p><strong>区别</strong>：
- Python 是解释型语言，这意味着 Python 代码在执行时会逐行解释，而不是像 C/C++ 那样需要编译成机器码后再运行。</p>
<p><strong>优势</strong>：
- <strong>开发速度快</strong>：不需要编译步骤，修改后可以立即运行并看到结果，极大地加快了开发速度。
- <strong>更好的调试体验</strong>：Python 的解释性使得它在调试时更加灵活，可以快速测试和修改代码。</p>
<h3 id="6_2">6. 社区和生态系统<a class="headerlink" href="#6_2" title="Permanent link">&para;</a></h3>
<p><strong>区别</strong>：
- Python 拥有庞大且活跃的开发者社区，持续推动语言的发展，提供丰富的资源和支持。</p>
<p><strong>优势</strong>：
- <strong>社区支持</strong>：丰富的社区资源和在线文档，使开发者能够轻松找到解决问题的方案。
- <strong>强大的生态系统</strong>：Python 的生态系统涵盖了从 web 开发、数据科学到人工智能的方方面面。</p>
<h3 id="7">7. 适用场景广泛<a class="headerlink" href="#7" title="Permanent link">&para;</a></h3>
<p><strong>区别</strong>：
- Python 是一门通用编程语言，适用于广泛的应用场景，包括但不限于 web 开发、数据分析、人工智能、自动化脚本、科学计算等。
- 例如，Java 通常用于大型企业应用，C++ 常用于系统编程，R 主要用于统计分析，而 Python 几乎可以在所有这些领域使用。</p>
<p><strong>优势</strong>：
- <strong>全能型语言</strong>：Python 在多个领域都有广泛应用，特别是在数据科学和人工智能领域，Python 是事实上的首选语言。
- <strong>社区贡献</strong>：由于适用场景广泛，Python 社区的贡献者来自各个领域，进一步推动了语言的发展和创新。</p>
<h3 id="8">8. 开发者生产力<a class="headerlink" href="#8" title="Permanent link">&para;</a></h3>
<p><strong>区别</strong>：
- Python 的简洁语法、丰富库支持以及跨平台特性大大提高了开发者的生产力。</p>
<p><strong>优势</strong>：
- <strong>高效开发</strong>：Python 的设计哲学强调代码的可读性和简洁性，这使得开发者能够以更少的代码行数实现更多的功能，极大地提高了开发效率。</p>
<h3 id="9">9. 性能方面的考虑<a class="headerlink" href="#9" title="Permanent link">&para;</a></h3>
<p><strong>区别</strong>：
- Python 的解释性和动态性在执行速度上不如 C/C++、Java 等编译型语言。</p>
<p><strong>劣势</strong>：
- <strong>性能</strong>：Python 的执行速度相对较慢，尤其是在 CPU 密集型任务中。</p>
<p><strong>解决方案</strong>：
- <strong>优化工具</strong>：可以使用 Cython、PyPy、Numba 等工具优化 Python 的性能，或通过将关键部分用 C/C++ 编写并与 Python 集成的方式提升效率。</p>
<h3 id="10">10. 结论<a class="headerlink" href="#10" title="Permanent link">&para;</a></h3>
<p>Python 的主要优势在于其语法简洁、易于学习、灵活多变，且拥有丰富的库支持和强大的社区生态系统。尽管在性能方面可能不及一些编译型语言，但通过各种优化手段，Python 可以胜任绝大多数应用场景。它非常适合用于快速开发、原型设计和跨平台应用，并且在数据科学、机器学习、web 开发等领域表现尤为突出。</p>
<h2 id="python_2">Python中类方法、类实例方法、静态方法有什么区别<a class="headerlink" href="#python_2" title="Permanent link">&para;</a></h2>
<p>在 Python 中，类方法（Class Method）、实例方法（Instance Method）、静态方法（Static Method）是定义在类中的三种不同类型的方法，它们在访问方式、绑定对象以及使用场景上都有所不同。下面将详细讲解它们之间的区别。</p>
<h3 id="1-instance-method">1. 实例方法（Instance Method）<a class="headerlink" href="#1-instance-method" title="Permanent link">&para;</a></h3>
<h4 id="_3">定义<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h4>
<ul>
<li>**实例方法**是最常见的类方法，它们在类的内部定义，且第一个参数通常命名为 <code>self</code>，用于指代调用该方法的实例对象。</li>
</ul>
<h4 id="_4">绑定对象<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h4>
<ul>
<li>实例方法与类的实例绑定，意味着你必须先创建类的实例，然后通过这个实例来调用实例方法。</li>
</ul>
<h4 id="_5">用途<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h4>
<ul>
<li>实例方法用于访问和操作实例的属性，或调用其他实例方法。</li>
</ul>
<h4 id="_6">示例<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h4>
<div class="language-python highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="k">class</span> <span class="nc">MyClass</span><span class="p">:</span>
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
</span><span id="__span-17-3"><a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="__span-17-4"><a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a>
</span><span id="__span-17-5"><a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a>    <span class="k">def</span> <span class="nf">instance_method</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-17-6"><a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Instance method called with value: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-17-7"><a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a>
</span><span id="__span-17-8"><a id="__codelineno-17-8" name="__codelineno-17-8" href="#__codelineno-17-8"></a><span class="c1"># 创建类的实例</span>
</span><span id="__span-17-9"><a id="__codelineno-17-9" name="__codelineno-17-9" href="#__codelineno-17-9"></a><span class="n">obj</span> <span class="o">=</span> <span class="n">MyClass</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</span><span id="__span-17-10"><a id="__codelineno-17-10" name="__codelineno-17-10" href="#__codelineno-17-10"></a><span class="n">obj</span><span class="o">.</span><span class="n">instance_method</span><span class="p">()</span>  <span class="c1"># 输出: Instance method called with value: 10</span>
</span></code></pre></div>
<h3 id="2-class-method">2. 类方法（Class Method）<a class="headerlink" href="#2-class-method" title="Permanent link">&para;</a></h3>
<h4 id="_7">定义<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h4>
<ul>
<li>**类方法**通过 <code>@classmethod</code> 装饰器来定义。它的第一个参数通常命名为 <code>cls</code>，用于指代调用该方法的类本身，而不是类的实例。</li>
</ul>
<h4 id="_8">绑定对象<a class="headerlink" href="#_8" title="Permanent link">&para;</a></h4>
<ul>
<li>类方法与类本身绑定，意味着它可以直接通过类来调用，而不需要实例化该类。</li>
</ul>
<h4 id="_9">用途<a class="headerlink" href="#_9" title="Permanent link">&para;</a></h4>
<ul>
<li>类方法主要用于访问类属性或创建实例的工厂方法。</li>
</ul>
<h4 id="_10">示例<a class="headerlink" href="#_10" title="Permanent link">&para;</a></h4>
<div class="language-python highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="k">class</span> <span class="nc">MyClass</span><span class="p">:</span>
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>    <span class="n">class_variable</span> <span class="o">=</span> <span class="s2">&quot;Class Variable&quot;</span>
</span><span id="__span-18-3"><a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a>
</span><span id="__span-18-4"><a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a>    <span class="nd">@classmethod</span>
</span><span id="__span-18-5"><a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a>    <span class="k">def</span> <span class="nf">class_method</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
</span><span id="__span-18-6"><a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Class method called with: </span><span class="si">{</span><span class="bp">cls</span><span class="o">.</span><span class="n">class_variable</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-18-7"><a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a>
</span><span id="__span-18-8"><a id="__codelineno-18-8" name="__codelineno-18-8" href="#__codelineno-18-8"></a><span class="c1"># 调用类方法</span>
</span><span id="__span-18-9"><a id="__codelineno-18-9" name="__codelineno-18-9" href="#__codelineno-18-9"></a><span class="n">MyClass</span><span class="o">.</span><span class="n">class_method</span><span class="p">()</span>  <span class="c1"># 输出: Class method called with: Class Variable</span>
</span></code></pre></div>
<h3 id="3-static-method">3. 静态方法（Static Method）<a class="headerlink" href="#3-static-method" title="Permanent link">&para;</a></h3>
<h4 id="_11">定义<a class="headerlink" href="#_11" title="Permanent link">&para;</a></h4>
<ul>
<li>**静态方法**通过 <code>@staticmethod</code> 装饰器来定义。它不接受 <code>self</code> 或 <code>cls</code> 作为第一个参数。</li>
</ul>
<h4 id="_12">绑定对象<a class="headerlink" href="#_12" title="Permanent link">&para;</a></h4>
<ul>
<li>静态方法不与类实例或类绑定，它实际上是一个普通函数，只不过放在了类的命名空间中。</li>
</ul>
<h4 id="_13">用途<a class="headerlink" href="#_13" title="Permanent link">&para;</a></h4>
<ul>
<li>静态方法通常用于将与类相关但不依赖于类或实例的逻辑组织在一起。</li>
</ul>
<h4 id="_14">示例<a class="headerlink" href="#_14" title="Permanent link">&para;</a></h4>
<div class="language-python highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="k">class</span> <span class="nc">MyClass</span><span class="p">:</span>
</span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>    <span class="nd">@staticmethod</span>
</span><span id="__span-19-3"><a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a>    <span class="k">def</span> <span class="nf">static_method</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
</span><span id="__span-19-4"><a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a>        <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
</span><span id="__span-19-5"><a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a>
</span><span id="__span-19-6"><a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a><span class="c1"># 调用静态方法</span>
</span><span id="__span-19-7"><a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a><span class="n">result</span> <span class="o">=</span> <span class="n">MyClass</span><span class="o">.</span><span class="n">static_method</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
</span><span id="__span-19-8"><a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Result of static method: </span><span class="si">{</span><span class="n">result</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>  <span class="c1"># 输出: Result of static method: 15</span>
</span></code></pre></div>
<h3 id="4_3">4. 区别总结<a class="headerlink" href="#4_3" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>特性</th>
<th>实例方法（Instance Method）</th>
<th>类方法（Class Method）</th>
<th>静态方法（Static Method）</th>
</tr>
</thead>
<tbody>
<tr>
<td>调用方式</td>
<td>实例调用</td>
<td>类或实例调用</td>
<td>类或实例调用</td>
</tr>
<tr>
<td>第一个参数</td>
<td><code>self</code>（实例）</td>
<td><code>cls</code>（类）</td>
<td>无特殊参数</td>
</tr>
<tr>
<td>访问实例属性</td>
<td>是</td>
<td>否</td>
<td>否</td>
</tr>
<tr>
<td>访问类属性</td>
<td>否</td>
<td>是</td>
<td>否</td>
</tr>
<tr>
<td>使用场景</td>
<td>操作实例属性或行为</td>
<td>操作类属性或方法</td>
<td>不涉及类或实例的通用方法</td>
</tr>
</tbody>
</table>
<h3 id="5_2">5. 适用场景<a class="headerlink" href="#5_2" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>实例方法</strong>：用于访问和修改对象实例的状态。</li>
<li><strong>类方法</strong>：适合创建操作类级别的数据或作为工厂方法。</li>
<li><strong>静态方法</strong>：适合不依赖类或实例的数据或方法，例如工具函数。</li>
</ul>
<p>通过理解这三种方法的区别和应用场景，你可以更灵活地设计 Python 类，确保代码的组织和职责分离更加清晰。</p>
<h2 id="_15">如何实现单例<a class="headerlink" href="#_15" title="Permanent link">&para;</a></h2>
<p>在 Python 中，实现单例模式有多种方式。单例模式是一种设计模式，确保一个类只有一个实例，并且提供全局访问点。下面是几种常见的实现方式：</p>
<h3 id="1-__new__">1. 使用类的 <code>__new__</code> 方法<a class="headerlink" href="#1-__new__" title="Permanent link">&para;</a></h3>
<p>通过重写类的 <code>__new__</code> 方法，确保每次实例化时都返回同一个实例。</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="k">class</span> <span class="nc">Singleton</span><span class="p">:</span>
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a>    <span class="n">_instance</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="__span-20-3"><a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a>
</span><span id="__span-20-4"><a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a>    <span class="k">def</span> <span class="fm">__new__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="__span-20-5"><a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a>        <span class="k">if</span> <span class="ow">not</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_instance</span><span class="p">:</span>
</span><span id="__span-20-6"><a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a>            <span class="bp">cls</span><span class="o">.</span><span class="n">_instance</span> <span class="o">=</span> <span class="nb">super</span><span class="p">(</span><span class="n">Singleton</span><span class="p">,</span> <span class="bp">cls</span><span class="p">)</span><span class="o">.</span><span class="fm">__new__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="__span-20-7"><a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a>        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_instance</span>
</span><span id="__span-20-8"><a id="__codelineno-20-8" name="__codelineno-20-8" href="#__codelineno-20-8"></a>
</span><span id="__span-20-9"><a id="__codelineno-20-9" name="__codelineno-20-9" href="#__codelineno-20-9"></a><span class="c1"># 使用</span>
</span><span id="__span-20-10"><a id="__codelineno-20-10" name="__codelineno-20-10" href="#__codelineno-20-10"></a><span class="n">singleton1</span> <span class="o">=</span> <span class="n">Singleton</span><span class="p">()</span>
</span><span id="__span-20-11"><a id="__codelineno-20-11" name="__codelineno-20-11" href="#__codelineno-20-11"></a><span class="n">singleton2</span> <span class="o">=</span> <span class="n">Singleton</span><span class="p">()</span>
</span><span id="__span-20-12"><a id="__codelineno-20-12" name="__codelineno-20-12" href="#__codelineno-20-12"></a>
</span><span id="__span-20-13"><a id="__codelineno-20-13" name="__codelineno-20-13" href="#__codelineno-20-13"></a><span class="nb">print</span><span class="p">(</span><span class="n">singleton1</span> <span class="ow">is</span> <span class="n">singleton2</span><span class="p">)</span>  <span class="c1"># 输出: True</span>
</span></code></pre></div>
<h3 id="2_1">2. 使用装饰器<a class="headerlink" href="#2_1" title="Permanent link">&para;</a></h3>
<p>使用装饰器可以创建一个单例类。</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="k">def</span> <span class="nf">singleton</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
</span><span id="__span-21-2"><a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a>    <span class="n">instances</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="__span-21-3"><a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a>
</span><span id="__span-21-4"><a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a>    <span class="k">def</span> <span class="nf">get_instance</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="__span-21-5"><a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a>        <span class="k">if</span> <span class="bp">cls</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">instances</span><span class="p">:</span>
</span><span id="__span-21-6"><a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a>            <span class="n">instances</span><span class="p">[</span><span class="bp">cls</span><span class="p">]</span> <span class="o">=</span> <span class="bp">cls</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="__span-21-7"><a id="__codelineno-21-7" name="__codelineno-21-7" href="#__codelineno-21-7"></a>        <span class="k">return</span> <span class="n">instances</span><span class="p">[</span><span class="bp">cls</span><span class="p">]</span>
</span><span id="__span-21-8"><a id="__codelineno-21-8" name="__codelineno-21-8" href="#__codelineno-21-8"></a>
</span><span id="__span-21-9"><a id="__codelineno-21-9" name="__codelineno-21-9" href="#__codelineno-21-9"></a>    <span class="k">return</span> <span class="n">get_instance</span>
</span><span id="__span-21-10"><a id="__codelineno-21-10" name="__codelineno-21-10" href="#__codelineno-21-10"></a>
</span><span id="__span-21-11"><a id="__codelineno-21-11" name="__codelineno-21-11" href="#__codelineno-21-11"></a><span class="nd">@singleton</span>
</span><span id="__span-21-12"><a id="__codelineno-21-12" name="__codelineno-21-12" href="#__codelineno-21-12"></a><span class="k">class</span> <span class="nc">Singleton</span><span class="p">:</span>
</span><span id="__span-21-13"><a id="__codelineno-21-13" name="__codelineno-21-13" href="#__codelineno-21-13"></a>    <span class="k">pass</span>
</span><span id="__span-21-14"><a id="__codelineno-21-14" name="__codelineno-21-14" href="#__codelineno-21-14"></a>
</span><span id="__span-21-15"><a id="__codelineno-21-15" name="__codelineno-21-15" href="#__codelineno-21-15"></a><span class="c1"># 使用</span>
</span><span id="__span-21-16"><a id="__codelineno-21-16" name="__codelineno-21-16" href="#__codelineno-21-16"></a><span class="n">singleton1</span> <span class="o">=</span> <span class="n">Singleton</span><span class="p">()</span>
</span><span id="__span-21-17"><a id="__codelineno-21-17" name="__codelineno-21-17" href="#__codelineno-21-17"></a><span class="n">singleton2</span> <span class="o">=</span> <span class="n">Singleton</span><span class="p">()</span>
</span><span id="__span-21-18"><a id="__codelineno-21-18" name="__codelineno-21-18" href="#__codelineno-21-18"></a>
</span><span id="__span-21-19"><a id="__codelineno-21-19" name="__codelineno-21-19" href="#__codelineno-21-19"></a><span class="nb">print</span><span class="p">(</span><span class="n">singleton1</span> <span class="ow">is</span> <span class="n">singleton2</span><span class="p">)</span>  <span class="c1"># 输出: True</span>
</span></code></pre></div>
<h3 id="3_3">3. 使用模块<a class="headerlink" href="#3_3" title="Permanent link">&para;</a></h3>
<p>在 Python 中，模块本身就是单例的。可以直接使用模块中的变量或函数，而无需担心会产生多个实例。</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="c1"># singleton_module.py</span>
</span><span id="__span-22-2"><a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="k">class</span> <span class="nc">Singleton</span><span class="p">:</span>
</span><span id="__span-22-3"><a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a>    <span class="k">pass</span>
</span><span id="__span-22-4"><a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a>
</span><span id="__span-22-5"><a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a><span class="n">singleton</span> <span class="o">=</span> <span class="n">Singleton</span><span class="p">()</span>
</span><span id="__span-22-6"><a id="__codelineno-22-6" name="__codelineno-22-6" href="#__codelineno-22-6"></a>
</span><span id="__span-22-7"><a id="__codelineno-22-7" name="__codelineno-22-7" href="#__codelineno-22-7"></a><span class="c1"># 在其他地方使用</span>
</span><span id="__span-22-8"><a id="__codelineno-22-8" name="__codelineno-22-8" href="#__codelineno-22-8"></a><span class="kn">from</span> <span class="nn">singleton_module</span> <span class="kn">import</span> <span class="n">singleton</span>
</span><span id="__span-22-9"><a id="__codelineno-22-9" name="__codelineno-22-9" href="#__codelineno-22-9"></a>
</span><span id="__span-22-10"><a id="__codelineno-22-10" name="__codelineno-22-10" href="#__codelineno-22-10"></a><span class="n">singleton1</span> <span class="o">=</span> <span class="n">singleton</span>
</span><span id="__span-22-11"><a id="__codelineno-22-11" name="__codelineno-22-11" href="#__codelineno-22-11"></a><span class="n">singleton2</span> <span class="o">=</span> <span class="n">singleton</span>
</span><span id="__span-22-12"><a id="__codelineno-22-12" name="__codelineno-22-12" href="#__codelineno-22-12"></a>
</span><span id="__span-22-13"><a id="__codelineno-22-13" name="__codelineno-22-13" href="#__codelineno-22-13"></a><span class="nb">print</span><span class="p">(</span><span class="n">singleton1</span> <span class="ow">is</span> <span class="n">singleton2</span><span class="p">)</span>  <span class="c1"># 输出: True</span>
</span></code></pre></div>
<h3 id="4-metaclass">4. 使用 <code>metaclass</code><a class="headerlink" href="#4-metaclass" title="Permanent link">&para;</a></h3>
<p>通过元类（<code>metaclass</code>）来控制类的实例化过程，从而实现单例模式。</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="k">class</span> <span class="nc">SingletonMeta</span><span class="p">(</span><span class="nb">type</span><span class="p">):</span>
</span><span id="__span-23-2"><a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a>    <span class="n">_instances</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="__span-23-3"><a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a>
</span><span id="__span-23-4"><a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a>    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="__span-23-5"><a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a>        <span class="k">if</span> <span class="bp">cls</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_instances</span><span class="p">:</span>
</span><span id="__span-23-6"><a id="__codelineno-23-6" name="__codelineno-23-6" href="#__codelineno-23-6"></a>            <span class="bp">cls</span><span class="o">.</span><span class="n">_instances</span><span class="p">[</span><span class="bp">cls</span><span class="p">]</span> <span class="o">=</span> <span class="nb">super</span><span class="p">(</span><span class="n">SingletonMeta</span><span class="p">,</span> <span class="bp">cls</span><span class="p">)</span><span class="o">.</span><span class="fm">__call__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="__span-23-7"><a id="__codelineno-23-7" name="__codelineno-23-7" href="#__codelineno-23-7"></a>        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_instances</span><span class="p">[</span><span class="bp">cls</span><span class="p">]</span>
</span><span id="__span-23-8"><a id="__codelineno-23-8" name="__codelineno-23-8" href="#__codelineno-23-8"></a>
</span><span id="__span-23-9"><a id="__codelineno-23-9" name="__codelineno-23-9" href="#__codelineno-23-9"></a><span class="k">class</span> <span class="nc">Singleton</span><span class="p">(</span><span class="n">metaclass</span><span class="o">=</span><span class="n">SingletonMeta</span><span class="p">):</span>
</span><span id="__span-23-10"><a id="__codelineno-23-10" name="__codelineno-23-10" href="#__codelineno-23-10"></a>    <span class="k">pass</span>
</span><span id="__span-23-11"><a id="__codelineno-23-11" name="__codelineno-23-11" href="#__codelineno-23-11"></a>
</span><span id="__span-23-12"><a id="__codelineno-23-12" name="__codelineno-23-12" href="#__codelineno-23-12"></a><span class="c1"># 使用</span>
</span><span id="__span-23-13"><a id="__codelineno-23-13" name="__codelineno-23-13" href="#__codelineno-23-13"></a><span class="n">singleton1</span> <span class="o">=</span> <span class="n">Singleton</span><span class="p">()</span>
</span><span id="__span-23-14"><a id="__codelineno-23-14" name="__codelineno-23-14" href="#__codelineno-23-14"></a><span class="n">singleton2</span> <span class="o">=</span> <span class="n">Singleton</span><span class="p">()</span>
</span><span id="__span-23-15"><a id="__codelineno-23-15" name="__codelineno-23-15" href="#__codelineno-23-15"></a>
</span><span id="__span-23-16"><a id="__codelineno-23-16" name="__codelineno-23-16" href="#__codelineno-23-16"></a><span class="nb">print</span><span class="p">(</span><span class="n">singleton1</span> <span class="ow">is</span> <span class="n">singleton2</span><span class="p">)</span>  <span class="c1"># 输出: True</span>
</span></code></pre></div>
<h3 id="5-borg">5. 使用 <code>borg</code> 模式<a class="headerlink" href="#5-borg" title="Permanent link">&para;</a></h3>
<p><code>Borg</code> 模式确保类的所有实例共享相同的状态，而不是只有一个实例。</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="k">class</span> <span class="nc">Borg</span><span class="p">:</span>
</span><span id="__span-24-2"><a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a>    <span class="n">_shared_state</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="__span-24-3"><a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a>
</span><span id="__span-24-4"><a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-24-5"><a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a>        <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_shared_state</span>
</span><span id="__span-24-6"><a id="__codelineno-24-6" name="__codelineno-24-6" href="#__codelineno-24-6"></a>
</span><span id="__span-24-7"><a id="__codelineno-24-7" name="__codelineno-24-7" href="#__codelineno-24-7"></a><span class="c1"># 使用</span>
</span><span id="__span-24-8"><a id="__codelineno-24-8" name="__codelineno-24-8" href="#__codelineno-24-8"></a><span class="n">borg1</span> <span class="o">=</span> <span class="n">Borg</span><span class="p">()</span>
</span><span id="__span-24-9"><a id="__codelineno-24-9" name="__codelineno-24-9" href="#__codelineno-24-9"></a><span class="n">borg2</span> <span class="o">=</span> <span class="n">Borg</span><span class="p">()</span>
</span><span id="__span-24-10"><a id="__codelineno-24-10" name="__codelineno-24-10" href="#__codelineno-24-10"></a>
</span><span id="__span-24-11"><a id="__codelineno-24-11" name="__codelineno-24-11" href="#__codelineno-24-11"></a><span class="n">borg1</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="s2">&quot;Running&quot;</span>
</span><span id="__span-24-12"><a id="__codelineno-24-12" name="__codelineno-24-12" href="#__codelineno-24-12"></a><span class="nb">print</span><span class="p">(</span><span class="n">borg2</span><span class="o">.</span><span class="n">state</span><span class="p">)</span>  <span class="c1"># 输出: Running</span>
</span><span id="__span-24-13"><a id="__codelineno-24-13" name="__codelineno-24-13" href="#__codelineno-24-13"></a><span class="nb">print</span><span class="p">(</span><span class="n">borg1</span> <span class="ow">is</span> <span class="n">borg2</span><span class="p">)</span>  <span class="c1"># 输出: False</span>
</span></code></pre></div>
<p>这些方法都可以用于实现单例模式，选择哪种方式取决于你的具体需求和偏好。</p>
<h2 id="python-gil">Python 中的 GIL（全局解释器锁）是什么？<a class="headerlink" href="#python-gil" title="Permanent link">&para;</a></h2>
<h3 id="gil">什么是 GIL（全局解释器锁）？<a class="headerlink" href="#gil" title="Permanent link">&para;</a></h3>
<p><strong>GIL</strong>（Global Interpreter Lock，全球解释器锁）是 CPython（最常见的 Python 实现）中一个非常重要的概念。它是一个进程级别的锁，用于控制对 Python 解释器的访问，使得在任何时候只能有一个线程执行 Python 字节码。</p>
<h3 id="gil_1">为什么需要 GIL？<a class="headerlink" href="#gil_1" title="Permanent link">&para;</a></h3>
<p>GIL 存在的主要原因是为了简化内存管理，特别是 CPython 中的垃圾回收机制。CPython 使用了引用计数来管理内存对象的生命周期，而引用计数本质上是线程不安全的。如果在多个线程中并发地修改同一个对象的引用计数，没有锁的保护可能导致数据的竞争和程序崩溃。</p>
<p>通过 GIL，CPython 确保每次只有一个线程能够执行 Python 代码，从而避免了对引用计数的并发修改问题。这大大简化了内存管理的实现，使得 CPython 更加稳定。</p>
<h3 id="gil_2">GIL 的影响<a class="headerlink" href="#gil_2" title="Permanent link">&para;</a></h3>
<ol>
<li>
<p><strong>多线程的性能限制</strong>：由于 GIL 的存在，在 CPU 密集型任务中，即使使用多线程，Python 也不能充分利用多核 CPU 的能力。多个线程实际上是在轮流执行 Python 代码，而不是并行执行。这意味着在多线程 CPU 密集型任务中，使用多个线程可能不会带来性能提升，反而会有开销。</p>
</li>
<li>
<p><strong>I/O 密集型任务的影响较小</strong>：在 I/O 密集型任务中，例如网络请求或文件操作，线程往往会因为等待 I/O 操作完成而被阻塞。这时，GIL 会释放给其他线程，允许它们执行 Python 代码。因此，GIL 对 I/O 密集型任务的影响相对较小，多线程编程仍然能有效提高性能。</p>
</li>
</ol>
<h3 id="gil_3">如何规避 GIL 的影响？<a class="headerlink" href="#gil_3" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>使用多进程</strong>：由于 GIL 是进程级别的锁，因此每个 Python 进程都有自己的 GIL。如果需要并行执行 CPU 密集型任务，可以使用 <code>multiprocessing</code> 模块创建多个进程，这样每个进程可以独立地运行在不同的 CPU 核心上，从而绕过 GIL 的限制。</li>
</ol>
<div class="language-python highlight"><pre><span></span><code><span id="__span-25-1"><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="kn">from</span> <span class="nn">multiprocessing</span> <span class="kn">import</span> <span class="n">Process</span>
</span><span id="__span-25-2"><a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a>
</span><span id="__span-25-3"><a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a><span class="k">def</span> <span class="nf">task</span><span class="p">():</span>
</span><span id="__span-25-4"><a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Task running&quot;</span><span class="p">)</span>
</span><span id="__span-25-5"><a id="__codelineno-25-5" name="__codelineno-25-5" href="#__codelineno-25-5"></a>
</span><span id="__span-25-6"><a id="__codelineno-25-6" name="__codelineno-25-6" href="#__codelineno-25-6"></a><span class="n">processes</span> <span class="o">=</span> <span class="p">[]</span>
</span><span id="__span-25-7"><a id="__codelineno-25-7" name="__codelineno-25-7" href="#__codelineno-25-7"></a><span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">):</span>
</span><span id="__span-25-8"><a id="__codelineno-25-8" name="__codelineno-25-8" href="#__codelineno-25-8"></a>    <span class="n">p</span> <span class="o">=</span> <span class="n">Process</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">task</span><span class="p">)</span>
</span><span id="__span-25-9"><a id="__codelineno-25-9" name="__codelineno-25-9" href="#__codelineno-25-9"></a>    <span class="n">processes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</span><span id="__span-25-10"><a id="__codelineno-25-10" name="__codelineno-25-10" href="#__codelineno-25-10"></a>    <span class="n">p</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</span><span id="__span-25-11"><a id="__codelineno-25-11" name="__codelineno-25-11" href="#__codelineno-25-11"></a>
</span><span id="__span-25-12"><a id="__codelineno-25-12" name="__codelineno-25-12" href="#__codelineno-25-12"></a><span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">processes</span><span class="p">:</span>
</span><span id="__span-25-13"><a id="__codelineno-25-13" name="__codelineno-25-13" href="#__codelineno-25-13"></a>    <span class="n">p</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>
</span></code></pre></div>
<ol>
<li>
<p><strong>使用 C 扩展</strong>：对于性能要求非常高的代码，可以通过编写 C 扩展模块来绕过 GIL。C 代码可以手动释放 GIL，从而在 C 代码中实现并行计算。</p>
</li>
<li>
<p><strong>使用其他 Python 实现</strong>：如果 GIL 对项目的并发性能影响过大，可以考虑使用没有 GIL 的 Python 实现，例如 Jython 或 IronPython。这些实现没有 GIL 的限制，但也不兼容所有的 CPython 扩展库。</p>
</li>
</ol>
<h3 id="_16">结论<a class="headerlink" href="#_16" title="Permanent link">&para;</a></h3>
<p>GIL 是 Python 多线程编程中的一个重要限制，它保证了线程之间对 Python 解释器的安全访问，但也限制了多线程在 CPU 密集型任务中的性能表现。理解 GIL 并合理选择并发编程模型（多线程、多进程或其他方法）对于 Python 开发者来说至关重要。</p>
<h2 id="python_3">Python 中的生成器和迭代器有什么区别？<a class="headerlink" href="#python_3" title="Permanent link">&para;</a></h2>
<ul>
<li>生成器 是一种特殊的迭代器，通过 yield 关键字返回值。生成器函数每次调用时返回一个值，并记住上次返回的状态。</li>
<li>迭代器 是一个实现了 <strong>iter</strong>() 和 <strong>next</strong>() 方法的对象，用于逐个遍历集合中的元素。</li>
</ul>
<h2 id="_17">什么是装饰器？如何使用？<a class="headerlink" href="#_17" title="Permanent link">&para;</a></h2>
<p>在 Python 中，<strong>装饰器</strong>（Decorator）是一种用于修改函数或类行为的特殊函数。它允许你在不改变函数或类定义的情况下，向其添加额外的功能。装饰器本质上是一个返回函数的函数，可以用来增强原始函数的功能。</p>
<h3 id="_18">基本概念<a class="headerlink" href="#_18" title="Permanent link">&para;</a></h3>
<p>装饰器通常用于以下几种场景：</p>
<ul>
<li><strong>日志记录</strong>：记录函数调用和返回值。</li>
<li><strong>权限检查</strong>：在执行函数之前检查用户权限。</li>
<li><strong>性能度量</strong>：统计函数的执行时间。</li>
<li><strong>缓存</strong>：缓存函数的返回值，避免重复计算。</li>
</ul>
<h3 id="_19">装饰器的基本结构<a class="headerlink" href="#_19" title="Permanent link">&para;</a></h3>
<p>一个简单的装饰器的基本结构如下：</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-26-1"><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="k">def</span> <span class="nf">my_decorator</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
</span><span id="__span-26-2"><a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a>    <span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="__span-26-3"><a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a>        <span class="c1"># 在函数执行之前添加行为</span>
</span><span id="__span-26-4"><a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Something is happening before the function is called.&quot;</span><span class="p">)</span>
</span><span id="__span-26-5"><a id="__codelineno-26-5" name="__codelineno-26-5" href="#__codelineno-26-5"></a>
</span><span id="__span-26-6"><a id="__codelineno-26-6" name="__codelineno-26-6" href="#__codelineno-26-6"></a>        <span class="n">result</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="__span-26-7"><a id="__codelineno-26-7" name="__codelineno-26-7" href="#__codelineno-26-7"></a>
</span><span id="__span-26-8"><a id="__codelineno-26-8" name="__codelineno-26-8" href="#__codelineno-26-8"></a>        <span class="c1"># 在函数执行之后添加行为</span>
</span><span id="__span-26-9"><a id="__codelineno-26-9" name="__codelineno-26-9" href="#__codelineno-26-9"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Something is happening after the function is called.&quot;</span><span class="p">)</span>
</span><span id="__span-26-10"><a id="__codelineno-26-10" name="__codelineno-26-10" href="#__codelineno-26-10"></a>
</span><span id="__span-26-11"><a id="__codelineno-26-11" name="__codelineno-26-11" href="#__codelineno-26-11"></a>        <span class="k">return</span> <span class="n">result</span>
</span><span id="__span-26-12"><a id="__codelineno-26-12" name="__codelineno-26-12" href="#__codelineno-26-12"></a>    <span class="k">return</span> <span class="n">wrapper</span>
</span></code></pre></div>
<p>可以通过在函数定义前添加 <code>@my_decorator</code> 来使用装饰器：</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-27-1"><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="nd">@my_decorator</span>
</span><span id="__span-27-2"><a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a><span class="k">def</span> <span class="nf">say_hello</span><span class="p">():</span>
</span><span id="__span-27-3"><a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Hello!&quot;</span><span class="p">)</span>
</span><span id="__span-27-4"><a id="__codelineno-27-4" name="__codelineno-27-4" href="#__codelineno-27-4"></a>
</span><span id="__span-27-5"><a id="__codelineno-27-5" name="__codelineno-27-5" href="#__codelineno-27-5"></a><span class="n">say_hello</span><span class="p">()</span>
</span></code></pre></div>
<h3 id="_20">装饰器的工作原理<a class="headerlink" href="#_20" title="Permanent link">&para;</a></h3>
<p>装饰器的工作方式可以总结如下：</p>
<ol>
<li>定义一个装饰器函数，它接受一个函数作为参数。</li>
<li>在装饰器函数内部定义一个 <code>wrapper</code> 函数，<code>wrapper</code> 函数通常会在调用目标函数之前或之后执行一些操作。</li>
<li><code>wrapper</code> 函数最后调用原始函数，并返回其结果。</li>
<li>装饰器函数返回 <code>wrapper</code> 函数，这使得原始函数在被调用时实际上执行的是 <code>wrapper</code> 函数中的逻辑。</li>
</ol>
<h3 id="_21">带参数的装饰器<a class="headerlink" href="#_21" title="Permanent link">&para;</a></h3>
<p>装饰器本身也可以接受参数。要实现这一点，可以再嵌套一层函数。</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-28-1"><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="k">def</span> <span class="nf">repeat</span><span class="p">(</span><span class="n">num_times</span><span class="p">):</span>
</span><span id="__span-28-2"><a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a>    <span class="k">def</span> <span class="nf">decorator</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
</span><span id="__span-28-3"><a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a>        <span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="__span-28-4"><a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a>            <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_times</span><span class="p">):</span>
</span><span id="__span-28-5"><a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a>                <span class="n">result</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="__span-28-6"><a id="__codelineno-28-6" name="__codelineno-28-6" href="#__codelineno-28-6"></a>            <span class="k">return</span> <span class="n">result</span>
</span><span id="__span-28-7"><a id="__codelineno-28-7" name="__codelineno-28-7" href="#__codelineno-28-7"></a>        <span class="k">return</span> <span class="n">wrapper</span>
</span><span id="__span-28-8"><a id="__codelineno-28-8" name="__codelineno-28-8" href="#__codelineno-28-8"></a>    <span class="k">return</span> <span class="n">decorator</span>
</span></code></pre></div>
<p>使用带参数的装饰器：</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-29-1"><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a><span class="nd">@repeat</span><span class="p">(</span><span class="n">num_times</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</span><span id="__span-29-2"><a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a><span class="k">def</span> <span class="nf">greet</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
</span><span id="__span-29-3"><a id="__codelineno-29-3" name="__codelineno-29-3" href="#__codelineno-29-3"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Hello, </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">!&quot;</span><span class="p">)</span>
</span><span id="__span-29-4"><a id="__codelineno-29-4" name="__codelineno-29-4" href="#__codelineno-29-4"></a>
</span><span id="__span-29-5"><a id="__codelineno-29-5" name="__codelineno-29-5" href="#__codelineno-29-5"></a><span class="n">greet</span><span class="p">(</span><span class="s2">&quot;Alice&quot;</span><span class="p">)</span>
</span></code></pre></div>
<h3 id="_22">多个装饰器的使用<a class="headerlink" href="#_22" title="Permanent link">&para;</a></h3>
<p>如果一个函数有多个装饰器，Python 会按照从内向外的顺序应用这些装饰器：</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-30-1"><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a><span class="nd">@decorator_one</span>
</span><span id="__span-30-2"><a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a><span class="nd">@decorator_two</span>
</span><span id="__span-30-3"><a id="__codelineno-30-3" name="__codelineno-30-3" href="#__codelineno-30-3"></a><span class="k">def</span> <span class="nf">my_function</span><span class="p">():</span>
</span><span id="__span-30-4"><a id="__codelineno-30-4" name="__codelineno-30-4" href="#__codelineno-30-4"></a>    <span class="k">pass</span>
</span></code></pre></div>
<p>上面的代码等价于：</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-31-1"><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a><span class="n">my_function</span> <span class="o">=</span> <span class="n">decorator_one</span><span class="p">(</span><span class="n">decorator_two</span><span class="p">(</span><span class="n">my_function</span><span class="p">))</span>
</span></code></pre></div>
<h3 id="_23">内置装饰器<a class="headerlink" href="#_23" title="Permanent link">&para;</a></h3>
<p>Python 提供了一些常用的内置装饰器：</p>
<ul>
<li><strong><code>@staticmethod</code></strong>：定义静态方法，不需要访问类或实例的属性。</li>
<li><strong><code>@classmethod</code></strong>：定义类方法，接受类对象作为第一个参数。</li>
<li><strong><code>@property</code></strong>：将方法转换为属性。</li>
</ul>
<div class="language-python highlight"><pre><span></span><code><span id="__span-32-1"><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a><span class="k">class</span> <span class="nc">MyClass</span><span class="p">:</span>
</span><span id="__span-32-2"><a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
</span><span id="__span-32-3"><a id="__codelineno-32-3" name="__codelineno-32-3" href="#__codelineno-32-3"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_value</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="__span-32-4"><a id="__codelineno-32-4" name="__codelineno-32-4" href="#__codelineno-32-4"></a>
</span><span id="__span-32-5"><a id="__codelineno-32-5" name="__codelineno-32-5" href="#__codelineno-32-5"></a>    <span class="nd">@property</span>
</span><span id="__span-32-6"><a id="__codelineno-32-6" name="__codelineno-32-6" href="#__codelineno-32-6"></a>    <span class="k">def</span> <span class="nf">value</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-32-7"><a id="__codelineno-32-7" name="__codelineno-32-7" href="#__codelineno-32-7"></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_value</span>
</span><span id="__span-32-8"><a id="__codelineno-32-8" name="__codelineno-32-8" href="#__codelineno-32-8"></a>
</span><span id="__span-32-9"><a id="__codelineno-32-9" name="__codelineno-32-9" href="#__codelineno-32-9"></a>    <span class="nd">@value</span><span class="o">.</span><span class="n">setter</span>
</span><span id="__span-32-10"><a id="__codelineno-32-10" name="__codelineno-32-10" href="#__codelineno-32-10"></a>    <span class="k">def</span> <span class="nf">value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">new_value</span><span class="p">):</span>
</span><span id="__span-32-11"><a id="__codelineno-32-11" name="__codelineno-32-11" href="#__codelineno-32-11"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_value</span> <span class="o">=</span> <span class="n">new_value</span>
</span><span id="__span-32-12"><a id="__codelineno-32-12" name="__codelineno-32-12" href="#__codelineno-32-12"></a>
</span><span id="__span-32-13"><a id="__codelineno-32-13" name="__codelineno-32-13" href="#__codelineno-32-13"></a>    <span class="nd">@staticmethod</span>
</span><span id="__span-32-14"><a id="__codelineno-32-14" name="__codelineno-32-14" href="#__codelineno-32-14"></a>    <span class="k">def</span> <span class="nf">static_method</span><span class="p">():</span>
</span><span id="__span-32-15"><a id="__codelineno-32-15" name="__codelineno-32-15" href="#__codelineno-32-15"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;This is a static method.&quot;</span><span class="p">)</span>
</span><span id="__span-32-16"><a id="__codelineno-32-16" name="__codelineno-32-16" href="#__codelineno-32-16"></a>
</span><span id="__span-32-17"><a id="__codelineno-32-17" name="__codelineno-32-17" href="#__codelineno-32-17"></a>    <span class="nd">@classmethod</span>
</span><span id="__span-32-18"><a id="__codelineno-32-18" name="__codelineno-32-18" href="#__codelineno-32-18"></a>    <span class="k">def</span> <span class="nf">class_method</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
</span><span id="__span-32-19"><a id="__codelineno-32-19" name="__codelineno-32-19" href="#__codelineno-32-19"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;This is a class method.&quot;</span><span class="p">)</span>
</span></code></pre></div>
<h3 id="_24">装饰器的使用场景<a class="headerlink" href="#_24" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>日志记录</strong>：</li>
<li>在函数执行前后记录日志。</li>
</ol>
<div class="language-python highlight"><pre><span></span><code><span id="__span-33-1"><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a><span class="k">def</span> <span class="nf">log_decorator</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
</span><span id="__span-33-2"><a id="__codelineno-33-2" name="__codelineno-33-2" href="#__codelineno-33-2"></a>    <span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="__span-33-3"><a id="__codelineno-33-3" name="__codelineno-33-3" href="#__codelineno-33-3"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Calling </span><span class="si">{</span><span class="n">func</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> with </span><span class="si">{</span><span class="n">args</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">kwargs</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-33-4"><a id="__codelineno-33-4" name="__codelineno-33-4" href="#__codelineno-33-4"></a>        <span class="n">result</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="__span-33-5"><a id="__codelineno-33-5" name="__codelineno-33-5" href="#__codelineno-33-5"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">func</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> returned </span><span class="si">{</span><span class="n">result</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-33-6"><a id="__codelineno-33-6" name="__codelineno-33-6" href="#__codelineno-33-6"></a>        <span class="k">return</span> <span class="n">result</span>
</span><span id="__span-33-7"><a id="__codelineno-33-7" name="__codelineno-33-7" href="#__codelineno-33-7"></a>    <span class="k">return</span> <span class="n">wrapper</span>
</span></code></pre></div>
<ol>
<li><strong>访问控制</strong>：</li>
<li>控制函数的访问权限，检查用户权限或验证用户身份。</li>
</ol>
<div class="language-python highlight"><pre><span></span><code><span id="__span-34-1"><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a><span class="k">def</span> <span class="nf">require_authentication</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
</span><span id="__span-34-2"><a id="__codelineno-34-2" name="__codelineno-34-2" href="#__codelineno-34-2"></a>    <span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="n">user</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="__span-34-3"><a id="__codelineno-34-3" name="__codelineno-34-3" href="#__codelineno-34-3"></a>        <span class="k">if</span> <span class="ow">not</span> <span class="n">user</span><span class="o">.</span><span class="n">is_authenticated</span><span class="p">:</span>
</span><span id="__span-34-4"><a id="__codelineno-34-4" name="__codelineno-34-4" href="#__codelineno-34-4"></a>            <span class="k">raise</span> <span class="ne">PermissionError</span><span class="p">(</span><span class="s2">&quot;User must be authenticated to access this function.&quot;</span><span class="p">)</span>
</span><span id="__span-34-5"><a id="__codelineno-34-5" name="__codelineno-34-5" href="#__codelineno-34-5"></a>        <span class="k">return</span> <span class="n">func</span><span class="p">(</span><span class="n">user</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="__span-34-6"><a id="__codelineno-34-6" name="__codelineno-34-6" href="#__codelineno-34-6"></a>    <span class="k">return</span> <span class="n">wrapper</span>
</span></code></pre></div>
<ol>
<li><strong>缓存结果</strong>：</li>
<li>缓存函数的计算结果，以提高性能。</li>
</ol>
<div class="language-python highlight"><pre><span></span><code><span id="__span-35-1"><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a><span class="k">def</span> <span class="nf">memoize</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
</span><span id="__span-35-2"><a id="__codelineno-35-2" name="__codelineno-35-2" href="#__codelineno-35-2"></a>    <span class="n">cache</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="__span-35-3"><a id="__codelineno-35-3" name="__codelineno-35-3" href="#__codelineno-35-3"></a>    <span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
</span><span id="__span-35-4"><a id="__codelineno-35-4" name="__codelineno-35-4" href="#__codelineno-35-4"></a>        <span class="k">if</span> <span class="n">args</span> <span class="ow">in</span> <span class="n">cache</span><span class="p">:</span>
</span><span id="__span-35-5"><a id="__codelineno-35-5" name="__codelineno-35-5" href="#__codelineno-35-5"></a>            <span class="k">return</span> <span class="n">cache</span><span class="p">[</span><span class="n">args</span><span class="p">]</span>
</span><span id="__span-35-6"><a id="__codelineno-35-6" name="__codelineno-35-6" href="#__codelineno-35-6"></a>        <span class="n">result</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
</span><span id="__span-35-7"><a id="__codelineno-35-7" name="__codelineno-35-7" href="#__codelineno-35-7"></a>        <span class="n">cache</span><span class="p">[</span><span class="n">args</span><span class="p">]</span> <span class="o">=</span> <span class="n">result</span>
</span><span id="__span-35-8"><a id="__codelineno-35-8" name="__codelineno-35-8" href="#__codelineno-35-8"></a>        <span class="k">return</span> <span class="n">result</span>
</span><span id="__span-35-9"><a id="__codelineno-35-9" name="__codelineno-35-9" href="#__codelineno-35-9"></a>    <span class="k">return</span> <span class="n">wrapper</span>
</span></code></pre></div>
<p>装饰器在 Python 中是一个非常强大的功能，能够为代码增加可读性和可维护性，同时也提供了灵活性。理解和掌握装饰器的使用将极大地提升编写 Python 代码的能力。</p>
<h2 id="_25">什么是闭包？<a class="headerlink" href="#_25" title="Permanent link">&para;</a></h2>
<p><strong>闭包</strong>（Closure）是 Python 中的一个重要概念，它是指函数内部定义的函数，并且这个内部函数能够访问外部函数的局部变量，即使外部函数已经执行完毕。</p>
<h3 id="_26">闭包的定义条件<a class="headerlink" href="#_26" title="Permanent link">&para;</a></h3>
<p>要形成闭包，需要满足以下三个条件：</p>
<ol>
<li><strong>函数嵌套</strong>：必须有一个函数定义在另一个函数的内部。</li>
<li><strong>外部函数的变量被内部函数引用</strong>：内部函数必须引用外部函数中的变量。</li>
<li><strong>外部函数返回内部函数</strong>：外部函数必须将内部函数作为返回值。</li>
</ol>
<h3 id="_27">闭包的作用<a class="headerlink" href="#_27" title="Permanent link">&para;</a></h3>
<p>闭包的主要作用是能够保持外部函数的局部变量，即使外部函数执行完毕，这些局部变量依然可以在内部函数中使用。闭包通常用于以下场景：</p>
<ul>
<li><strong>数据封装</strong>：闭包可以将数据与操作封装在一起。</li>
<li><strong>工厂函数</strong>：通过闭包创建带有不同初始值的函数。</li>
<li><strong>延迟计算</strong>：在某些情况下，使用闭包可以将计算延迟到稍后的某个时间点。</li>
</ul>
<h3 id="_28">闭包的示例<a class="headerlink" href="#_28" title="Permanent link">&para;</a></h3>
<p>下面是一个简单的闭包示例：</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-36-1"><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a><span class="k">def</span> <span class="nf">outer_function</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
</span><span id="__span-36-2"><a id="__codelineno-36-2" name="__codelineno-36-2" href="#__codelineno-36-2"></a>    <span class="k">def</span> <span class="nf">inner_function</span><span class="p">():</span>
</span><span id="__span-36-3"><a id="__codelineno-36-3" name="__codelineno-36-3" href="#__codelineno-36-3"></a>        <span class="nb">print</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
</span><span id="__span-36-4"><a id="__codelineno-36-4" name="__codelineno-36-4" href="#__codelineno-36-4"></a>    <span class="k">return</span> <span class="n">inner_function</span>
</span><span id="__span-36-5"><a id="__codelineno-36-5" name="__codelineno-36-5" href="#__codelineno-36-5"></a>
</span><span id="__span-36-6"><a id="__codelineno-36-6" name="__codelineno-36-6" href="#__codelineno-36-6"></a><span class="n">closure</span> <span class="o">=</span> <span class="n">outer_function</span><span class="p">(</span><span class="s2">&quot;Hello, World!&quot;</span><span class="p">)</span>
</span><span id="__span-36-7"><a id="__codelineno-36-7" name="__codelineno-36-7" href="#__codelineno-36-7"></a><span class="n">closure</span><span class="p">()</span>  <span class="c1"># 输出: Hello, World!</span>
</span></code></pre></div>
<p>在这个例子中：</p>
<ul>
<li><code>outer_function</code> 是外部函数，定义了一个局部变量 <code>text</code> 和一个内部函数 <code>inner_function</code>。</li>
<li><code>inner_function</code> 引用了 <code>text</code> 变量，这是外部函数的局部变量。</li>
<li><code>outer_function</code> 返回了 <code>inner_function</code>，这使得 <code>closure</code> 成为一个闭包。</li>
<li>即使 <code>outer_function</code> 已经执行完毕并返回，<code>closure</code> 依然可以访问并使用 <code>text</code> 变量。</li>
</ul>
<h3 id="_29">闭包的实际应用<a class="headerlink" href="#_29" title="Permanent link">&para;</a></h3>
<h4 id="1_2">1. 数据封装<a class="headerlink" href="#1_2" title="Permanent link">&para;</a></h4>
<p>闭包可以用于封装数据，将数据与操作绑定在一起，避免数据被外部直接访问和修改。</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-37-1"><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a><span class="k">def</span> <span class="nf">make_counter</span><span class="p">():</span>
</span><span id="__span-37-2"><a id="__codelineno-37-2" name="__codelineno-37-2" href="#__codelineno-37-2"></a>    <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="__span-37-3"><a id="__codelineno-37-3" name="__codelineno-37-3" href="#__codelineno-37-3"></a>    <span class="k">def</span> <span class="nf">counter</span><span class="p">():</span>
</span><span id="__span-37-4"><a id="__codelineno-37-4" name="__codelineno-37-4" href="#__codelineno-37-4"></a>        <span class="k">nonlocal</span> <span class="n">count</span>
</span><span id="__span-37-5"><a id="__codelineno-37-5" name="__codelineno-37-5" href="#__codelineno-37-5"></a>        <span class="n">count</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="__span-37-6"><a id="__codelineno-37-6" name="__codelineno-37-6" href="#__codelineno-37-6"></a>        <span class="k">return</span> <span class="n">count</span>
</span><span id="__span-37-7"><a id="__codelineno-37-7" name="__codelineno-37-7" href="#__codelineno-37-7"></a>    <span class="k">return</span> <span class="n">counter</span>
</span><span id="__span-37-8"><a id="__codelineno-37-8" name="__codelineno-37-8" href="#__codelineno-37-8"></a>
</span><span id="__span-37-9"><a id="__codelineno-37-9" name="__codelineno-37-9" href="#__codelineno-37-9"></a><span class="n">counter_a</span> <span class="o">=</span> <span class="n">make_counter</span><span class="p">()</span>
</span><span id="__span-37-10"><a id="__codelineno-37-10" name="__codelineno-37-10" href="#__codelineno-37-10"></a><span class="nb">print</span><span class="p">(</span><span class="n">counter_a</span><span class="p">())</span>  <span class="c1"># 输出: 1</span>
</span><span id="__span-37-11"><a id="__codelineno-37-11" name="__codelineno-37-11" href="#__codelineno-37-11"></a><span class="nb">print</span><span class="p">(</span><span class="n">counter_a</span><span class="p">())</span>  <span class="c1"># 输出: 2</span>
</span><span id="__span-37-12"><a id="__codelineno-37-12" name="__codelineno-37-12" href="#__codelineno-37-12"></a>
</span><span id="__span-37-13"><a id="__codelineno-37-13" name="__codelineno-37-13" href="#__codelineno-37-13"></a><span class="n">counter_b</span> <span class="o">=</span> <span class="n">make_counter</span><span class="p">()</span>
</span><span id="__span-37-14"><a id="__codelineno-37-14" name="__codelineno-37-14" href="#__codelineno-37-14"></a><span class="nb">print</span><span class="p">(</span><span class="n">counter_b</span><span class="p">())</span>  <span class="c1"># 输出: 1</span>
</span></code></pre></div>
<p>在这个例子中，<code>make_counter</code> 返回了一个闭包 <code>counter</code>。每次调用 <code>counter</code> 时，闭包都会记住 <code>count</code> 的状态，并在此基础上进行操作。</p>
<h4 id="2_2">2. 函数工厂<a class="headerlink" href="#2_2" title="Permanent link">&para;</a></h4>
<p>闭包可以用于创建具有不同初始值的函数。</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-38-1"><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a><span class="k">def</span> <span class="nf">power_factory</span><span class="p">(</span><span class="n">exponent</span><span class="p">):</span>
</span><span id="__span-38-2"><a id="__codelineno-38-2" name="__codelineno-38-2" href="#__codelineno-38-2"></a>    <span class="k">def</span> <span class="nf">power</span><span class="p">(</span><span class="n">base</span><span class="p">):</span>
</span><span id="__span-38-3"><a id="__codelineno-38-3" name="__codelineno-38-3" href="#__codelineno-38-3"></a>        <span class="k">return</span> <span class="n">base</span> <span class="o">**</span> <span class="n">exponent</span>
</span><span id="__span-38-4"><a id="__codelineno-38-4" name="__codelineno-38-4" href="#__codelineno-38-4"></a>    <span class="k">return</span> <span class="n">power</span>
</span><span id="__span-38-5"><a id="__codelineno-38-5" name="__codelineno-38-5" href="#__codelineno-38-5"></a>
</span><span id="__span-38-6"><a id="__codelineno-38-6" name="__codelineno-38-6" href="#__codelineno-38-6"></a><span class="n">square</span> <span class="o">=</span> <span class="n">power_factory</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</span><span id="__span-38-7"><a id="__codelineno-38-7" name="__codelineno-38-7" href="#__codelineno-38-7"></a><span class="n">cube</span> <span class="o">=</span> <span class="n">power_factory</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</span><span id="__span-38-8"><a id="__codelineno-38-8" name="__codelineno-38-8" href="#__codelineno-38-8"></a>
</span><span id="__span-38-9"><a id="__codelineno-38-9" name="__codelineno-38-9" href="#__codelineno-38-9"></a><span class="nb">print</span><span class="p">(</span><span class="n">square</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>  <span class="c1"># 输出: 16</span>
</span><span id="__span-38-10"><a id="__codelineno-38-10" name="__codelineno-38-10" href="#__codelineno-38-10"></a><span class="nb">print</span><span class="p">(</span><span class="n">cube</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>    <span class="c1"># 输出: 64</span>
</span></code></pre></div>
<p>在这个例子中，<code>power_factory</code> 返回了不同的闭包函数 <code>square</code> 和 <code>cube</code>，它们分别计算平方和立方。</p>
<h3 id="_30">闭包和函数对象<a class="headerlink" href="#_30" title="Permanent link">&para;</a></h3>
<p>在 Python 中，函数也是对象，闭包通过内部函数持有对外部函数局部变量的引用。这使得即使外部函数已经执行完毕，内部函数仍然能够访问这些局部变量。这种特性使得闭包在实现延迟计算、回调函数、函数式编程等方面非常有用。</p>
<h3 id="_31">总结<a class="headerlink" href="#_31" title="Permanent link">&para;</a></h3>
<p>闭包是 Python 中的一个强大概念，它让你能够创建更灵活和可复用的代码。在理解闭包的基础上，可以更深入地掌握 Python 的函数式编程，以及如何利用闭包实现一些复杂的编程任务。</p>
<h2 id="python_4">如何实现 Python 的浅拷贝和深拷贝？<a class="headerlink" href="#python_4" title="Permanent link">&para;</a></h2>
<ul>
<li>浅拷贝：通过 copy() 方法或 copy 模块中的 copy() 函数实现，只复制对象的引用。</li>
<li>深拷贝：通过 copy 模块中的 deepcopy() 函数实现，复制对象及其嵌套的所有对象</li>
</ul>
<div class="language-python highlight"><pre><span></span><code><span id="__span-39-1"><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a><span class="kn">import</span> <span class="nn">copy</span>
</span><span id="__span-39-2"><a id="__codelineno-39-2" name="__codelineno-39-2" href="#__codelineno-39-2"></a>
</span><span id="__span-39-3"><a id="__codelineno-39-3" name="__codelineno-39-3" href="#__codelineno-39-3"></a><span class="n">list1</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]]</span>
</span><span id="__span-39-4"><a id="__codelineno-39-4" name="__codelineno-39-4" href="#__codelineno-39-4"></a><span class="n">list2</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">list1</span><span class="p">)</span>  <span class="c1"># 浅拷贝</span>
</span><span id="__span-39-5"><a id="__codelineno-39-5" name="__codelineno-39-5" href="#__codelineno-39-5"></a><span class="n">list3</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">list1</span><span class="p">)</span>  <span class="c1"># 深拷贝</span>
</span></code></pre></div>
<h2 id="python_5">Python 中的可变类型和不可变类型有哪些？<a class="headerlink" href="#python_5" title="Permanent link">&para;</a></h2>
<ul>
<li>可变类型：列表 (list)、字典 (dict)、集合 (set)。</li>
<li>不可变类型：整数 (int)、字符串 (str)、元组 (tuple)、布尔值 (bool)。</li>
</ul>
<h2 id="args-kwargs">*args 和 **kwargs 的作用？<a class="headerlink" href="#args-kwargs" title="Permanent link">&para;</a></h2>
<p>在 Python 中，<code>*args</code> 和 <code>**kwargs</code> 是两种用于函数定义的特殊语法，用来处理可变数量的参数。它们使得函数可以接受任意数量的非关键字参数和关键字参数，从而提高函数的灵活性和可扩展性。</p>
<h3 id="args">一、<code>*args</code> 的作用<a class="headerlink" href="#args" title="Permanent link">&para;</a></h3>
<p><code>*args</code> 用于将任意数量的非关键字参数传递给函数。这些参数会被函数接收到一个**元组**中。<code>args</code> 这个名字并不是固定的，关键是星号 <code>*</code>，它告诉 Python 将所有未命名的变量参数以元组的形式传递给函数。</p>
<h4 id="_32">例子：<a class="headerlink" href="#_32" title="Permanent link">&para;</a></h4>
<div class="language-python highlight"><pre><span></span><code><span id="__span-40-1"><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a><span class="k">def</span> <span class="nf">my_function</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span>
</span><span id="__span-40-2"><a id="__codelineno-40-2" name="__codelineno-40-2" href="#__codelineno-40-2"></a>    <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">args</span><span class="p">:</span>
</span><span id="__span-40-3"><a id="__codelineno-40-3" name="__codelineno-40-3" href="#__codelineno-40-3"></a>        <span class="nb">print</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>
</span><span id="__span-40-4"><a id="__codelineno-40-4" name="__codelineno-40-4" href="#__codelineno-40-4"></a>
</span><span id="__span-40-5"><a id="__codelineno-40-5" name="__codelineno-40-5" href="#__codelineno-40-5"></a><span class="n">my_function</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
</span></code></pre></div>
<h4 id="_33">输出：<a class="headerlink" href="#_33" title="Permanent link">&para;</a></h4>
<div class="language-text highlight"><pre><span></span><code><span id="__span-41-1"><a id="__codelineno-41-1" name="__codelineno-41-1" href="#__codelineno-41-1"></a>1
</span><span id="__span-41-2"><a id="__codelineno-41-2" name="__codelineno-41-2" href="#__codelineno-41-2"></a>2
</span><span id="__span-41-3"><a id="__codelineno-41-3" name="__codelineno-41-3" href="#__codelineno-41-3"></a>3
</span><span id="__span-41-4"><a id="__codelineno-41-4" name="__codelineno-41-4" href="#__codelineno-41-4"></a>4
</span><span id="__span-41-5"><a id="__codelineno-41-5" name="__codelineno-41-5" href="#__codelineno-41-5"></a>5
</span></code></pre></div>
<p>在这个例子中，<code>my_function</code> 接受了多个参数，并通过 <code>*args</code> 将它们打包成一个元组 <code>(1, 2, 3, 4, 5)</code> 传递给函数。在函数内部，我们可以像处理普通元组一样遍历或操作这些参数。</p>
<h4 id="_34">使用场景：<a class="headerlink" href="#_34" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>定义接受可变数量参数的函数</strong>：适用于需要处理未知数量输入的函数，如求和、拼接等。</li>
<li><strong>传递参数给另一个函数</strong>：<code>*args</code> 可以用来将参数列表传递给其他函数或方法。</li>
</ul>
<h4 id="_35">注意：<a class="headerlink" href="#_35" title="Permanent link">&para;</a></h4>
<ul>
<li><code>*args</code> 必须在所有位置参数之后定义，不能在关键字参数之前。</li>
</ul>
<h3 id="kwargs">二、<code>**kwargs</code> 的作用<a class="headerlink" href="#kwargs" title="Permanent link">&para;</a></h3>
<p><code>**kwargs</code> 用于将任意数量的关键字参数传递给函数。这些参数会被函数接收到一个**字典**中。<code>kwargs</code> 这个名字同样不是固定的，重要的是双星号 <code>**</code>，它告诉 Python 将所有未命名的关键字参数以字典的形式传递给函数。</p>
<h4 id="_36">例子：<a class="headerlink" href="#_36" title="Permanent link">&para;</a></h4>
<div class="language-python highlight"><pre><span></span><code><span id="__span-42-1"><a id="__codelineno-42-1" name="__codelineno-42-1" href="#__codelineno-42-1"></a><span class="k">def</span> <span class="nf">my_function</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="__span-42-2"><a id="__codelineno-42-2" name="__codelineno-42-2" href="#__codelineno-42-2"></a>    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="__span-42-3"><a id="__codelineno-42-3" name="__codelineno-42-3" href="#__codelineno-42-3"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2"> = </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-42-4"><a id="__codelineno-42-4" name="__codelineno-42-4" href="#__codelineno-42-4"></a>
</span><span id="__span-42-5"><a id="__codelineno-42-5" name="__codelineno-42-5" href="#__codelineno-42-5"></a><span class="n">my_function</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;Alice&quot;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">city</span><span class="o">=</span><span class="s2">&quot;New York&quot;</span><span class="p">)</span>
</span></code></pre></div>
<h4 id="_37">输出：<a class="headerlink" href="#_37" title="Permanent link">&para;</a></h4>
<div class="language-text highlight"><pre><span></span><code><span id="__span-43-1"><a id="__codelineno-43-1" name="__codelineno-43-1" href="#__codelineno-43-1"></a>name = Alice
</span><span id="__span-43-2"><a id="__codelineno-43-2" name="__codelineno-43-2" href="#__codelineno-43-2"></a>age = 30
</span><span id="__span-43-3"><a id="__codelineno-43-3" name="__codelineno-43-3" href="#__codelineno-43-3"></a>city = New York
</span></code></pre></div>
<p>在这个例子中，<code>my_function</code> 接受了多个关键字参数，并通过 <code>**kwargs</code> 将它们打包成一个字典 <code>{'name': 'Alice', 'age': 30, 'city': 'New York'}</code> 传递给函数。在函数内部，我们可以像处理普通字典一样遍历或操作这些参数。</p>
<h4 id="_38">使用场景：<a class="headerlink" href="#_38" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>定义接受可变数量关键字参数的函数</strong>：适用于处理配置选项、可选参数等需要传递键值对的场景。</li>
<li><strong>扩展函数功能</strong>：可以在函数定义时预留处理额外配置或选项的能力。</li>
</ul>
<h4 id="_39">注意：<a class="headerlink" href="#_39" title="Permanent link">&para;</a></h4>
<ul>
<li><code>**kwargs</code> 必须在所有位置参数和 <code>*args</code> 参数之后定义。</li>
</ul>
<h3 id="args-kwargs_1">三、<code>*args</code> 和 <code>**kwargs</code> 的混合使用<a class="headerlink" href="#args-kwargs_1" title="Permanent link">&para;</a></h3>
<p>在定义函数时，可以同时使用 <code>*args</code> 和 <code>**kwargs</code>，从而允许函数接受任意数量的非关键字参数和关键字参数。这种组合可以使函数更加通用和灵活。</p>
<h4 id="_40">例子：<a class="headerlink" href="#_40" title="Permanent link">&para;</a></h4>
<div class="language-python highlight"><pre><span></span><code><span id="__span-44-1"><a id="__codelineno-44-1" name="__codelineno-44-1" href="#__codelineno-44-1"></a><span class="k">def</span> <span class="nf">my_function</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="__span-44-2"><a id="__codelineno-44-2" name="__codelineno-44-2" href="#__codelineno-44-2"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Positional arguments:&quot;</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span>
</span><span id="__span-44-3"><a id="__codelineno-44-3" name="__codelineno-44-3" href="#__codelineno-44-3"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Keyword arguments:&quot;</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">)</span>
</span><span id="__span-44-4"><a id="__codelineno-44-4" name="__codelineno-44-4" href="#__codelineno-44-4"></a>
</span><span id="__span-44-5"><a id="__codelineno-44-5" name="__codelineno-44-5" href="#__codelineno-44-5"></a><span class="n">my_function</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Alice&quot;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span>
</span></code></pre></div>
<h4 id="_41">输出：<a class="headerlink" href="#_41" title="Permanent link">&para;</a></h4>
<div class="language-text highlight"><pre><span></span><code><span id="__span-45-1"><a id="__codelineno-45-1" name="__codelineno-45-1" href="#__codelineno-45-1"></a>Positional arguments: (1, 2, 3)
</span><span id="__span-45-2"><a id="__codelineno-45-2" name="__codelineno-45-2" href="#__codelineno-45-2"></a>Keyword arguments: {&#39;name&#39;: &#39;Alice&#39;, &#39;age&#39;: 30}
</span></code></pre></div>
<p>在这个例子中，<code>my_function</code> 接收了三个位置参数和两个关键字参数，并分别通过 <code>*args</code> 和 <code>**kwargs</code> 将它们传递给函数。</p>
<h3 id="_42">四、实战案例<a class="headerlink" href="#_42" title="Permanent link">&para;</a></h3>
<h4 id="1_3">1. 函数封装<a class="headerlink" href="#1_3" title="Permanent link">&para;</a></h4>
<p>可以用 <code>*args</code> 和 <code>**kwargs</code> 封装现有的函数，使其能够适应更多场景。</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-46-1"><a id="__codelineno-46-1" name="__codelineno-46-1" href="#__codelineno-46-1"></a><span class="k">def</span> <span class="nf">logger</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
</span><span id="__span-46-2"><a id="__codelineno-46-2" name="__codelineno-46-2" href="#__codelineno-46-2"></a>    <span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="__span-46-3"><a id="__codelineno-46-3" name="__codelineno-46-3" href="#__codelineno-46-3"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Calling </span><span class="si">{</span><span class="n">func</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> with args: </span><span class="si">{</span><span class="n">args</span><span class="si">}</span><span class="s2"> and kwargs: </span><span class="si">{</span><span class="n">kwargs</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-46-4"><a id="__codelineno-46-4" name="__codelineno-46-4" href="#__codelineno-46-4"></a>        <span class="k">return</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="__span-46-5"><a id="__codelineno-46-5" name="__codelineno-46-5" href="#__codelineno-46-5"></a>    <span class="k">return</span> <span class="n">wrapper</span>
</span><span id="__span-46-6"><a id="__codelineno-46-6" name="__codelineno-46-6" href="#__codelineno-46-6"></a>
</span><span id="__span-46-7"><a id="__codelineno-46-7" name="__codelineno-46-7" href="#__codelineno-46-7"></a><span class="nd">@logger</span>
</span><span id="__span-46-8"><a id="__codelineno-46-8" name="__codelineno-46-8" href="#__codelineno-46-8"></a><span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
</span><span id="__span-46-9"><a id="__codelineno-46-9" name="__codelineno-46-9" href="#__codelineno-46-9"></a>    <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
</span><span id="__span-46-10"><a id="__codelineno-46-10" name="__codelineno-46-10" href="#__codelineno-46-10"></a>
</span><span id="__span-46-11"><a id="__codelineno-46-11" name="__codelineno-46-11" href="#__codelineno-46-11"></a><span class="n">result</span> <span class="o">=</span> <span class="n">add</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
</span></code></pre></div>
<h4 id="_43">输出：<a class="headerlink" href="#_43" title="Permanent link">&para;</a></h4>
<div class="language-text highlight"><pre><span></span><code><span id="__span-47-1"><a id="__codelineno-47-1" name="__codelineno-47-1" href="#__codelineno-47-1"></a>Calling add with args: (3, 5) and kwargs: {}
</span></code></pre></div>
<p>在这个例子中，我们通过 <code>*args</code> 和 <code>**kwargs</code> 实现了一个简单的装饰器 <code>logger</code>，它可以打印被装饰函数的参数。</p>
<h4 id="2-api">2. API 设计<a class="headerlink" href="#2-api" title="Permanent link">&para;</a></h4>
<p>在设计 API 时，可以通过 <code>*args</code> 和 <code>**kwargs</code> 实现灵活的参数传递，增强函数的扩展性和适应性。</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-48-1"><a id="__codelineno-48-1" name="__codelineno-48-1" href="#__codelineno-48-1"></a><span class="k">def</span> <span class="nf">api_call</span><span class="p">(</span><span class="n">endpoint</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="__span-48-2"><a id="__codelineno-48-2" name="__codelineno-48-2" href="#__codelineno-48-2"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Endpoint: </span><span class="si">{</span><span class="n">endpoint</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-48-3"><a id="__codelineno-48-3" name="__codelineno-48-3" href="#__codelineno-48-3"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Method: </span><span class="si">{</span><span class="n">method</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-48-4"><a id="__codelineno-48-4" name="__codelineno-48-4" href="#__codelineno-48-4"></a>    <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="__span-48-5"><a id="__codelineno-48-5" name="__codelineno-48-5" href="#__codelineno-48-5"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">key</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-48-6"><a id="__codelineno-48-6" name="__codelineno-48-6" href="#__codelineno-48-6"></a>
</span><span id="__span-48-7"><a id="__codelineno-48-7" name="__codelineno-48-7" href="#__codelineno-48-7"></a><span class="n">api_call</span><span class="p">(</span><span class="s1">&#39;/user&#39;</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;POST&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Alice&#39;</span><span class="p">},</span> <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Authorization&#39;</span><span class="p">:</span> <span class="s1">&#39;Bearer token&#39;</span><span class="p">})</span>
</span></code></pre></div>
<h4 id="_44">输出：<a class="headerlink" href="#_44" title="Permanent link">&para;</a></h4>
<div class="language-text highlight"><pre><span></span><code><span id="__span-49-1"><a id="__codelineno-49-1" name="__codelineno-49-1" href="#__codelineno-49-1"></a>Endpoint: /user
</span><span id="__span-49-2"><a id="__codelineno-49-2" name="__codelineno-49-2" href="#__codelineno-49-2"></a>Method: POST
</span><span id="__span-49-3"><a id="__codelineno-49-3" name="__codelineno-49-3" href="#__codelineno-49-3"></a>data: {&#39;name&#39;: &#39;Alice&#39;}
</span><span id="__span-49-4"><a id="__codelineno-49-4" name="__codelineno-49-4" href="#__codelineno-49-4"></a>headers: {&#39;Authorization&#39;: &#39;Bearer token&#39;}
</span></code></pre></div>
<p>在这个例子中，我们设计了一个 <code>api_call</code> 函数，利用 <code>**kwargs</code> 接收各种 API 参数，使得函数更具扩展性。</p>
<h3 id="_45">总结<a class="headerlink" href="#_45" title="Permanent link">&para;</a></h3>
<ul>
<li><code>*args</code> 和 <code>**kwargs</code> 是处理不定数量参数的强大工具。</li>
<li><code>*args</code> 适用于位置参数的传递，而 <code>**kwargs</code> 适用于关键字参数的传递。</li>
<li>在实际开发中，合理使用 <code>*args</code> 和 <code>**kwargs</code> 可以使函数设计更加灵活，代码更具适应性和复用性。</li>
</ul>
<h2 id="python_6">Python 中的继承和多态<a class="headerlink" href="#python_6" title="Permanent link">&para;</a></h2>
<h3 id="python_7">Python 中的继承和多态<a class="headerlink" href="#python_7" title="Permanent link">&para;</a></h3>
<p>继承和多态是面向对象编程（OOP）的两个重要概念，在 Python 中也广泛应用。理解它们有助于我们设计出更灵活和可扩展的程序。</p>
<hr />
<h3 id="inheritance">一、继承（Inheritance）<a class="headerlink" href="#inheritance" title="Permanent link">&para;</a></h3>
<h4 id="1_4">1. 什么是继承？<a class="headerlink" href="#1_4" title="Permanent link">&para;</a></h4>
<p>继承是一种面向对象编程的机制，允许一个类（子类）从另一个类（父类或基类）继承属性和方法。通过继承，子类不仅可以拥有父类的所有属性和方法，还可以添加新的属性和方法，或重写父类的方法。</p>
<h4 id="2_3">2. 继承的基本语法<a class="headerlink" href="#2_3" title="Permanent link">&para;</a></h4>
<p>在 Python 中，继承通过定义一个类并将另一个类作为参数传递给它来实现。</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-50-1"><a id="__codelineno-50-1" name="__codelineno-50-1" href="#__codelineno-50-1"></a><span class="k">class</span> <span class="nc">Parent</span><span class="p">:</span>
</span><span id="__span-50-2"><a id="__codelineno-50-2" name="__codelineno-50-2" href="#__codelineno-50-2"></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
</span><span id="__span-50-3"><a id="__codelineno-50-3" name="__codelineno-50-3" href="#__codelineno-50-3"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
</span><span id="__span-50-4"><a id="__codelineno-50-4" name="__codelineno-50-4" href="#__codelineno-50-4"></a>
</span><span id="__span-50-5"><a id="__codelineno-50-5" name="__codelineno-50-5" href="#__codelineno-50-5"></a>    <span class="k">def</span> <span class="nf">greet</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-50-6"><a id="__codelineno-50-6" name="__codelineno-50-6" href="#__codelineno-50-6"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Hello, I am </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
</span><span id="__span-50-7"><a id="__codelineno-50-7" name="__codelineno-50-7" href="#__codelineno-50-7"></a>
</span><span id="__span-50-8"><a id="__codelineno-50-8" name="__codelineno-50-8" href="#__codelineno-50-8"></a><span class="k">class</span> <span class="nc">Child</span><span class="p">(</span><span class="n">Parent</span><span class="p">):</span>
</span><span id="__span-50-9"><a id="__codelineno-50-9" name="__codelineno-50-9" href="#__codelineno-50-9"></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">age</span><span class="p">):</span>
</span><span id="__span-50-10"><a id="__codelineno-50-10" name="__codelineno-50-10" href="#__codelineno-50-10"></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
</span><span id="__span-50-11"><a id="__codelineno-50-11" name="__codelineno-50-11" href="#__codelineno-50-11"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">age</span> <span class="o">=</span> <span class="n">age</span>
</span><span id="__span-50-12"><a id="__codelineno-50-12" name="__codelineno-50-12" href="#__codelineno-50-12"></a>
</span><span id="__span-50-13"><a id="__codelineno-50-13" name="__codelineno-50-13" href="#__codelineno-50-13"></a>    <span class="k">def</span> <span class="nf">greet</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-50-14"><a id="__codelineno-50-14" name="__codelineno-50-14" href="#__codelineno-50-14"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Hello, I am </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2">, and I am </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">age</span><span class="si">}</span><span class="s2"> years old.&quot;</span><span class="p">)</span>
</span></code></pre></div>
<h4 id="3-super">3. <code>super()</code> 函数<a class="headerlink" href="#3-super" title="Permanent link">&para;</a></h4>
<p><code>super()</code> 函数用于调用父类的方法，特别是在子类重写了父类的方法时，可以通过 <code>super()</code> 调用被重写的父类方法。</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-51-1"><a id="__codelineno-51-1" name="__codelineno-51-1" href="#__codelineno-51-1"></a><span class="k">class</span> <span class="nc">Child</span><span class="p">(</span><span class="n">Parent</span><span class="p">):</span>
</span><span id="__span-51-2"><a id="__codelineno-51-2" name="__codelineno-51-2" href="#__codelineno-51-2"></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">age</span><span class="p">):</span>
</span><span id="__span-51-3"><a id="__codelineno-51-3" name="__codelineno-51-3" href="#__codelineno-51-3"></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>  <span class="c1"># 调用父类的 __init__ 方法</span>
</span><span id="__span-51-4"><a id="__codelineno-51-4" name="__codelineno-51-4" href="#__codelineno-51-4"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">age</span> <span class="o">=</span> <span class="n">age</span>
</span><span id="__span-51-5"><a id="__codelineno-51-5" name="__codelineno-51-5" href="#__codelineno-51-5"></a>
</span><span id="__span-51-6"><a id="__codelineno-51-6" name="__codelineno-51-6" href="#__codelineno-51-6"></a>    <span class="k">def</span> <span class="nf">greet</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-51-7"><a id="__codelineno-51-7" name="__codelineno-51-7" href="#__codelineno-51-7"></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">greet</span><span class="p">()</span>  <span class="c1"># 调用父类的 greet 方法</span>
</span><span id="__span-51-8"><a id="__codelineno-51-8" name="__codelineno-51-8" href="#__codelineno-51-8"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;I am </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">age</span><span class="si">}</span><span class="s2"> years old.&quot;</span><span class="p">)</span>
</span></code></pre></div>
<p>在这个例子中，<code>super().__init__(name)</code> 调用了父类 <code>Parent</code> 的构造方法，使得子类 <code>Child</code> 也能初始化 <code>name</code> 属性。</p>
<h4 id="4_4">4. 多重继承<a class="headerlink" href="#4_4" title="Permanent link">&para;</a></h4>
<p>Python 支持多重继承，一个类可以继承多个父类。语法上，多个父类通过逗号分隔。</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-52-1"><a id="__codelineno-52-1" name="__codelineno-52-1" href="#__codelineno-52-1"></a><span class="k">class</span> <span class="nc">Base1</span><span class="p">:</span>
</span><span id="__span-52-2"><a id="__codelineno-52-2" name="__codelineno-52-2" href="#__codelineno-52-2"></a>    <span class="k">def</span> <span class="nf">method_base1</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-52-3"><a id="__codelineno-52-3" name="__codelineno-52-3" href="#__codelineno-52-3"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Method in Base1&quot;</span><span class="p">)</span>
</span><span id="__span-52-4"><a id="__codelineno-52-4" name="__codelineno-52-4" href="#__codelineno-52-4"></a>
</span><span id="__span-52-5"><a id="__codelineno-52-5" name="__codelineno-52-5" href="#__codelineno-52-5"></a><span class="k">class</span> <span class="nc">Base2</span><span class="p">:</span>
</span><span id="__span-52-6"><a id="__codelineno-52-6" name="__codelineno-52-6" href="#__codelineno-52-6"></a>    <span class="k">def</span> <span class="nf">method_base2</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-52-7"><a id="__codelineno-52-7" name="__codelineno-52-7" href="#__codelineno-52-7"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Method in Base2&quot;</span><span class="p">)</span>
</span><span id="__span-52-8"><a id="__codelineno-52-8" name="__codelineno-52-8" href="#__codelineno-52-8"></a>
</span><span id="__span-52-9"><a id="__codelineno-52-9" name="__codelineno-52-9" href="#__codelineno-52-9"></a><span class="k">class</span> <span class="nc">Derived</span><span class="p">(</span><span class="n">Base1</span><span class="p">,</span> <span class="n">Base2</span><span class="p">):</span>
</span><span id="__span-52-10"><a id="__codelineno-52-10" name="__codelineno-52-10" href="#__codelineno-52-10"></a>    <span class="k">pass</span>
</span><span id="__span-52-11"><a id="__codelineno-52-11" name="__codelineno-52-11" href="#__codelineno-52-11"></a>
</span><span id="__span-52-12"><a id="__codelineno-52-12" name="__codelineno-52-12" href="#__codelineno-52-12"></a><span class="n">d</span> <span class="o">=</span> <span class="n">Derived</span><span class="p">()</span>
</span><span id="__span-52-13"><a id="__codelineno-52-13" name="__codelineno-52-13" href="#__codelineno-52-13"></a><span class="n">d</span><span class="o">.</span><span class="n">method_base1</span><span class="p">()</span>
</span><span id="__span-52-14"><a id="__codelineno-52-14" name="__codelineno-52-14" href="#__codelineno-52-14"></a><span class="n">d</span><span class="o">.</span><span class="n">method_base2</span><span class="p">()</span>
</span></code></pre></div>
<p>多重继承可以增加类的功能，但同时也会带来复杂性，需要小心处理多重继承可能导致的菱形继承问题。</p>
<h3 id="polymorphism">二、多态（Polymorphism）<a class="headerlink" href="#polymorphism" title="Permanent link">&para;</a></h3>
<h4 id="1_5">1. 什么是多态？<a class="headerlink" href="#1_5" title="Permanent link">&para;</a></h4>
<p>多态指的是不同类的对象可以通过相同的接口来调用不同的行为。简单来说，就是同样的操作可以作用于不同的对象，表现出不同的行为。</p>
<p>在 Python 中，多态主要通过**方法重写（Override）**和**鸭子类型（Duck Typing）**来实现。</p>
<h4 id="2_4">2. 方法重写<a class="headerlink" href="#2_4" title="Permanent link">&para;</a></h4>
<p>子类可以重写（Override）父类的方法，从而表现出不同的行为。</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-53-1"><a id="__codelineno-53-1" name="__codelineno-53-1" href="#__codelineno-53-1"></a><span class="k">class</span> <span class="nc">Animal</span><span class="p">:</span>
</span><span id="__span-53-2"><a id="__codelineno-53-2" name="__codelineno-53-2" href="#__codelineno-53-2"></a>    <span class="k">def</span> <span class="nf">speak</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-53-3"><a id="__codelineno-53-3" name="__codelineno-53-3" href="#__codelineno-53-3"></a>        <span class="k">pass</span>
</span><span id="__span-53-4"><a id="__codelineno-53-4" name="__codelineno-53-4" href="#__codelineno-53-4"></a>
</span><span id="__span-53-5"><a id="__codelineno-53-5" name="__codelineno-53-5" href="#__codelineno-53-5"></a><span class="k">class</span> <span class="nc">Dog</span><span class="p">(</span><span class="n">Animal</span><span class="p">):</span>
</span><span id="__span-53-6"><a id="__codelineno-53-6" name="__codelineno-53-6" href="#__codelineno-53-6"></a>    <span class="k">def</span> <span class="nf">speak</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-53-7"><a id="__codelineno-53-7" name="__codelineno-53-7" href="#__codelineno-53-7"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Woof!&quot;</span><span class="p">)</span>
</span><span id="__span-53-8"><a id="__codelineno-53-8" name="__codelineno-53-8" href="#__codelineno-53-8"></a>
</span><span id="__span-53-9"><a id="__codelineno-53-9" name="__codelineno-53-9" href="#__codelineno-53-9"></a><span class="k">class</span> <span class="nc">Cat</span><span class="p">(</span><span class="n">Animal</span><span class="p">):</span>
</span><span id="__span-53-10"><a id="__codelineno-53-10" name="__codelineno-53-10" href="#__codelineno-53-10"></a>    <span class="k">def</span> <span class="nf">speak</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-53-11"><a id="__codelineno-53-11" name="__codelineno-53-11" href="#__codelineno-53-11"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Meow!&quot;</span><span class="p">)</span>
</span><span id="__span-53-12"><a id="__codelineno-53-12" name="__codelineno-53-12" href="#__codelineno-53-12"></a>
</span><span id="__span-53-13"><a id="__codelineno-53-13" name="__codelineno-53-13" href="#__codelineno-53-13"></a><span class="k">def</span> <span class="nf">make_animal_speak</span><span class="p">(</span><span class="n">animal</span><span class="p">):</span>
</span><span id="__span-53-14"><a id="__codelineno-53-14" name="__codelineno-53-14" href="#__codelineno-53-14"></a>    <span class="n">animal</span><span class="o">.</span><span class="n">speak</span><span class="p">()</span>
</span><span id="__span-53-15"><a id="__codelineno-53-15" name="__codelineno-53-15" href="#__codelineno-53-15"></a>
</span><span id="__span-53-16"><a id="__codelineno-53-16" name="__codelineno-53-16" href="#__codelineno-53-16"></a><span class="n">dog</span> <span class="o">=</span> <span class="n">Dog</span><span class="p">()</span>
</span><span id="__span-53-17"><a id="__codelineno-53-17" name="__codelineno-53-17" href="#__codelineno-53-17"></a><span class="n">cat</span> <span class="o">=</span> <span class="n">Cat</span><span class="p">()</span>
</span><span id="__span-53-18"><a id="__codelineno-53-18" name="__codelineno-53-18" href="#__codelineno-53-18"></a>
</span><span id="__span-53-19"><a id="__codelineno-53-19" name="__codelineno-53-19" href="#__codelineno-53-19"></a><span class="n">make_animal_speak</span><span class="p">(</span><span class="n">dog</span><span class="p">)</span>  <span class="c1"># 输出: Woof!</span>
</span><span id="__span-53-20"><a id="__codelineno-53-20" name="__codelineno-53-20" href="#__codelineno-53-20"></a><span class="n">make_animal_speak</span><span class="p">(</span><span class="n">cat</span><span class="p">)</span>  <span class="c1"># 输出: Meow!</span>
</span></code></pre></div>
<p>在这个例子中，<code>Dog</code> 和 <code>Cat</code> 都继承自 <code>Animal</code> 类，并且都重写了 <code>speak</code> 方法。尽管它们的类型不同，但在调用 <code>make_animal_speak</code> 函数时，能够各自表现出不同的行为，这就是多态。</p>
<h4 id="3-duck-typing">3. 鸭子类型（Duck Typing）<a class="headerlink" href="#3-duck-typing" title="Permanent link">&para;</a></h4>
<p>Python 是动态类型语言，鸭子类型是一种通过对象行为来进行类型检查的方式，即"如果它走起来像鸭子，叫起来像鸭子，那么它就是鸭子"。</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-54-1"><a id="__codelineno-54-1" name="__codelineno-54-1" href="#__codelineno-54-1"></a><span class="k">class</span> <span class="nc">Bird</span><span class="p">:</span>
</span><span id="__span-54-2"><a id="__codelineno-54-2" name="__codelineno-54-2" href="#__codelineno-54-2"></a>    <span class="k">def</span> <span class="nf">fly</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-54-3"><a id="__codelineno-54-3" name="__codelineno-54-3" href="#__codelineno-54-3"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Bird is flying&quot;</span><span class="p">)</span>
</span><span id="__span-54-4"><a id="__codelineno-54-4" name="__codelineno-54-4" href="#__codelineno-54-4"></a>
</span><span id="__span-54-5"><a id="__codelineno-54-5" name="__codelineno-54-5" href="#__codelineno-54-5"></a><span class="k">class</span> <span class="nc">Airplane</span><span class="p">:</span>
</span><span id="__span-54-6"><a id="__codelineno-54-6" name="__codelineno-54-6" href="#__codelineno-54-6"></a>    <span class="k">def</span> <span class="nf">fly</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-54-7"><a id="__codelineno-54-7" name="__codelineno-54-7" href="#__codelineno-54-7"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Airplane is flying&quot;</span><span class="p">)</span>
</span><span id="__span-54-8"><a id="__codelineno-54-8" name="__codelineno-54-8" href="#__codelineno-54-8"></a>
</span><span id="__span-54-9"><a id="__codelineno-54-9" name="__codelineno-54-9" href="#__codelineno-54-9"></a><span class="k">def</span> <span class="nf">make_it_fly</span><span class="p">(</span><span class="n">thing</span><span class="p">):</span>
</span><span id="__span-54-10"><a id="__codelineno-54-10" name="__codelineno-54-10" href="#__codelineno-54-10"></a>    <span class="n">thing</span><span class="o">.</span><span class="n">fly</span><span class="p">()</span>
</span><span id="__span-54-11"><a id="__codelineno-54-11" name="__codelineno-54-11" href="#__codelineno-54-11"></a>
</span><span id="__span-54-12"><a id="__codelineno-54-12" name="__codelineno-54-12" href="#__codelineno-54-12"></a><span class="n">bird</span> <span class="o">=</span> <span class="n">Bird</span><span class="p">()</span>
</span><span id="__span-54-13"><a id="__codelineno-54-13" name="__codelineno-54-13" href="#__codelineno-54-13"></a><span class="n">airplane</span> <span class="o">=</span> <span class="n">Airplane</span><span class="p">()</span>
</span><span id="__span-54-14"><a id="__codelineno-54-14" name="__codelineno-54-14" href="#__codelineno-54-14"></a>
</span><span id="__span-54-15"><a id="__codelineno-54-15" name="__codelineno-54-15" href="#__codelineno-54-15"></a><span class="n">make_it_fly</span><span class="p">(</span><span class="n">bird</span><span class="p">)</span>      <span class="c1"># 输出: Bird is flying</span>
</span><span id="__span-54-16"><a id="__codelineno-54-16" name="__codelineno-54-16" href="#__codelineno-54-16"></a><span class="n">make_it_fly</span><span class="p">(</span><span class="n">airplane</span><span class="p">)</span>  <span class="c1"># 输出: Airplane is flying</span>
</span></code></pre></div>
<p>在这个例子中，<code>Bird</code> 和 <code>Airplane</code> 没有继承同一个父类，但都实现了 <code>fly</code> 方法。因此，<code>make_it_fly</code> 函数可以对它们进行相同的操作，这种机制就是鸭子类型的体现。</p>
<h3 id="_46">三、继承与多态的综合应用<a class="headerlink" href="#_46" title="Permanent link">&para;</a></h3>
<p>在实际开发中，继承和多态经常结合使用，通过继承实现代码的重用性，通过多态实现代码的灵活性和可扩展性。</p>
<h4 id="_47">例子：模拟一个简单的支付系统<a class="headerlink" href="#_47" title="Permanent link">&para;</a></h4>
<div class="language-python highlight"><pre><span></span><code><span id="__span-55-1"><a id="__codelineno-55-1" name="__codelineno-55-1" href="#__codelineno-55-1"></a><span class="k">class</span> <span class="nc">Payment</span><span class="p">:</span>
</span><span id="__span-55-2"><a id="__codelineno-55-2" name="__codelineno-55-2" href="#__codelineno-55-2"></a>    <span class="k">def</span> <span class="nf">pay</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">amount</span><span class="p">):</span>
</span><span id="__span-55-3"><a id="__codelineno-55-3" name="__codelineno-55-3" href="#__codelineno-55-3"></a>        <span class="k">raise</span> <span class="ne">NotImplementedError</span><span class="p">(</span><span class="s2">&quot;Subclasses must implement this method&quot;</span><span class="p">)</span>
</span><span id="__span-55-4"><a id="__codelineno-55-4" name="__codelineno-55-4" href="#__codelineno-55-4"></a>
</span><span id="__span-55-5"><a id="__codelineno-55-5" name="__codelineno-55-5" href="#__codelineno-55-5"></a><span class="k">class</span> <span class="nc">CreditCardPayment</span><span class="p">(</span><span class="n">Payment</span><span class="p">):</span>
</span><span id="__span-55-6"><a id="__codelineno-55-6" name="__codelineno-55-6" href="#__codelineno-55-6"></a>    <span class="k">def</span> <span class="nf">pay</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">amount</span><span class="p">):</span>
</span><span id="__span-55-7"><a id="__codelineno-55-7" name="__codelineno-55-7" href="#__codelineno-55-7"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Paying </span><span class="si">{</span><span class="n">amount</span><span class="si">}</span><span class="s2"> using Credit Card.&quot;</span><span class="p">)</span>
</span><span id="__span-55-8"><a id="__codelineno-55-8" name="__codelineno-55-8" href="#__codelineno-55-8"></a>
</span><span id="__span-55-9"><a id="__codelineno-55-9" name="__codelineno-55-9" href="#__codelineno-55-9"></a><span class="k">class</span> <span class="nc">PayPalPayment</span><span class="p">(</span><span class="n">Payment</span><span class="p">):</span>
</span><span id="__span-55-10"><a id="__codelineno-55-10" name="__codelineno-55-10" href="#__codelineno-55-10"></a>    <span class="k">def</span> <span class="nf">pay</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">amount</span><span class="p">):</span>
</span><span id="__span-55-11"><a id="__codelineno-55-11" name="__codelineno-55-11" href="#__codelineno-55-11"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Paying </span><span class="si">{</span><span class="n">amount</span><span class="si">}</span><span class="s2"> using PayPal.&quot;</span><span class="p">)</span>
</span><span id="__span-55-12"><a id="__codelineno-55-12" name="__codelineno-55-12" href="#__codelineno-55-12"></a>
</span><span id="__span-55-13"><a id="__codelineno-55-13" name="__codelineno-55-13" href="#__codelineno-55-13"></a><span class="k">def</span> <span class="nf">process_payment</span><span class="p">(</span><span class="n">payment</span><span class="p">:</span> <span class="n">Payment</span><span class="p">,</span> <span class="n">amount</span><span class="p">):</span>
</span><span id="__span-55-14"><a id="__codelineno-55-14" name="__codelineno-55-14" href="#__codelineno-55-14"></a>    <span class="n">payment</span><span class="o">.</span><span class="n">pay</span><span class="p">(</span><span class="n">amount</span><span class="p">)</span>
</span><span id="__span-55-15"><a id="__codelineno-55-15" name="__codelineno-55-15" href="#__codelineno-55-15"></a>
</span><span id="__span-55-16"><a id="__codelineno-55-16" name="__codelineno-55-16" href="#__codelineno-55-16"></a><span class="n">payment1</span> <span class="o">=</span> <span class="n">CreditCardPayment</span><span class="p">()</span>
</span><span id="__span-55-17"><a id="__codelineno-55-17" name="__codelineno-55-17" href="#__codelineno-55-17"></a><span class="n">payment2</span> <span class="o">=</span> <span class="n">PayPalPayment</span><span class="p">()</span>
</span><span id="__span-55-18"><a id="__codelineno-55-18" name="__codelineno-55-18" href="#__codelineno-55-18"></a>
</span><span id="__span-55-19"><a id="__codelineno-55-19" name="__codelineno-55-19" href="#__codelineno-55-19"></a><span class="n">process_payment</span><span class="p">(</span><span class="n">payment1</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
</span><span id="__span-55-20"><a id="__codelineno-55-20" name="__codelineno-55-20" href="#__codelineno-55-20"></a><span class="n">process_payment</span><span class="p">(</span><span class="n">payment2</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
</span></code></pre></div>
<h4 id="_48">输出：<a class="headerlink" href="#_48" title="Permanent link">&para;</a></h4>
<div class="language-text highlight"><pre><span></span><code><span id="__span-56-1"><a id="__codelineno-56-1" name="__codelineno-56-1" href="#__codelineno-56-1"></a>Paying 100 using Credit Card.
</span><span id="__span-56-2"><a id="__codelineno-56-2" name="__codelineno-56-2" href="#__codelineno-56-2"></a>Paying 200 using PayPal.
</span></code></pre></div>
<p>在这个支付系统中，<code>Payment</code> 是一个抽象基类，定义了 <code>pay</code> 方法的接口。<code>CreditCardPayment</code> 和 <code>PayPalPayment</code> 继承了 <code>Payment</code> 类，并实现了 <code>pay</code> 方法。通过多态机制，不同的支付方式可以用相同的接口进行调用，从而提高系统的灵活性和扩展性。</p>
<h3 id="_49">总结<a class="headerlink" href="#_49" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>继承</strong>：通过继承，子类可以复用父类的代码，并在此基础上进行扩展或修改。</li>
<li><strong>多态</strong>：通过多态，不同的类可以通过相同的接口执行不同的操作，从而提高代码的灵活性和可扩展性。</li>
</ul>
<p>这两个概念是面向对象编程的核心，掌握它们能够帮助你写出更加优雅和模块化的代码。</p>
<h2 id="mro">MRO<a class="headerlink" href="#mro" title="Permanent link">&para;</a></h2>
<p>在 Python 中，MRO（Method Resolution Order）指的是类的**方法解析顺序**。当一个类继承了多个父类时，Python 需要确定调用继承链中某个方法的顺序，MRO 就是用来决定在类层次结构中搜索方法或属性的顺序。</p>
<h3 id="mro_1">一、什么是 MRO？<a class="headerlink" href="#mro_1" title="Permanent link">&para;</a></h3>
<p>MRO 决定了当你调用一个方法时，Python 会在哪些类中搜索该方法，以及搜索的顺序。MRO 是 Python 继承机制的核心，特别是在多重继承的情况下，理解 MRO 对避免潜在问题非常重要。</p>
<p>MRO 的顺序可以通过类的 <code>__mro__</code> 属性或 <code>mro()</code> 方法来查看，<code>__mro__</code> 返回一个包含类继承顺序的元组。</p>
<h3 id="mro_2">二、单继承中的 MRO<a class="headerlink" href="#mro_2" title="Permanent link">&para;</a></h3>
<p>对于单继承（即一个子类只有一个直接父类），MRO 比较简单。它按照从子类到父类再到祖父类的顺序查找方法。</p>
<h4 id="_50">例子：<a class="headerlink" href="#_50" title="Permanent link">&para;</a></h4>
<div class="language-python highlight"><pre><span></span><code><span id="__span-57-1"><a id="__codelineno-57-1" name="__codelineno-57-1" href="#__codelineno-57-1"></a><span class="k">class</span> <span class="nc">A</span><span class="p">:</span>
</span><span id="__span-57-2"><a id="__codelineno-57-2" name="__codelineno-57-2" href="#__codelineno-57-2"></a>    <span class="k">def</span> <span class="nf">method</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-57-3"><a id="__codelineno-57-3" name="__codelineno-57-3" href="#__codelineno-57-3"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;A method&quot;</span><span class="p">)</span>
</span><span id="__span-57-4"><a id="__codelineno-57-4" name="__codelineno-57-4" href="#__codelineno-57-4"></a>
</span><span id="__span-57-5"><a id="__codelineno-57-5" name="__codelineno-57-5" href="#__codelineno-57-5"></a><span class="k">class</span> <span class="nc">B</span><span class="p">(</span><span class="n">A</span><span class="p">):</span>
</span><span id="__span-57-6"><a id="__codelineno-57-6" name="__codelineno-57-6" href="#__codelineno-57-6"></a>    <span class="k">def</span> <span class="nf">method</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-57-7"><a id="__codelineno-57-7" name="__codelineno-57-7" href="#__codelineno-57-7"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;B method&quot;</span><span class="p">)</span>
</span><span id="__span-57-8"><a id="__codelineno-57-8" name="__codelineno-57-8" href="#__codelineno-57-8"></a>
</span><span id="__span-57-9"><a id="__codelineno-57-9" name="__codelineno-57-9" href="#__codelineno-57-9"></a><span class="n">b</span> <span class="o">=</span> <span class="n">B</span><span class="p">()</span>
</span><span id="__span-57-10"><a id="__codelineno-57-10" name="__codelineno-57-10" href="#__codelineno-57-10"></a><span class="n">b</span><span class="o">.</span><span class="n">method</span><span class="p">()</span>
</span><span id="__span-57-11"><a id="__codelineno-57-11" name="__codelineno-57-11" href="#__codelineno-57-11"></a>
</span><span id="__span-57-12"><a id="__codelineno-57-12" name="__codelineno-57-12" href="#__codelineno-57-12"></a><span class="c1"># 查看 MRO</span>
</span><span id="__span-57-13"><a id="__codelineno-57-13" name="__codelineno-57-13" href="#__codelineno-57-13"></a><span class="nb">print</span><span class="p">(</span><span class="n">B</span><span class="o">.</span><span class="vm">__mro__</span><span class="p">)</span>
</span></code></pre></div>
<h4 id="_51">输出：<a class="headerlink" href="#_51" title="Permanent link">&para;</a></h4>
<div class="language-text highlight"><pre><span></span><code><span id="__span-58-1"><a id="__codelineno-58-1" name="__codelineno-58-1" href="#__codelineno-58-1"></a>B method
</span><span id="__span-58-2"><a id="__codelineno-58-2" name="__codelineno-58-2" href="#__codelineno-58-2"></a>(&lt;class &#39;__main__.B&#39;&gt;, &lt;class &#39;__main__.A&#39;&gt;, &lt;class &#39;object&#39;&gt;)
</span></code></pre></div>
<p>在这个例子中，当调用 <code>b.method()</code> 时，Python 会首先在类 <code>B</code> 中寻找 <code>method</code> 方法，找到后立即调用。如果没有找到，Python 会继续在 <code>A</code> 类中寻找。</p>
<h3 id="mro_3">三、多重继承中的 MRO<a class="headerlink" href="#mro_3" title="Permanent link">&para;</a></h3>
<p>在多重继承中，MRO 会变得复杂。Python 使用一种称为 <strong>C3 线性化算法</strong>（或 <strong>C3 superclass linearization</strong>）的方法来确定 MRO。这个算法确保了继承关系中的一致性，避免了菱形继承问题。</p>
<h4 id="_52">菱形继承问题<a class="headerlink" href="#_52" title="Permanent link">&para;</a></h4>
<p>菱形继承问题指的是在多重继承中，某个祖先类被多个路径继承，可能导致同一个方法或属性被多次继承和调用，产生不一致的结果。</p>
<h4 id="_53">例子：<a class="headerlink" href="#_53" title="Permanent link">&para;</a></h4>
<div class="language-python highlight"><pre><span></span><code><span id="__span-59-1"><a id="__codelineno-59-1" name="__codelineno-59-1" href="#__codelineno-59-1"></a><span class="k">class</span> <span class="nc">A</span><span class="p">:</span>
</span><span id="__span-59-2"><a id="__codelineno-59-2" name="__codelineno-59-2" href="#__codelineno-59-2"></a>    <span class="k">def</span> <span class="nf">method</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-59-3"><a id="__codelineno-59-3" name="__codelineno-59-3" href="#__codelineno-59-3"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;A method&quot;</span><span class="p">)</span>
</span><span id="__span-59-4"><a id="__codelineno-59-4" name="__codelineno-59-4" href="#__codelineno-59-4"></a>
</span><span id="__span-59-5"><a id="__codelineno-59-5" name="__codelineno-59-5" href="#__codelineno-59-5"></a><span class="k">class</span> <span class="nc">B</span><span class="p">(</span><span class="n">A</span><span class="p">):</span>
</span><span id="__span-59-6"><a id="__codelineno-59-6" name="__codelineno-59-6" href="#__codelineno-59-6"></a>    <span class="k">def</span> <span class="nf">method</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-59-7"><a id="__codelineno-59-7" name="__codelineno-59-7" href="#__codelineno-59-7"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;B method&quot;</span><span class="p">)</span>
</span><span id="__span-59-8"><a id="__codelineno-59-8" name="__codelineno-59-8" href="#__codelineno-59-8"></a>
</span><span id="__span-59-9"><a id="__codelineno-59-9" name="__codelineno-59-9" href="#__codelineno-59-9"></a><span class="k">class</span> <span class="nc">C</span><span class="p">(</span><span class="n">A</span><span class="p">):</span>
</span><span id="__span-59-10"><a id="__codelineno-59-10" name="__codelineno-59-10" href="#__codelineno-59-10"></a>    <span class="k">def</span> <span class="nf">method</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-59-11"><a id="__codelineno-59-11" name="__codelineno-59-11" href="#__codelineno-59-11"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;C method&quot;</span><span class="p">)</span>
</span><span id="__span-59-12"><a id="__codelineno-59-12" name="__codelineno-59-12" href="#__codelineno-59-12"></a>
</span><span id="__span-59-13"><a id="__codelineno-59-13" name="__codelineno-59-13" href="#__codelineno-59-13"></a><span class="k">class</span> <span class="nc">D</span><span class="p">(</span><span class="n">B</span><span class="p">,</span> <span class="n">C</span><span class="p">):</span>
</span><span id="__span-59-14"><a id="__codelineno-59-14" name="__codelineno-59-14" href="#__codelineno-59-14"></a>    <span class="k">pass</span>
</span><span id="__span-59-15"><a id="__codelineno-59-15" name="__codelineno-59-15" href="#__codelineno-59-15"></a>
</span><span id="__span-59-16"><a id="__codelineno-59-16" name="__codelineno-59-16" href="#__codelineno-59-16"></a><span class="n">d</span> <span class="o">=</span> <span class="n">D</span><span class="p">()</span>
</span><span id="__span-59-17"><a id="__codelineno-59-17" name="__codelineno-59-17" href="#__codelineno-59-17"></a><span class="n">d</span><span class="o">.</span><span class="n">method</span><span class="p">()</span>
</span><span id="__span-59-18"><a id="__codelineno-59-18" name="__codelineno-59-18" href="#__codelineno-59-18"></a>
</span><span id="__span-59-19"><a id="__codelineno-59-19" name="__codelineno-59-19" href="#__codelineno-59-19"></a><span class="c1"># 查看 MRO</span>
</span><span id="__span-59-20"><a id="__codelineno-59-20" name="__codelineno-59-20" href="#__codelineno-59-20"></a><span class="nb">print</span><span class="p">(</span><span class="n">D</span><span class="o">.</span><span class="vm">__mro__</span><span class="p">)</span>
</span></code></pre></div>
<h4 id="_54">输出：<a class="headerlink" href="#_54" title="Permanent link">&para;</a></h4>
<div class="language-text highlight"><pre><span></span><code><span id="__span-60-1"><a id="__codelineno-60-1" name="__codelineno-60-1" href="#__codelineno-60-1"></a>B method
</span><span id="__span-60-2"><a id="__codelineno-60-2" name="__codelineno-60-2" href="#__codelineno-60-2"></a>(&lt;class &#39;__main__.D&#39;&gt;, &lt;class &#39;__main__.B&#39;&gt;, &lt;class &#39;__main__.C&#39;&gt;, &lt;class &#39;__main__.A&#39;&gt;, &lt;class &#39;object&#39;&gt;)
</span></code></pre></div>
<p>在这个例子中，<code>D</code> 类继承了 <code>B</code> 和 <code>C</code>，而 <code>B</code> 和 <code>C</code> 都继承了 <code>A</code>。<code>D</code> 的 MRO 是 <code>D -&gt; B -&gt; C -&gt; A -&gt; object</code>，所以当调用 <code>d.method()</code> 时，<code>B</code> 类中的 <code>method</code> 方法首先被找到并调用。</p>
<h3 id="mro-c3">四、MRO 的计算规则：C3 线性化算法<a class="headerlink" href="#mro-c3" title="Permanent link">&para;</a></h3>
<p>C3 线性化算法是 Python 中计算 MRO 的核心算法，主要有以下规则：</p>
<ol>
<li><strong>子类优先</strong>：从子类开始搜索。</li>
<li><strong>深度优先</strong>：尽量先搜索一个分支的祖先类，再搜索下一个分支。</li>
<li><strong>保持继承关系</strong>：在满足以上两条规则的前提下，保持继承关系的顺序。</li>
</ol>
<h3 id="super-mro">五、使用 <code>super()</code> 与 MRO<a class="headerlink" href="#super-mro" title="Permanent link">&para;</a></h3>
<p><code>super()</code> 函数在调用父类方法时，遵循 MRO 的顺序。它可以保证即使在多重继承中，也能够按照 MRO 的顺序调用正确的父类方法。</p>
<h4 id="_55">例子：<a class="headerlink" href="#_55" title="Permanent link">&para;</a></h4>
<div class="language-python highlight"><pre><span></span><code><span id="__span-61-1"><a id="__codelineno-61-1" name="__codelineno-61-1" href="#__codelineno-61-1"></a><span class="k">class</span> <span class="nc">A</span><span class="p">:</span>
</span><span id="__span-61-2"><a id="__codelineno-61-2" name="__codelineno-61-2" href="#__codelineno-61-2"></a>    <span class="k">def</span> <span class="nf">method</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-61-3"><a id="__codelineno-61-3" name="__codelineno-61-3" href="#__codelineno-61-3"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;A method&quot;</span><span class="p">)</span>
</span><span id="__span-61-4"><a id="__codelineno-61-4" name="__codelineno-61-4" href="#__codelineno-61-4"></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">method</span><span class="p">()</span>
</span><span id="__span-61-5"><a id="__codelineno-61-5" name="__codelineno-61-5" href="#__codelineno-61-5"></a>
</span><span id="__span-61-6"><a id="__codelineno-61-6" name="__codelineno-61-6" href="#__codelineno-61-6"></a><span class="k">class</span> <span class="nc">B</span><span class="p">(</span><span class="n">A</span><span class="p">):</span>
</span><span id="__span-61-7"><a id="__codelineno-61-7" name="__codelineno-61-7" href="#__codelineno-61-7"></a>    <span class="k">def</span> <span class="nf">method</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-61-8"><a id="__codelineno-61-8" name="__codelineno-61-8" href="#__codelineno-61-8"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;B method&quot;</span><span class="p">)</span>
</span><span id="__span-61-9"><a id="__codelineno-61-9" name="__codelineno-61-9" href="#__codelineno-61-9"></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">method</span><span class="p">()</span>
</span><span id="__span-61-10"><a id="__codelineno-61-10" name="__codelineno-61-10" href="#__codelineno-61-10"></a>
</span><span id="__span-61-11"><a id="__codelineno-61-11" name="__codelineno-61-11" href="#__codelineno-61-11"></a><span class="k">class</span> <span class="nc">C</span><span class="p">(</span><span class="n">A</span><span class="p">):</span>
</span><span id="__span-61-12"><a id="__codelineno-61-12" name="__codelineno-61-12" href="#__codelineno-61-12"></a>    <span class="k">def</span> <span class="nf">method</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-61-13"><a id="__codelineno-61-13" name="__codelineno-61-13" href="#__codelineno-61-13"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;C method&quot;</span><span class="p">)</span>
</span><span id="__span-61-14"><a id="__codelineno-61-14" name="__codelineno-61-14" href="#__codelineno-61-14"></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">method</span><span class="p">()</span>
</span><span id="__span-61-15"><a id="__codelineno-61-15" name="__codelineno-61-15" href="#__codelineno-61-15"></a>
</span><span id="__span-61-16"><a id="__codelineno-61-16" name="__codelineno-61-16" href="#__codelineno-61-16"></a><span class="k">class</span> <span class="nc">D</span><span class="p">(</span><span class="n">B</span><span class="p">,</span> <span class="n">C</span><span class="p">):</span>
</span><span id="__span-61-17"><a id="__codelineno-61-17" name="__codelineno-61-17" href="#__codelineno-61-17"></a>    <span class="k">def</span> <span class="nf">method</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-61-18"><a id="__codelineno-61-18" name="__codelineno-61-18" href="#__codelineno-61-18"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;D method&quot;</span><span class="p">)</span>
</span><span id="__span-61-19"><a id="__codelineno-61-19" name="__codelineno-61-19" href="#__codelineno-61-19"></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">method</span><span class="p">()</span>
</span><span id="__span-61-20"><a id="__codelineno-61-20" name="__codelineno-61-20" href="#__codelineno-61-20"></a>
</span><span id="__span-61-21"><a id="__codelineno-61-21" name="__codelineno-61-21" href="#__codelineno-61-21"></a><span class="n">d</span> <span class="o">=</span> <span class="n">D</span><span class="p">()</span>
</span><span id="__span-61-22"><a id="__codelineno-61-22" name="__codelineno-61-22" href="#__codelineno-61-22"></a><span class="n">d</span><span class="o">.</span><span class="n">method</span><span class="p">()</span>
</span><span id="__span-61-23"><a id="__codelineno-61-23" name="__codelineno-61-23" href="#__codelineno-61-23"></a>
</span><span id="__span-61-24"><a id="__codelineno-61-24" name="__codelineno-61-24" href="#__codelineno-61-24"></a><span class="c1"># 查看 MRO</span>
</span><span id="__span-61-25"><a id="__codelineno-61-25" name="__codelineno-61-25" href="#__codelineno-61-25"></a><span class="nb">print</span><span class="p">(</span><span class="n">D</span><span class="o">.</span><span class="vm">__mro__</span><span class="p">)</span>
</span></code></pre></div>
<h4 id="_56">输出：<a class="headerlink" href="#_56" title="Permanent link">&para;</a></h4>
<div class="language-text highlight"><pre><span></span><code><span id="__span-62-1"><a id="__codelineno-62-1" name="__codelineno-62-1" href="#__codelineno-62-1"></a>D method
</span><span id="__span-62-2"><a id="__codelineno-62-2" name="__codelineno-62-2" href="#__codelineno-62-2"></a>B method
</span><span id="__span-62-3"><a id="__codelineno-62-3" name="__codelineno-62-3" href="#__codelineno-62-3"></a>C method
</span><span id="__span-62-4"><a id="__codelineno-62-4" name="__codelineno-62-4" href="#__codelineno-62-4"></a>A method
</span><span id="__span-62-5"><a id="__codelineno-62-5" name="__codelineno-62-5" href="#__codelineno-62-5"></a>(&lt;class &#39;__main__.D&#39;&gt;, &lt;class &#39;__main__.B&#39;&gt;, &lt;class &#39;__main__.C&#39;&gt;, &lt;class &#39;__main__.A&#39;&gt;, &lt;class &#39;object&#39;&gt;)
</span></code></pre></div>
<p>在这个例子中，<code>D</code> 类中的 <code>method</code> 方法调用了 <code>super().method()</code>，它遵循 MRO 先调用 <code>B</code> 类的 <code>method</code> 方法，接着调用 <code>C</code> 类的 <code>method</code> 方法，最后调用 <code>A</code> 类的 <code>method</code> 方法。</p>
<h3 id="mro_4">六、实际应用中的 MRO<a class="headerlink" href="#mro_4" title="Permanent link">&para;</a></h3>
<p>理解 MRO 对于解决实际开发中的多重继承问题非常重要，尤其是在涉及复杂的类层次结构时。</p>
<h4 id="1_6">1. 保持继承结构清晰<a class="headerlink" href="#1_6" title="Permanent link">&para;</a></h4>
<p>尽量避免复杂的多重继承结构，使用组合代替继承可能会更清晰和易于维护。</p>
<h4 id="2-super">2. 使用 <code>super()</code> 调用父类方法<a class="headerlink" href="#2-super" title="Permanent link">&para;</a></h4>
<p>在多重继承中，使用 <code>super()</code> 可以确保方法调用遵循 MRO，避免直接调用父类方法导致不一致的问题。</p>
<h3 id="_57">七、总结<a class="headerlink" href="#_57" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>MRO</strong> 决定了 Python 在类继承链中查找方法和属性的顺序，特别是在多重继承中。</li>
<li><strong>C3 线性化算法</strong> 是 Python 用来计算 MRO 的核心算法，确保继承关系的一致性。</li>
<li>使用 <code>super()</code> 函数可以遵循 MRO 顺序调用父类方法，避免多重继承中的潜在问题。</li>
</ul>
<p>理解 MRO 对于编写可维护、可扩展的 Python 代码至关重要，尤其是在处理复杂的继承关系时。</p>
<h2 id="duck-typing">鸭子类型（Duck Typing）是什么？<a class="headerlink" href="#duck-typing" title="Permanent link">&para;</a></h2>
<h3 id="duck-typing_1">鸭子类型（Duck Typing）<a class="headerlink" href="#duck-typing_1" title="Permanent link">&para;</a></h3>
<p><strong>鸭子类型（Duck Typing）</strong> 是一种动态类型的编程风格，它不要求对象具有某种特定的类型，而是只要对象具有适合的方法或属性，就可以将它视为某种类型来使用。简单来说，"如果它走起来像鸭子，叫起来像鸭子，那么它就是鸭子"。</p>
<h4 id="1_7">1. 鸭子类型的概念<a class="headerlink" href="#1_7" title="Permanent link">&para;</a></h4>
<p>在面向对象编程中，传统的静态类型语言要求对象必须属于某种明确的类或实现某个接口，才能被作为特定类型来使用。但在动态类型语言（如 Python）中，并不要求对象必须属于某个特定的类。只要对象具有所需的方法或行为，就可以被作为相应的类型使用。</p>
<h4 id="2-python_1">2. Python 中的鸭子类型<a class="headerlink" href="#2-python_1" title="Permanent link">&para;</a></h4>
<p>在 Python 中，鸭子类型非常常见。例如，你可以传递任何具有特定方法的对象，而不管它属于哪个类。</p>
<h4 id="_58">例子：<a class="headerlink" href="#_58" title="Permanent link">&para;</a></h4>
<div class="language-python highlight"><pre><span></span><code><span id="__span-63-1"><a id="__codelineno-63-1" name="__codelineno-63-1" href="#__codelineno-63-1"></a><span class="k">class</span> <span class="nc">Bird</span><span class="p">:</span>
</span><span id="__span-63-2"><a id="__codelineno-63-2" name="__codelineno-63-2" href="#__codelineno-63-2"></a>    <span class="k">def</span> <span class="nf">fly</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-63-3"><a id="__codelineno-63-3" name="__codelineno-63-3" href="#__codelineno-63-3"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Bird is flying&quot;</span><span class="p">)</span>
</span><span id="__span-63-4"><a id="__codelineno-63-4" name="__codelineno-63-4" href="#__codelineno-63-4"></a>
</span><span id="__span-63-5"><a id="__codelineno-63-5" name="__codelineno-63-5" href="#__codelineno-63-5"></a><span class="k">class</span> <span class="nc">Airplane</span><span class="p">:</span>
</span><span id="__span-63-6"><a id="__codelineno-63-6" name="__codelineno-63-6" href="#__codelineno-63-6"></a>    <span class="k">def</span> <span class="nf">fly</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-63-7"><a id="__codelineno-63-7" name="__codelineno-63-7" href="#__codelineno-63-7"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Airplane is flying&quot;</span><span class="p">)</span>
</span><span id="__span-63-8"><a id="__codelineno-63-8" name="__codelineno-63-8" href="#__codelineno-63-8"></a>
</span><span id="__span-63-9"><a id="__codelineno-63-9" name="__codelineno-63-9" href="#__codelineno-63-9"></a><span class="k">class</span> <span class="nc">Fish</span><span class="p">:</span>
</span><span id="__span-63-10"><a id="__codelineno-63-10" name="__codelineno-63-10" href="#__codelineno-63-10"></a>    <span class="k">def</span> <span class="nf">swim</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-63-11"><a id="__codelineno-63-11" name="__codelineno-63-11" href="#__codelineno-63-11"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Fish is swimming&quot;</span><span class="p">)</span>
</span><span id="__span-63-12"><a id="__codelineno-63-12" name="__codelineno-63-12" href="#__codelineno-63-12"></a>
</span><span id="__span-63-13"><a id="__codelineno-63-13" name="__codelineno-63-13" href="#__codelineno-63-13"></a><span class="k">def</span> <span class="nf">make_it_fly</span><span class="p">(</span><span class="n">thing</span><span class="p">):</span>
</span><span id="__span-63-14"><a id="__codelineno-63-14" name="__codelineno-63-14" href="#__codelineno-63-14"></a>    <span class="n">thing</span><span class="o">.</span><span class="n">fly</span><span class="p">()</span>
</span><span id="__span-63-15"><a id="__codelineno-63-15" name="__codelineno-63-15" href="#__codelineno-63-15"></a>
</span><span id="__span-63-16"><a id="__codelineno-63-16" name="__codelineno-63-16" href="#__codelineno-63-16"></a><span class="n">bird</span> <span class="o">=</span> <span class="n">Bird</span><span class="p">()</span>
</span><span id="__span-63-17"><a id="__codelineno-63-17" name="__codelineno-63-17" href="#__codelineno-63-17"></a><span class="n">airplane</span> <span class="o">=</span> <span class="n">Airplane</span><span class="p">()</span>
</span><span id="__span-63-18"><a id="__codelineno-63-18" name="__codelineno-63-18" href="#__codelineno-63-18"></a><span class="n">fish</span> <span class="o">=</span> <span class="n">Fish</span><span class="p">()</span>
</span><span id="__span-63-19"><a id="__codelineno-63-19" name="__codelineno-63-19" href="#__codelineno-63-19"></a>
</span><span id="__span-63-20"><a id="__codelineno-63-20" name="__codelineno-63-20" href="#__codelineno-63-20"></a><span class="n">make_it_fly</span><span class="p">(</span><span class="n">bird</span><span class="p">)</span>      <span class="c1"># 输出: Bird is flying</span>
</span><span id="__span-63-21"><a id="__codelineno-63-21" name="__codelineno-63-21" href="#__codelineno-63-21"></a><span class="n">make_it_fly</span><span class="p">(</span><span class="n">airplane</span><span class="p">)</span>  <span class="c1"># 输出: Airplane is flying</span>
</span><span id="__span-63-22"><a id="__codelineno-63-22" name="__codelineno-63-22" href="#__codelineno-63-22"></a><span class="c1"># make_it_fly(fish)    # 会报错，因为 Fish 没有 fly 方法</span>
</span></code></pre></div>
<p>在这个例子中，<code>make_it_fly</code> 函数接受任何具有 <code>fly</code> 方法的对象作为参数。<code>Bird</code> 和 <code>Airplane</code> 都实现了 <code>fly</code> 方法，因此它们都可以作为参数传递给 <code>make_it_fly</code> 函数。这就是鸭子类型的典型应用。</p>
<h4 id="3_4">3. 鸭子类型的优点<a class="headerlink" href="#3_4" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>灵活性高</strong>：鸭子类型允许代码更加灵活，不必严格遵循类的继承关系，只要对象具有合适的方法或行为即可。</li>
<li><strong>更少的依赖</strong>：代码与具体的类解耦，减少了对类层次结构的依赖，增强了代码的复用性和扩展性。</li>
</ul>
<h4 id="4_5">4. 鸭子类型的缺点<a class="headerlink" href="#4_5" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>不安全</strong>：由于不进行类型检查，错误可能在运行时才会暴露，这增加了调试的难度。</li>
<li><strong>可读性降低</strong>：鸭子类型使代码的意图变得不那么明确，阅读和维护代码时需要特别小心。</li>
</ul>
<h4 id="5_3">5. 实际应用<a class="headerlink" href="#5_3" title="Permanent link">&para;</a></h4>
<p>在 Python 编程中，鸭子类型被广泛应用于各种场景，如处理容器对象、文件对象、迭代器等。在这些场景中，往往只要求对象具有某种行为，而不要求对象必须属于某个具体的类。</p>
<h4 id="6_3">6. 鸭子类型与接口<a class="headerlink" href="#6_3" title="Permanent link">&para;</a></h4>
<p>虽然 Python 不要求对象实现特定的接口，但编写接口文档或使用抽象基类（<code>abc</code> 模块）来描述对象应具有的方法或属性，仍然是一个很好的编程实践。这样可以在保持鸭子类型灵活性的同时，也增强代码的可读性和可维护性。</p>
<h3 id="_59">总结<a class="headerlink" href="#_59" title="Permanent link">&para;</a></h3>
<p>鸭子类型是一种编程风格，强调行为而非类型。只要对象具有所需的方法或行为，就可以将它视为某种类型来使用。它赋予了 Python 极大的灵活性，但也要求开发者在编写和维护代码时更加谨慎。</p>
<h2 id="python_8">Python 中的垃圾回收机制<a class="headerlink" href="#python_8" title="Permanent link">&para;</a></h2>
<p>Python 中的垃圾回收机制是用于自动管理内存的功能，它会在不再需要某些对象时，自动释放这些对象占用的内存空间。Python 采用了**引用计数**和**垃圾回收（Garbage Collection, GC）**这两种方式来实现内存管理。</p>
<h3 id="1-reference-counting">1. 引用计数（Reference Counting）<a class="headerlink" href="#1-reference-counting" title="Permanent link">&para;</a></h3>
<p>Python 中的每个对象都有一个引用计数器，用于记录该对象被引用的次数。当一个新的引用指向该对象时，引用计数增加；当一个引用被删除或指向其他对象时，引用计数减少。</p>
<ul>
<li><strong>增加引用计数的情况</strong>：</li>
<li>对象被创建时。</li>
<li>另一个变量引用该对象。</li>
<li>对象被作为参数传递给函数。</li>
<li>
<p>对象被添加到容器（如列表、元组、字典等）中。</p>
</li>
<li>
<p><strong>减少引用计数的情况</strong>：</p>
</li>
<li>对象的引用被删除，例如使用 <code>del</code> 语句。</li>
<li>一个引用被赋值为其他对象。</li>
<li>引用对象的作用域结束。</li>
</ul>
<p>当对象的引用计数变为零时，该对象将被立即销毁，内存被释放。</p>
<h4 id="_60">例子：<a class="headerlink" href="#_60" title="Permanent link">&para;</a></h4>
<div class="language-python highlight"><pre><span></span><code><span id="__span-64-1"><a id="__codelineno-64-1" name="__codelineno-64-1" href="#__codelineno-64-1"></a><span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
</span><span id="__span-64-2"><a id="__codelineno-64-2" name="__codelineno-64-2" href="#__codelineno-64-2"></a><span class="n">b</span> <span class="o">=</span> <span class="n">a</span>  <span class="c1"># 引用计数增加</span>
</span><span id="__span-64-3"><a id="__codelineno-64-3" name="__codelineno-64-3" href="#__codelineno-64-3"></a><span class="k">del</span> <span class="n">a</span>  <span class="c1"># 引用计数减少</span>
</span></code></pre></div>
<p>在这个例子中，列表 <code>[1, 2, 3]</code> 的引用计数在创建时为 1，当 <code>b = a</code> 时引用计数变为 2，删除 <code>a</code> 后引用计数变为 1。只有当 <code>b</code> 也被删除时，引用计数变为 0，该列表对象才会被销毁。</p>
<h3 id="2_5">2. 循环引用问题<a class="headerlink" href="#2_5" title="Permanent link">&para;</a></h3>
<p>引用计数的一个缺点是它无法处理**循环引用**。循环引用指的是两个或多个对象相互引用，形成一个闭环，导致它们的引用计数永远不会变为零，无法被自动回收。</p>
<h4 id="_61">例子：<a class="headerlink" href="#_61" title="Permanent link">&para;</a></h4>
<div class="language-python highlight"><pre><span></span><code><span id="__span-65-1"><a id="__codelineno-65-1" name="__codelineno-65-1" href="#__codelineno-65-1"></a><span class="k">class</span> <span class="nc">Node</span><span class="p">:</span>
</span><span id="__span-65-2"><a id="__codelineno-65-2" name="__codelineno-65-2" href="#__codelineno-65-2"></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
</span><span id="__span-65-3"><a id="__codelineno-65-3" name="__codelineno-65-3" href="#__codelineno-65-3"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">value</span>
</span><span id="__span-65-4"><a id="__codelineno-65-4" name="__codelineno-65-4" href="#__codelineno-65-4"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="__span-65-5"><a id="__codelineno-65-5" name="__codelineno-65-5" href="#__codelineno-65-5"></a>
</span><span id="__span-65-6"><a id="__codelineno-65-6" name="__codelineno-65-6" href="#__codelineno-65-6"></a><span class="n">a</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span id="__span-65-7"><a id="__codelineno-65-7" name="__codelineno-65-7" href="#__codelineno-65-7"></a><span class="n">b</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</span><span id="__span-65-8"><a id="__codelineno-65-8" name="__codelineno-65-8" href="#__codelineno-65-8"></a>
</span><span id="__span-65-9"><a id="__codelineno-65-9" name="__codelineno-65-9" href="#__codelineno-65-9"></a><span class="n">a</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">b</span>
</span><span id="__span-65-10"><a id="__codelineno-65-10" name="__codelineno-65-10" href="#__codelineno-65-10"></a><span class="n">b</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">a</span>  <span class="c1"># 循环引用</span>
</span></code></pre></div>
<p>在这个例子中，<code>a</code> 引用了 <code>b</code>，而 <code>b</code> 又引用了 <code>a</code>，形成了循环引用。即使 <code>a</code> 和 <code>b</code> 不再被其他变量引用，它们的引用计数也不会变为零。</p>
<h3 id="3-garbage-collection-gc">3. 垃圾回收（Garbage Collection, GC）<a class="headerlink" href="#3-garbage-collection-gc" title="Permanent link">&para;</a></h3>
<p>为了处理循环引用问题，Python 中引入了**垃圾回收**机制。Python 的垃圾回收器使用一种基于**分代收集（generational collection）**的算法来回收不可达的对象。</p>
<h4 id="generation">代（Generation）的概念<a class="headerlink" href="#generation" title="Permanent link">&para;</a></h4>
<p>Python 的垃圾回收器将所有对象分为三代：
- <strong>第 0 代</strong>：新创建的对象。
- <strong>第 1 代</strong>：从第 0 代提升过来的对象。
- <strong>第 2 代</strong>：从第 1 代提升过来的对象。</p>
<p>随着对象在程序中存在的时间越长，它们被认为是“存活”的概率越高，因此提升到更高的一代。Python 中的垃圾回收器主要对第 0 代对象进行频繁检查，而第 1 代和第 2 代的检查频率较低。</p>
<h4 id="_62">垃圾回收的过程<a class="headerlink" href="#_62" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>跟踪不可达对象</strong>：垃圾回收器通过扫描内存中的对象来查找不再被引用的对象。</li>
<li><strong>标记阶段</strong>：标记所有可达对象，未被标记的对象则被认为是垃圾。</li>
<li><strong>清理阶段</strong>：回收所有未被标记的对象，释放其内存。</li>
</ul>
<p>Python 的垃圾回收器定期运行，也可以手动触发垃圾回收。</p>
<h4 id="_63">手动触发垃圾回收：<a class="headerlink" href="#_63" title="Permanent link">&para;</a></h4>
<p>可以使用 <code>gc</code> 模块手动触发垃圾回收：</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-66-1"><a id="__codelineno-66-1" name="__codelineno-66-1" href="#__codelineno-66-1"></a><span class="kn">import</span> <span class="nn">gc</span>
</span><span id="__span-66-2"><a id="__codelineno-66-2" name="__codelineno-66-2" href="#__codelineno-66-2"></a>
</span><span id="__span-66-3"><a id="__codelineno-66-3" name="__codelineno-66-3" href="#__codelineno-66-3"></a><span class="n">gc</span><span class="o">.</span><span class="n">collect</span><span class="p">()</span>  <span class="c1"># 手动触发垃圾回收</span>
</span></code></pre></div>
<h3 id="4_6">4. 调整垃圾回收行为<a class="headerlink" href="#4_6" title="Permanent link">&para;</a></h3>
<p><code>gc</code> 模块允许你调整垃圾回收的行为，比如设置垃圾回收的阈值、启用或禁用垃圾回收。</p>
<h4 id="_64">调整垃圾回收阈值：<a class="headerlink" href="#_64" title="Permanent link">&para;</a></h4>
<div class="language-python highlight"><pre><span></span><code><span id="__span-67-1"><a id="__codelineno-67-1" name="__codelineno-67-1" href="#__codelineno-67-1"></a><span class="kn">import</span> <span class="nn">gc</span>
</span><span id="__span-67-2"><a id="__codelineno-67-2" name="__codelineno-67-2" href="#__codelineno-67-2"></a>
</span><span id="__span-67-3"><a id="__codelineno-67-3" name="__codelineno-67-3" href="#__codelineno-67-3"></a><span class="c1"># 查看当前阈值</span>
</span><span id="__span-67-4"><a id="__codelineno-67-4" name="__codelineno-67-4" href="#__codelineno-67-4"></a><span class="nb">print</span><span class="p">(</span><span class="n">gc</span><span class="o">.</span><span class="n">get_threshold</span><span class="p">())</span>
</span><span id="__span-67-5"><a id="__codelineno-67-5" name="__codelineno-67-5" href="#__codelineno-67-5"></a>
</span><span id="__span-67-6"><a id="__codelineno-67-6" name="__codelineno-67-6" href="#__codelineno-67-6"></a><span class="c1"># 设置新的阈值</span>
</span><span id="__span-67-7"><a id="__codelineno-67-7" name="__codelineno-67-7" href="#__codelineno-67-7"></a><span class="n">gc</span><span class="o">.</span><span class="n">set_threshold</span><span class="p">(</span><span class="mi">700</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
</span></code></pre></div>
<p>垃圾回收的阈值表示每一代对象被检查的频率。阈值越小，检查越频繁；阈值越大，检查越少。</p>
<h3 id="5_4">5. 总结<a class="headerlink" href="#5_4" title="Permanent link">&para;</a></h3>
<ul>
<li>Python 使用**引用计数**和**垃圾回收**机制来管理内存。</li>
<li>**引用计数**是对象的基础内存管理机制，但无法处理循环引用。</li>
<li>**垃圾回收器**使用**分代回收**来定期清理无法通过引用计数回收的循环引用对象。</li>
<li>可以通过 <code>gc</code> 模块手动控制垃圾回收的行为，调整阈值或直接触发回收。</li>
</ul>
<p>理解 Python 的垃圾回收机制有助于编写更高效的代码，避免内存泄漏和性能问题。</p>
<h2 id="with">上下文管理器与 with 语句<a class="headerlink" href="#with" title="Permanent link">&para;</a></h2>
<h3 id="with_1">上下文管理器与 <code>with</code> 语句<a class="headerlink" href="#with_1" title="Permanent link">&para;</a></h3>
<p>Python 中的上下文管理器（Context Manager）是一种用于管理资源的协议或类，其主要目的是确保在使用完某些资源后能够正确地释放它们，如文件、网络连接、锁等。上下文管理器的使用通常与 <code>with</code> 语句结合，它能够简化代码，并减少资源泄漏的风险。</p>
<h4 id="1-with">1. <code>with</code> 语句的基本用法<a class="headerlink" href="#1-with" title="Permanent link">&para;</a></h4>
<p><code>with</code> 语句用于在一个代码块中自动管理上下文管理器的进入和退出操作。它能确保在代码块执行结束后，相关资源能被自动清理或释放，无论是否发生异常。</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-68-1"><a id="__codelineno-68-1" name="__codelineno-68-1" href="#__codelineno-68-1"></a><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;file.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
</span><span id="__span-68-2"><a id="__codelineno-68-2" name="__codelineno-68-2" href="#__codelineno-68-2"></a>    <span class="n">data</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</span></code></pre></div>
<p>在这个例子中：
- <code>open('file.txt', 'r')</code> 返回一个文件对象，该对象实现了上下文管理器协议。
- <code>with</code> 语句调用该对象的 <code>__enter__()</code> 方法，进入上下文管理器，打开文件并将文件对象赋值给 <code>file</code>。
- <code>with</code> 语句块执行完后，自动调用 <code>__exit__()</code> 方法，无论是否发生异常，文件都会被正确关闭。</p>
<h4 id="2_6">2. 上下文管理器协议<a class="headerlink" href="#2_6" title="Permanent link">&para;</a></h4>
<p>上下文管理器协议由两个方法组成：
- <code>__enter__(self)</code>：在进入 <code>with</code> 语句时被调用。它通常负责设置和返回需要管理的资源。
- <code>__exit__(self, exc_type, exc_value, traceback)</code>：在退出 <code>with</code> 语句时被调用。它负责清理或释放资源，并处理异常。</p>
<h4 id="3_5">3. 自定义上下文管理器<a class="headerlink" href="#3_5" title="Permanent link">&para;</a></h4>
<p>你可以通过定义一个类，并实现 <code>__enter__</code> 和 <code>__exit__</code> 方法，来创建自定义的上下文管理器。</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-69-1"><a id="__codelineno-69-1" name="__codelineno-69-1" href="#__codelineno-69-1"></a><span class="k">class</span> <span class="nc">MyContextManager</span><span class="p">:</span>
</span><span id="__span-69-2"><a id="__codelineno-69-2" name="__codelineno-69-2" href="#__codelineno-69-2"></a>    <span class="k">def</span> <span class="fm">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-69-3"><a id="__codelineno-69-3" name="__codelineno-69-3" href="#__codelineno-69-3"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Entering the context&quot;</span><span class="p">)</span>
</span><span id="__span-69-4"><a id="__codelineno-69-4" name="__codelineno-69-4" href="#__codelineno-69-4"></a>        <span class="k">return</span> <span class="bp">self</span>
</span><span id="__span-69-5"><a id="__codelineno-69-5" name="__codelineno-69-5" href="#__codelineno-69-5"></a>
</span><span id="__span-69-6"><a id="__codelineno-69-6" name="__codelineno-69-6" href="#__codelineno-69-6"></a>    <span class="k">def</span> <span class="fm">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">exc_type</span><span class="p">,</span> <span class="n">exc_value</span><span class="p">,</span> <span class="n">traceback</span><span class="p">):</span>
</span><span id="__span-69-7"><a id="__codelineno-69-7" name="__codelineno-69-7" href="#__codelineno-69-7"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Exiting the context&quot;</span><span class="p">)</span>
</span><span id="__span-69-8"><a id="__codelineno-69-8" name="__codelineno-69-8" href="#__codelineno-69-8"></a>
</span><span id="__span-69-9"><a id="__codelineno-69-9" name="__codelineno-69-9" href="#__codelineno-69-9"></a><span class="c1"># 使用自定义上下文管理器</span>
</span><span id="__span-69-10"><a id="__codelineno-69-10" name="__codelineno-69-10" href="#__codelineno-69-10"></a><span class="k">with</span> <span class="n">MyContextManager</span><span class="p">()</span> <span class="k">as</span> <span class="n">manager</span><span class="p">:</span>
</span><span id="__span-69-11"><a id="__codelineno-69-11" name="__codelineno-69-11" href="#__codelineno-69-11"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Inside the context&quot;</span><span class="p">)</span>
</span></code></pre></div>
<p>输出：
<div class="language-text highlight"><pre><span></span><code><span id="__span-70-1"><a id="__codelineno-70-1" name="__codelineno-70-1" href="#__codelineno-70-1"></a>Entering the context
</span><span id="__span-70-2"><a id="__codelineno-70-2" name="__codelineno-70-2" href="#__codelineno-70-2"></a>Inside the context
</span><span id="__span-70-3"><a id="__codelineno-70-3" name="__codelineno-70-3" href="#__codelineno-70-3"></a>Exiting the context
</span></code></pre></div></p>
<p>在这个例子中：
- <code>__enter__()</code> 方法在进入 <code>with</code> 语句时被调用，并返回 <code>self</code>。
- <code>__exit__()</code> 方法在退出 <code>with</code> 语句时被调用，并执行清理操作。</p>
<h4 id="4_7">4. 处理异常<a class="headerlink" href="#4_7" title="Permanent link">&para;</a></h4>
<p>上下文管理器的 <code>__exit__()</code> 方法可以处理异常。它接受三个参数：
- <code>exc_type</code>：异常的类型。
- <code>exc_value</code>：异常的实例。
- <code>traceback</code>：异常的追溯信息。</p>
<p>如果 <code>__exit__()</code> 返回 <code>True</code>，异常将被抑制，不会传播；如果返回 <code>False</code>，异常将会继续传播。</p>
<h4 id="_65">例子：<a class="headerlink" href="#_65" title="Permanent link">&para;</a></h4>
<div class="language-python highlight"><pre><span></span><code><span id="__span-71-1"><a id="__codelineno-71-1" name="__codelineno-71-1" href="#__codelineno-71-1"></a><span class="k">class</span> <span class="nc">MyContextManager</span><span class="p">:</span>
</span><span id="__span-71-2"><a id="__codelineno-71-2" name="__codelineno-71-2" href="#__codelineno-71-2"></a>    <span class="k">def</span> <span class="fm">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-71-3"><a id="__codelineno-71-3" name="__codelineno-71-3" href="#__codelineno-71-3"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Entering the context&quot;</span><span class="p">)</span>
</span><span id="__span-71-4"><a id="__codelineno-71-4" name="__codelineno-71-4" href="#__codelineno-71-4"></a>        <span class="k">return</span> <span class="bp">self</span>
</span><span id="__span-71-5"><a id="__codelineno-71-5" name="__codelineno-71-5" href="#__codelineno-71-5"></a>
</span><span id="__span-71-6"><a id="__codelineno-71-6" name="__codelineno-71-6" href="#__codelineno-71-6"></a>    <span class="k">def</span> <span class="fm">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">exc_type</span><span class="p">,</span> <span class="n">exc_value</span><span class="p">,</span> <span class="n">traceback</span><span class="p">):</span>
</span><span id="__span-71-7"><a id="__codelineno-71-7" name="__codelineno-71-7" href="#__codelineno-71-7"></a>        <span class="k">if</span> <span class="n">exc_type</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="__span-71-8"><a id="__codelineno-71-8" name="__codelineno-71-8" href="#__codelineno-71-8"></a>            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;An exception occurred: </span><span class="si">{</span><span class="n">exc_value</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-71-9"><a id="__codelineno-71-9" name="__codelineno-71-9" href="#__codelineno-71-9"></a>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Exiting the context&quot;</span><span class="p">)</span>
</span><span id="__span-71-10"><a id="__codelineno-71-10" name="__codelineno-71-10" href="#__codelineno-71-10"></a>        <span class="k">return</span> <span class="kc">True</span>  <span class="c1"># 抑制异常</span>
</span><span id="__span-71-11"><a id="__codelineno-71-11" name="__codelineno-71-11" href="#__codelineno-71-11"></a>
</span><span id="__span-71-12"><a id="__codelineno-71-12" name="__codelineno-71-12" href="#__codelineno-71-12"></a><span class="c1"># 使用自定义上下文管理器</span>
</span><span id="__span-71-13"><a id="__codelineno-71-13" name="__codelineno-71-13" href="#__codelineno-71-13"></a><span class="k">with</span> <span class="n">MyContextManager</span><span class="p">()</span> <span class="k">as</span> <span class="n">manager</span><span class="p">:</span>
</span><span id="__span-71-14"><a id="__codelineno-71-14" name="__codelineno-71-14" href="#__codelineno-71-14"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Inside the context&quot;</span><span class="p">)</span>
</span><span id="__span-71-15"><a id="__codelineno-71-15" name="__codelineno-71-15" href="#__codelineno-71-15"></a>    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Something went wrong&quot;</span><span class="p">)</span>
</span></code></pre></div>
<p>输出：
<div class="language-text highlight"><pre><span></span><code><span id="__span-72-1"><a id="__codelineno-72-1" name="__codelineno-72-1" href="#__codelineno-72-1"></a>Entering the context
</span><span id="__span-72-2"><a id="__codelineno-72-2" name="__codelineno-72-2" href="#__codelineno-72-2"></a>Inside the context
</span><span id="__span-72-3"><a id="__codelineno-72-3" name="__codelineno-72-3" href="#__codelineno-72-3"></a>An exception occurred: Something went wrong
</span><span id="__span-72-4"><a id="__codelineno-72-4" name="__codelineno-72-4" href="#__codelineno-72-4"></a>Exiting the context
</span></code></pre></div></p>
<p>由于 <code>__exit__()</code> 方法返回了 <code>True</code>，<code>ValueError</code> 异常被抑制，程序不会崩溃。</p>
<h4 id="5-contextlib">5. 使用 <code>contextlib</code> 简化上下文管理器<a class="headerlink" href="#5-contextlib" title="Permanent link">&para;</a></h4>
<p>Python 提供了 <code>contextlib</code> 模块，可以用装饰器或生成器的方式简化上下文管理器的创建。</p>
<h5 id="contextlibcontextmanager">使用 <code>contextlib.contextmanager</code> 装饰器<a class="headerlink" href="#contextlibcontextmanager" title="Permanent link">&para;</a></h5>
<p>你可以用 <code>@contextmanager</code> 装饰器将一个生成器函数转换为上下文管理器。</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-73-1"><a id="__codelineno-73-1" name="__codelineno-73-1" href="#__codelineno-73-1"></a><span class="kn">from</span> <span class="nn">contextlib</span> <span class="kn">import</span> <span class="n">contextmanager</span>
</span><span id="__span-73-2"><a id="__codelineno-73-2" name="__codelineno-73-2" href="#__codelineno-73-2"></a>
</span><span id="__span-73-3"><a id="__codelineno-73-3" name="__codelineno-73-3" href="#__codelineno-73-3"></a><span class="nd">@contextmanager</span>
</span><span id="__span-73-4"><a id="__codelineno-73-4" name="__codelineno-73-4" href="#__codelineno-73-4"></a><span class="k">def</span> <span class="nf">my_context_manager</span><span class="p">():</span>
</span><span id="__span-73-5"><a id="__codelineno-73-5" name="__codelineno-73-5" href="#__codelineno-73-5"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Entering the context&quot;</span><span class="p">)</span>
</span><span id="__span-73-6"><a id="__codelineno-73-6" name="__codelineno-73-6" href="#__codelineno-73-6"></a>    <span class="k">yield</span>
</span><span id="__span-73-7"><a id="__codelineno-73-7" name="__codelineno-73-7" href="#__codelineno-73-7"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Exiting the context&quot;</span><span class="p">)</span>
</span><span id="__span-73-8"><a id="__codelineno-73-8" name="__codelineno-73-8" href="#__codelineno-73-8"></a>
</span><span id="__span-73-9"><a id="__codelineno-73-9" name="__codelineno-73-9" href="#__codelineno-73-9"></a><span class="k">with</span> <span class="n">my_context_manager</span><span class="p">():</span>
</span><span id="__span-73-10"><a id="__codelineno-73-10" name="__codelineno-73-10" href="#__codelineno-73-10"></a>    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Inside the context&quot;</span><span class="p">)</span>
</span></code></pre></div>
<p>输出：
<div class="language-text highlight"><pre><span></span><code><span id="__span-74-1"><a id="__codelineno-74-1" name="__codelineno-74-1" href="#__codelineno-74-1"></a>Entering the context
</span><span id="__span-74-2"><a id="__codelineno-74-2" name="__codelineno-74-2" href="#__codelineno-74-2"></a>Inside the context
</span><span id="__span-74-3"><a id="__codelineno-74-3" name="__codelineno-74-3" href="#__codelineno-74-3"></a>Exiting the context
</span></code></pre></div></p>
<h4 id="6_4">6. 常见的上下文管理器应用<a class="headerlink" href="#6_4" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>文件操作</strong>：自动管理文件的打开和关闭。</li>
<li><strong>线程锁</strong>：自动管理锁的获取和释放。</li>
<li><strong>数据库连接</strong>：自动管理数据库连接的开启和关闭。</li>
</ul>
<h3 id="_66">总结<a class="headerlink" href="#_66" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>上下文管理器</strong> 通过实现 <code>__enter__()</code> 和 <code>__exit__()</code> 方法来管理资源。</li>
<li><strong><code>with</code> 语句</strong> 用于简化上下文管理器的使用，确保资源被正确释放。</li>
<li>你可以自定义上下文管理器，也可以使用 <code>contextlib</code> 模块来简化上下文管理器的实现。</li>
</ul>
<h2 id="python_9">python 代码优化<a class="headerlink" href="#python_9" title="Permanent link">&para;</a></h2>
<p>Profiling 是分析程序性能的一种技术，主要用于确定代码中的性能瓶颈、函数调用的频率和耗时等信息。通过 Profiling，你可以了解哪些部分的代码占用了较多的 CPU 时间或内存，从而有针对性地进行优化。</p>
<h3 id="profiling">一、Profiling 的类型<a class="headerlink" href="#profiling" title="Permanent link">&para;</a></h3>
<p>Profiling 工具主要有以下几种：</p>
<ol>
<li><strong>CPU Profiling</strong>：分析代码执行时各个函数的 CPU 时间，找出耗时最长的部分。</li>
<li><strong>Memory Profiling</strong>：分析代码中各个部分的内存使用情况，找出可能导致内存泄漏或高内存消耗的部分。</li>
<li><strong>Line Profiling</strong>：逐行分析代码，了解每一行代码的执行时间和内存使用情况。</li>
</ol>
<h3 id="python-profiling">二、Python 中的 Profiling 工具<a class="headerlink" href="#python-profiling" title="Permanent link">&para;</a></h3>
<p>Python 提供了多种 Profiling 工具，常用的有 <code>cProfile</code>、<code>line_profiler</code>、<code>memory_profiler</code> 等。</p>
<h4 id="1-cprofile">1. cProfile<a class="headerlink" href="#1-cprofile" title="Permanent link">&para;</a></h4>
<p><code>cProfile</code> 是 Python 内置的一个 CPU Profiler，用于分析程序各个函数的调用次数和耗时。</p>
<h5 id="_67">使用方法<a class="headerlink" href="#_67" title="Permanent link">&para;</a></h5>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-75-1"><a id="__codelineno-75-1" name="__codelineno-75-1" href="#__codelineno-75-1"></a>python<span class="w"> </span>-m<span class="w"> </span>cProfile<span class="w"> </span>-s<span class="w"> </span>cumulative<span class="w"> </span>your_script.py
</span></code></pre></div>
<ul>
<li><code>-s cumulative</code>：按照累计时间排序函数调用，方便找出最耗时的函数。</li>
</ul>
<h5 id="_68">输出示例<a class="headerlink" href="#_68" title="Permanent link">&para;</a></h5>
<div class="language-text highlight"><pre><span></span><code><span id="__span-76-1"><a id="__codelineno-76-1" name="__codelineno-76-1" href="#__codelineno-76-1"></a>   ncalls  tottime  percall  cumtime  percall filename:lineno(function)
</span><span id="__span-76-2"><a id="__codelineno-76-2" name="__codelineno-76-2" href="#__codelineno-76-2"></a>        1    0.000    0.000    1.230    1.230 your_script.py:1(&lt;module&gt;)
</span><span id="__span-76-3"><a id="__codelineno-76-3" name="__codelineno-76-3" href="#__codelineno-76-3"></a>    10000    0.530    0.000    0.530    0.000 your_script.py:2(func1)
</span><span id="__span-76-4"><a id="__codelineno-76-4" name="__codelineno-76-4" href="#__codelineno-76-4"></a>    10000    0.700    0.000    0.700    0.000 your_script.py:3(func2)
</span></code></pre></div>
<ul>
<li><code>ncalls</code>：函数调用的次数。</li>
<li><code>tottime</code>：函数本身的耗时，不包括调用的子函数。</li>
<li><code>cumtime</code>：函数的累计耗时，包括子函数调用的时间。</li>
</ul>
<h5 id="_69">分析结果<a class="headerlink" href="#_69" title="Permanent link">&para;</a></h5>
<ul>
<li><code>cumtime</code> 是关键字段，用于找出最耗时的函数。</li>
<li>结合 <code>ncalls</code>，可以判断函数是否被频繁调用而导致高耗时。</li>
</ul>
<h4 id="2-line_profiler">2. line_profiler<a class="headerlink" href="#2-line_profiler" title="Permanent link">&para;</a></h4>
<p><code>line_profiler</code> 是一个逐行分析 Python 代码执行时间的工具。它可以帮你了解代码中的哪些具体代码行最耗时。</p>
<h5 id="_70">安装<a class="headerlink" href="#_70" title="Permanent link">&para;</a></h5>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-77-1"><a id="__codelineno-77-1" name="__codelineno-77-1" href="#__codelineno-77-1"></a>pip<span class="w"> </span>install<span class="w"> </span>line_profiler
</span></code></pre></div>
<h5 id="_71">使用方法<a class="headerlink" href="#_71" title="Permanent link">&para;</a></h5>
<p>首先，在需要分析的函数上加上 <code>@profile</code> 装饰器。</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-78-1"><a id="__codelineno-78-1" name="__codelineno-78-1" href="#__codelineno-78-1"></a><span class="nd">@profile</span>
</span><span id="__span-78-2"><a id="__codelineno-78-2" name="__codelineno-78-2" href="#__codelineno-78-2"></a><span class="k">def</span> <span class="nf">your_function</span><span class="p">():</span>
</span><span id="__span-78-3"><a id="__codelineno-78-3" name="__codelineno-78-3" href="#__codelineno-78-3"></a>    <span class="c1"># Your code here</span>
</span></code></pre></div>
<p>然后使用 <code>kernprof</code> 运行脚本：</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-79-1"><a id="__codelineno-79-1" name="__codelineno-79-1" href="#__codelineno-79-1"></a>kernprof<span class="w"> </span>-l<span class="w"> </span>-v<span class="w"> </span>your_script.py
</span></code></pre></div>
<h5 id="_72">输出示例<a class="headerlink" href="#_72" title="Permanent link">&para;</a></h5>
<div class="language-text highlight"><pre><span></span><code><span id="__span-80-1"><a id="__codelineno-80-1" name="__codelineno-80-1" href="#__codelineno-80-1"></a>Timer unit: 1e-06 s
</span><span id="__span-80-2"><a id="__codelineno-80-2" name="__codelineno-80-2" href="#__codelineno-80-2"></a>
</span><span id="__span-80-3"><a id="__codelineno-80-3" name="__codelineno-80-3" href="#__codelineno-80-3"></a>Total time: 0.000436 s
</span><span id="__span-80-4"><a id="__codelineno-80-4" name="__codelineno-80-4" href="#__codelineno-80-4"></a>File: your_script.py
</span><span id="__span-80-5"><a id="__codelineno-80-5" name="__codelineno-80-5" href="#__codelineno-80-5"></a>Function: your_function at line 1
</span><span id="__span-80-6"><a id="__codelineno-80-6" name="__codelineno-80-6" href="#__codelineno-80-6"></a>
</span><span id="__span-80-7"><a id="__codelineno-80-7" name="__codelineno-80-7" href="#__codelineno-80-7"></a>Line #      Hits         Time  Per Hit   % Time  Line Contents
</span><span id="__span-80-8"><a id="__codelineno-80-8" name="__codelineno-80-8" href="#__codelineno-80-8"></a>==============================================================
</span><span id="__span-80-9"><a id="__codelineno-80-9" name="__codelineno-80-9" href="#__codelineno-80-9"></a>     1                                           @profile
</span><span id="__span-80-10"><a id="__codelineno-80-10" name="__codelineno-80-10" href="#__codelineno-80-10"></a>     2                                           def your_function():
</span><span id="__span-80-11"><a id="__codelineno-80-11" name="__codelineno-80-11" href="#__codelineno-80-11"></a>     3         1          50.0     50.0     11.5      result = []
</span><span id="__span-80-12"><a id="__codelineno-80-12" name="__codelineno-80-12" href="#__codelineno-80-12"></a>     4        10         175.0     17.5     40.1      for i in range(10):
</span><span id="__span-80-13"><a id="__codelineno-80-13" name="__codelineno-80-13" href="#__codelineno-80-13"></a>     5        10         211.0     21.1     48.4          result.append(i)
</span></code></pre></div>
<ul>
<li><code>Time</code>：每一行代码的总耗时。</li>
<li><code>% Time</code>：该行代码在整个函数执行时间中占的百分比。</li>
</ul>
<h5 id="_73">分析结果<a class="headerlink" href="#_73" title="Permanent link">&para;</a></h5>
<ul>
<li>通过 <code>Time</code> 和 <code>% Time</code> 字段，可以找出代码中最耗时的具体行。</li>
<li><code>line_profiler</code> 特别适合优化复杂算法和循环操作。</li>
</ul>
<h4 id="3-memory_profiler">3. memory_profiler<a class="headerlink" href="#3-memory_profiler" title="Permanent link">&para;</a></h4>
<p><code>memory_profiler</code> 是用于逐行分析 Python 代码内存使用情况的工具。</p>
<h5 id="_74">安装<a class="headerlink" href="#_74" title="Permanent link">&para;</a></h5>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-81-1"><a id="__codelineno-81-1" name="__codelineno-81-1" href="#__codelineno-81-1"></a>pip<span class="w"> </span>install<span class="w"> </span>memory_profiler
</span></code></pre></div>
<h5 id="_75">使用方法<a class="headerlink" href="#_75" title="Permanent link">&para;</a></h5>
<p>与 <code>line_profiler</code> 类似，在需要分析的函数上加上 <code>@profile</code> 装饰器。</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-82-1"><a id="__codelineno-82-1" name="__codelineno-82-1" href="#__codelineno-82-1"></a><span class="nd">@profile</span>
</span><span id="__span-82-2"><a id="__codelineno-82-2" name="__codelineno-82-2" href="#__codelineno-82-2"></a><span class="k">def</span> <span class="nf">your_function</span><span class="p">():</span>
</span><span id="__span-82-3"><a id="__codelineno-82-3" name="__codelineno-82-3" href="#__codelineno-82-3"></a>    <span class="c1"># Your code here</span>
</span></code></pre></div>
<p>然后运行脚本：</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-83-1"><a id="__codelineno-83-1" name="__codelineno-83-1" href="#__codelineno-83-1"></a>python<span class="w"> </span>-m<span class="w"> </span>memory_profiler<span class="w"> </span>your_script.py
</span></code></pre></div>
<h5 id="_76">输出示例<a class="headerlink" href="#_76" title="Permanent link">&para;</a></h5>
<div class="language-text highlight"><pre><span></span><code><span id="__span-84-1"><a id="__codelineno-84-1" name="__codelineno-84-1" href="#__codelineno-84-1"></a>Line #    Mem usage    Increment   Line Contents
</span><span id="__span-84-2"><a id="__codelineno-84-2" name="__codelineno-84-2" href="#__codelineno-84-2"></a>================================================
</span><span id="__span-84-3"><a id="__codelineno-84-3" name="__codelineno-84-3" href="#__codelineno-84-3"></a>     2     10.000 MiB     0.000 MiB   @profile
</span><span id="__span-84-4"><a id="__codelineno-84-4" name="__codelineno-84-4" href="#__codelineno-84-4"></a>     3     10.000 MiB     0.000 MiB   def your_function():
</span><span id="__span-84-5"><a id="__codelineno-84-5" name="__codelineno-84-5" href="#__codelineno-84-5"></a>     4     10.125 MiB     0.125 MiB       result = []
</span><span id="__span-84-6"><a id="__codelineno-84-6" name="__codelineno-84-6" href="#__codelineno-84-6"></a>     5     10.125 MiB     0.000 MiB       for i in range(100):
</span><span id="__span-84-7"><a id="__codelineno-84-7" name="__codelineno-84-7" href="#__codelineno-84-7"></a>     6     10.375 MiB     0.250 MiB           result.append(i)
</span></code></pre></div>
<ul>
<li><code>Mem usage</code>：当前行代码执行后的内存使用量。</li>
<li><code>Increment</code>：当前行代码相对于前一行的内存增量。</li>
</ul>
<h5 id="_77">分析结果<a class="headerlink" href="#_77" title="Permanent link">&para;</a></h5>
<ul>
<li>通过 <code>Mem usage</code> 和 <code>Increment</code> 字段，可以定位代码中的内存使用热点。</li>
<li>有助于发现内存泄漏或优化内存使用。</li>
</ul>
<h3 id="profiling_1">三、如何解读 Profiling 结果<a class="headerlink" href="#profiling_1" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>确定性能瓶颈</strong>：通过 <code>cProfile</code> 和 <code>line_profiler</code>，找出占用 CPU 时间最多的函数或代码行。</li>
<li><strong>优化内存使用</strong>：通过 <code>memory_profiler</code> 分析，找出高内存消耗的代码部分，考虑优化数据结构或释放不必要的内存。</li>
<li><strong>避免过度优化</strong>：不要仅凭 Profiling 数据进行过度优化，优化过程中应权衡代码的可读性和维护性。</li>
<li><strong>反复测试</strong>：每次优化后都应重新 Profiling，以验证优化效果，并防止新的瓶颈出现。</li>
</ol>
<h3 id="_78">四、总结<a class="headerlink" href="#_78" title="Permanent link">&para;</a></h3>
<p>Profiling 是 Python 代码优化的重要工具，<code>cProfile</code>、<code>line_profiler</code> 和 <code>memory_profiler</code> 可以帮助你全面分析代码的性能和内存使用情况。通过合理使用 Profiling 工具，你可以有效地找出性能瓶颈和内存热点，进而优化代码，提升程序的整体效率。</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="页脚" >
        
          
          <a href="../../datastruct/" class="md-footer__link md-footer__link--prev" aria-label="上一页: 数据结构和算法">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                上一页
              </span>
              <div class="md-ellipsis">
                数据结构和算法
              </div>
            </div>
          </a>
        
        
          
          <a href="../numpy/" class="md-footer__link md-footer__link--next" aria-label="下一页: numpy面试">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                下一页
              </span>
              <div class="md-ellipsis">
                numpy面试
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tracking", "navigation.tabs", "content.code.copy", "content.code.annotate", "search.highlight", "search.suggest", "navigation.instant.prefetch", "navigation.instant.progress", "navigation.expand", "navigation.instant", "navigation.tabs.sticky", "navigation.footer", "toc.follow"], "search": "../../../assets/javascripts/workers/search.07f07601.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.56dfad97.min.js"></script>
      
    
  </body>
</html>